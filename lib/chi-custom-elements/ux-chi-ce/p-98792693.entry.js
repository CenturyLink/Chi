import{r as s,c as i,h as t,g as o}from"./p-99c091ba.js";import{A as r,C as c,T as e,D as a,E as n,I as h,L as d}from"./p-0a178b06.js";import{A as l}from"./p-1ef4f618.js";import{j as g}from"./p-834de5c7.js";import{a as f}from"./p-f0aa53ea.js";const u=class{constructor(t){s(this,t),this.chiAccordionShow=i(this,"chiAccordionShow",7),this.chiAccordionHide=i(this,"chiAccordionHide",7),this.chiAccordionsChanged=i(this,"chiAccordionsChanged",7),this.size="md",this.card=!1,this.portal=!1,this.truncated=!1,this.accordions=[],this.type="base"}connectedCallback(){f.call(this)}async show(s){this.updateItems(s,!0)}async hide(s){this.updateItems(s,!1)}async toggle(s){this.updateItems(s,null,!0)}sizeValidation(s){const i=l.join(", ");if(!l.includes(s))throw new Error(`${s} is not a valid size for accordion. If provided, valid values are: ${i}. `);if("sm"===s&&this.card)throw new Error("sm is not a valid size for card accordion")}updateItems(s,i=!0,t=!1){const o=this.accordions.map((s=>Object.assign({},s)));void 0===s?s=o.map(((s,i)=>i)):Array.isArray(s)||(s=[s]),s.forEach((s=>o[s].expanded=t?!o[s].expanded:i)),JSON.stringify(o)!==JSON.stringify(this.accordions)&&(this.accordions=o,this.chiAccordionsChanged.emit(this.accordions))}_isLink(){return"link"===this.type}toggleAccordion(s){this.toggle(s),(this.accordions[s].expanded?this.chiAccordionShow:this.chiAccordionHide).emit(this.accordions[s])}getAccordionClasses(){return g([r.ACCORDION,`-${this.size}`,this.card&&c,this.truncated&&e,this._isLink()&&r.LINK])}getChevronIcon(){return t("i",{class:`${h} icon-chevron-down`,"aria-hidden":"true"})}getAccordionTrigger(s,i){const o=g([r.TRIGGER,s.disabled&&a]);return t("button",{class:o,onClick:()=>this.toggleAccordion(i)},this.getAccordionTriggerContent(s))}getAccordionTriggerContent(s){const i=this._isLink(),o=t("div",{class:i?`${d.LINK} ${d.NO_UNDERLINE}`:r.TITLE},s.title),c=!this.portal||this.card,e=[this.getChevronIcon(),o];return c&&!i||e.reverse(),e}getAccordionContent(s){const i=s.template?t("slot",{name:s.template}):t("p",{class:r.TEXT},s.text);return t("div",{class:r.CONTENT},i)}getAccordionItem(s,i){const o=g([r.ITEM,s.expanded&&!s.disabled&&n]),c=this.getAccordionTrigger(s,i);return t("div",{class:o},c,this.getAccordionContent(s))}render(){var s;return t("div",{key:"f6d0866189c5d03037aee2420f82c2fe7d7f2ad6",class:this.getAccordionClasses()},...null===(s=this.accordions)||void 0===s?void 0:s.map(((s,i)=>this.getAccordionItem(s,i))))}get el(){return o(this)}static get watchers(){return{size:["sizeValidation"]}}};export{u as chi_accordion}