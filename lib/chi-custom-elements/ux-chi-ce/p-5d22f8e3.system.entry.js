var __awaiter=this&&this.__awaiter||function(t,i,n,r){function s(t){return t instanceof n?t:new n((function(i){i(t)}))}return new(n||(n=Promise))((function(n,e){function u(t){try{h(r.next(t))}catch(t){e(t)}}function o(t){try{h(r["throw"](t))}catch(t){e(t)}}function h(t){t.done?n(t.value):s(t.value).then(u,o)}h((r=r.apply(t,i||[])).next())}))};var __generator=this&&this.__generator||function(t,i){var n={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},r,s,e,u;return u={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function o(t){return function(i){return h([t,i])}}function h(o){if(r)throw new TypeError("Generator is already executing.");while(u&&(u=0,o[0]&&(n=0)),n)try{if(r=1,s&&(e=o[0]&2?s["return"]:o[0]?s["throw"]||((e=s["return"])&&e.call(s),0):s.next)&&!(e=e.call(s,o[1])).done)return e;if(s=0,e)o=[o[0]&2,e.value];switch(o[0]){case 0:case 1:e=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;s=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(e=n.trys,e=e.length>0&&e[e.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!e||o[1]>e[0]&&o[1]<e[3])){n.label=o[1];break}if(o[0]===6&&n.label<e[1]){n.label=e[1];e=o;break}if(e&&n.label<e[2]){n.label=e[2];n.ops.push(o);break}if(e[2])n.ops.pop();n.trys.pop();continue}o=i.call(t,n)}catch(t){o=[6,t];s=0}finally{r=e=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(t,i,n){if(n||arguments.length===2)for(var r=0,s=i.length,e;r<s;r++){if(e||!(r in i)){if(!e)e=Array.prototype.slice.call(i,0,r);e[r]=i[r]}}return t.concat(e||Array.prototype.slice.call(i))};System.register(["./p-c5e4b882.system.js","./p-1e09ecde.system.js","./p-1350fb0c.system.js","./p-cad0aed6.system.js","./p-d77ff413.system.js","./p-2f867cd7.system.js","./p-bdc484a7.system.js"],(function(t){"use strict";var i,n,r,s,e,u,o,h,f,a,c,l,v,d,b,w,p,y,m,g,_;return{setters:[function(t){i=t.r;n=t.c;r=t.h;s=t.H;e=t.g},function(t){u=t.w;o=t.c;h=t.U;f=t.n;a=t.D;c=t.l;l=t.x;v=t.I;d=t.G},function(t){b=t.T;w=t.A},function(t){p=t.T;y=t.a},function(t){m=t.T},function(t){g=t.T},function(t){_=t.v}],execute:function(){var j=function(){function t(){}t.deepEqual=function(t,i){if(typeof t!==typeof i){return false}if(t===null||t===undefined||i===null||i===undefined){return t===i}if(typeof t==="object"){if(Object.keys(t).length!==Object.keys(i).length){return false}for(var n in t){if(!this.deepEqual(t[n],i[n])){return false}}return true}else{return t===i}};t.isEmpty=function(t){var i=this;return Array.isArray(t)&&this.isEmptyArray(t)||!this.hasProperties(t)||!Object.keys(t).some((function(n){if(Array.isArray(t[n])){return t[n].length>0}else if(t[n]===Object(t[n])){return!i.isEmpty(t[n])}else{return t[n]!==null&&t[n]!==undefined&&t[n]!==""}}))};t.isEmptyArray=function(t){if(t===void 0){t=[]}return!t||t.length===0};t.hasProperties=function(t){for(var i in t){return!!i}return false};return t}();var k="chi-tabs.sc-chi-tabs-h{display:block}";var O=k;var A=24;var T=32;var x=t("chi_tabs",function(){function t(t){var r=this;i(this,t);this.chiTabChange=n(this,"chiTabChange",7);this.activeTab="";this.slidingBorder=false;this.border=false;this.solid=false;this.vertical=false;this.size="md";this.seeMoreMessage=b;this.inverse=false;this.extraClass="";this.sliding=false;this.isSeeMoreActive=false;this.isSeeMoreVisible=false;this.isSeeMoreTriggerMeasured=false;this.currentTabs=[];this.activePanel="";this.activeTabElement=null;this.availableSpace=0;this.dropdownKey=0;this.slidingBorderElement=null;this.lisArrayLength=0;this.liSizes={};this.seeMoreTriggerElementWidth=0;this.uuid4=_();this.seeMoreTriggerId="see-more-trigger-".concat(this.uuid4);this.dropdownKeys={};this.handlerClickSeeMore=function(t){t.preventDefault();r.isSeeMoreActive=!r.isSeeMoreActive;if(!r.seeMoreDropdown){var i=document.getElementById("".concat(r.uuid4,"-see-more-dropdown"));r.seeMoreDropdown=i}r.seeMoreDropdown.toggle()};this.handlerResize=function(){r._setSeeMoreTriggerElement();r.setAvailableSpace();r.setListOverflow();r.activeTabElement=r.getActiveTabTrigger();r.setSlidingBorderStyles();r.hideAllDropdowns()};this.handlerTabMouseEnter=function(t){r.hideInactiveDropdowns(t);if(!t.children||t.disabled)return;r.dropdownKeys[t.id]+=1;var i=r.getSubLevelDropdown(t.id);if(i){i.show()}};this.handlerMouseLeave=function(t,i){var n=i?f.MENU:f.MENU_ITEM;var s=Array.from(document.getElementsByClassName(n));var e=s.some((function(i){return i===t.relatedTarget}));if(!e){r.hideAllDropdowns()}};this.liMarginLeft=this.size==="lg"?T:A}t.prototype.sizeValidation=function(t){var i=m.join(", ");if(t&&!m.includes(t)){throw new Error("".concat(t," is not a valid size for tabs. Valid values are: ").concat(i,". "))}};t.prototype.setTabs=function(t,i){if(!j.deepEqual(t,i)){this.currentTabs=t||[]}};t.prototype.activeTabChanged=function(t){this.activeTabValidation();var i=this.tabs.find((function(i){return i.id===t}));var n=this.el.querySelector("#".concat(t));if(!i){var r=this.findParentTab(this.tabs,t);if(!r){throw new Error("Tried to set active-tab with id '".concat(t,"' but it was not found"))}i={id:t};n=this.el.querySelector("li#".concat(r.id," a"))}this.changeTab(i,n);this.chiTabChange.emit(i)};t.prototype.componentWillLoad=function(){this.sizeValidation(this.size);this.activeTabValidation()};t.prototype.connectedCallback=function(){var t;this.currentTabs=(t=this.tabs)!==null&&t!==void 0?t:[]};t.prototype.componentDidLoad=function(){if(!this.vertical){this.setAvailableSpace();this.setLiSizes();this.seeMoreTriggerElementWidth=this.calculateSize(this.seeMoreTriggerElement,p.Width)+(this.solid?0:this.liMarginLeft);this.isSeeMoreTriggerMeasured=true;this.activeTabElement=this.getActiveTabTrigger();this.setSlidingBorderStyles();window.addEventListener("resize",this.handlerResize)}this.setActivePanelId(this.currentTabs);this.activatePanel(this.activePanel)};t.prototype.componentDidUpdate=function(){this.setAvailableSpace();this.setLiSizes()};t.prototype.disconnectedCallback=function(){window.removeEventListener("resize",this.handlerResize)};t.prototype.activeTabValidation=function(){var t=this.findTab(this.tabs,this.activeTab);if(t&&t.disabled){throw new Error("Disabled tab (#".concat(t.id,") cannot be set as active"))}};t.prototype.activateTab=function(t,i){this.activeTab=t.id;this.activeTabElement=i};t.prototype.setActivePanelId=function(t){var i=this;t.forEach((function(t){if(t.id===(i===null||i===void 0?void 0:i.activeTab)){i.activePanel=t.id}else if(t.children){i.setActivePanelId(t.children)}}))};t.prototype.activatePanel=function(t){var i,n;if(!t)return;(i=this.el.querySelector(".".concat(u.PANEL,".").concat(o)))===null||i===void 0?void 0:i.classList.remove(o);(n=this.el.querySelector(".".concat(u.PANEL,"#").concat(t)))===null||n===void 0?void 0:n.classList.add(o)};t.prototype.calculateSize=function(t,i){return t?t.getBoundingClientRect()[i]:0};t.prototype.setParentTabActive=function(t){var i=t.parent?t.parent.id:t.id;var n=document.getElementById(i);n.classList.add(o);if(t.parent){this.setParentTabActive(t.parent)}};t.prototype.findParentTab=function(t,i){var n=this;return t===null||t===void 0?void 0:t.find((function(t){if(t.id===i)return t;if(t.children&&n.findParentTab(t.children,i)){return t}}))};t.prototype.findTab=function(t,i){var n=this;return t===null||t===void 0?void 0:t.find((function(t){return t.id===i?t:n.findTab(t.children,i)}))};t.prototype.removeActiveItems=function(){Object.keys(this.dropdownKeys).forEach((function(t){var i=document.getElementById(t);if(i&&i.classList.contains(o)){i.classList.remove(o)}}))};t.prototype.createDropdowns=function(t,i,n){var r=this;var s=[];t.forEach((function(t){var e=i===0;var u=e?t.id:n;if(t.children&&t.children.length>0&&!t.disabled){r.dropdownKeys[t.id]=0;s.push(r.getDropdown(t,e,u));s.push.apply(s,r.createDropdowns(t.children,i+1,u))}}));return s};t.prototype.getDropdown=function(t,i,n){return r("chi-dropdown",{id:"subLevelDropdown-".concat(t.id),position:i?"bottom-start":"right-start",reference:"#".concat(t.id),"visible-items":t.visibleItems,key:"".concat(t.id,"-").concat(this.dropdownKey)},this.getDropdownMenuItems(t,n))};t.prototype.getDropdownMenuItems=function(t,i){var n=this;return t.children.map((function(r){r.parent=t;return n.getDropdownMenuItem(r,(function(s){return n.onDropdownMenuItemClick(s,t,r,i)}),h.JUSTIFY.BETWEEN)}))};t.prototype.getDropdownMenuItem=function(t,i,n){var s=this;if(n===void 0){n=""}return r("a",{class:"".concat(f.MENU_ITEM," \n          ").concat(n," \n          ").concat(this._isActiveTab(t)?o:"","\n          ").concat(t.disabled?a:"","\n        "),id:t.id,href:this.getTabHref(t),target:this.getTabHrefTarget(t),onMouseEnter:function(){return s.handlerTabMouseEnter(t)},onMouseLeave:function(t){return s.handlerMouseLeave(t)},onClick:function(t){return i(t)},innerHTML:t.label,slot:"menu"},t.children&&t.children.length>0&&this.dropdownIcon("right"))};t.prototype.onDropdownMenuItemClick=function(t,i,n,r){var s=this.getSubLevelDropdown(i.id);var e=this.el.querySelector("li#".concat(r," a"));this.handlerClickTab(t,n,e);this.isSeeMoreActive=false;if(s){this.setParentTabActive(n);s.hide()}};t.prototype.getActiveTabTrigger=function(){return this.el.querySelector("li.".concat(o))};t.prototype.getSubLevelDropdown=function(t){return this.el.querySelector("chi-dropdown#subLevelDropdown-".concat(t))};t.prototype.getTabHref=function(t){var i;var n=t.href||"#".concat(t.id);if((i=t.href)===null||i===void 0?void 0:i.startsWith("www.")){n="//"+n}return n};t.prototype.getTabHrefTarget=function(t){var i=t.target||"";if(!this.isTabInternalLink(t)&&!i){i="_blank"}return i};t.prototype.isTabInternalLink=function(t){return!t.href||t.href.startsWith("#")};t.prototype.getPosition=function(t){var i=window.getComputedStyle(t);var n=i.getPropertyValue("margin-top");var r=i.getPropertyValue("margin-left");return{left:t.offsetLeft-parseInt(r),top:t.offsetTop-parseInt(n)}};t.prototype.handlerClickTab=function(t,i,n){if(this.isTabInternalLink(i)||i.disabled){t.preventDefault()}if(i.disabled)return;if(this.animation&&!this.animation.isStopped()){this.animation.stop()}var r=n||t.target;if(this.slidingBorder){this.setAnimation(r)}this.changeTab(i,r)};t.prototype.changeTab=function(t,i){this.removeActiveItems();this.activateTab(t,i);this.activatePanel(t.id)};t.prototype.setAnimation=function(t){var i=this;var n=this.getPosition(t);this.animation=g.animationFactory((function(){i.sliding=true}),(function(){var r=i.getSlidingBorderAnimationStyle();var s=i.calculateSize(t,r.dimension);i.slidingBorderElement.style[r.direction]="".concat(n[r.direction],"px");i.slidingBorderElement.style[r.dimension]="".concat(s,"px")}),(function(){i.slidingBorderElement.style.width="";i.sliding=false}),w.MEDIUM)};t.prototype.getSlidingBorderAnimationStyle=function(){return this.vertical?{dimension:p.Height,direction:y.Top}:{dimension:p.Width,direction:y.Left}};t.prototype.getParentIds=function(t){var i=[];var n=function(t){if(t.parent){i.push(t.parent.id);n(t.parent)}};n(t);return i};t.prototype.hideInactiveDropdowns=function(t){var i=this.getParentIds(t);var n=__spreadArray(__spreadArray([],i,true),[t.id],false);var r=Object.keys(this.dropdownKeys).filter((function(t){return!n.includes(t)}));this.hideSelectedDropdowns(r)};t.prototype.hideDropdown=function(){this.isSeeMoreActive=false};t.prototype._isActiveTab=function(t){var i=this;var n=t.id===this.activeTab;if(!n&&t.children){n=t.children.some((function(t){return i._isActiveTab(t)}))}return!t.disabled&&n};t.prototype.isActiveTabOverflown=function(t){var i=this;return t.some((function(t){return i._isActiveTab(t)&&!!t.overflow}))};t.prototype._setSeeMoreTriggerElement=function(){if(!this.seeMoreTriggerElement){var t=document.getElementById(this.seeMoreTriggerId);this.seeMoreTriggerElement=t}};t.prototype.setAvailableSpace=function(){this.availableSpace=this.calculateSize(this.el,p.Width)};t.prototype.setLiSizes=function(){return __awaiter(this,void 0,void 0,(function(){var t,i;var n=this;return __generator(this,(function(r){switch(r.label){case 0:i=(t=this.ulElement)===null||t===void 0?void 0:t.querySelectorAll("li.".concat(u.TRIGGER));this.lisArrayLength=this.currentTabs.length;return[4,i===null||i===void 0?void 0:i.forEach((function(t,i){n.liSizes[t.dataset.index]=n.calculateSize(t,p.Width)+(i===0||n.solid?0:n.liMarginLeft)}))];case 1:r.sent();this.setListOverflow();return[2]}}))}))};t.prototype.setListOverflow=function(){if(this.vertical){return}var t=this._stringifyTabs(this.currentTabs);var i=0;this.isSeeMoreVisible=false;for(var n=0;n<this.lisArrayLength;n++){var r=n+1===this.lisArrayLength;var s=r?0:this.seeMoreTriggerElementWidth;var e=i+this.liSizes[n]+s<=this.availableSpace;if(!this.isSeeMoreVisible&&e){i+=this.liSizes[n];this.currentTabs[n].overflow=false}else{this.currentTabs[n].overflow=true;this.isSeeMoreVisible=true}}if(this._stringifyTabs(this.currentTabs)!==t){this.dropdownKey+=1}};t.prototype._stringifyTabs=function(t){var i=function(t){var n=t.children,r=t.id,s=t.label,e=t.overflow,u=t.target,o=t.href;return{children:n===null||n===void 0?void 0:n.map(i),id:r,label:s,overflow:e,target:u,href:o}};return JSON.stringify(t.map(i))};t.prototype.setSlidingBorderStyles=function(){if(!this.activeTab){return}var t=this.isActiveTabOverflown(this.currentTabs)?this.seeMoreTriggerElement:this.activeTabElement;var i=this.getPosition(t);this.slidingBorderLeft="".concat(i.left,"px")};t.prototype.hideDropdowns=function(t){var i=this;t.forEach((function(t){var n=i.getSubLevelDropdown(t);if(n){n.hide()}}))};t.prototype.hideAllDropdowns=function(){this.hideDropdowns(Object.keys(this.dropdownKeys))};t.prototype.hideSelectedDropdowns=function(t){this.hideDropdowns(t)};t.prototype.dropdownIcon=function(t){return r("i",{class:"".concat(v," ").concat(h.MARGIN.LEFT[2]," ").concat(h.MARGIN.RIGHT[0]," icon-chevron-").concat(t," ").concat(d.XS),"aria-hidden":"true"})};t.prototype.getTabElements=function(){var t=this;var i;var n=[];(i=this.currentTabs)===null||i===void 0?void 0:i.forEach((function(i,s){if(i.overflow)return;n.push(r("li",{class:"".concat(u.TRIGGER," ").concat(t._isActiveTab(i)?o:""," ").concat(i.disabled?a:""),"data-index":s,id:i.id,onMouseEnter:function(){t.hideAllDropdowns();t.handlerTabMouseEnter(i)}},r("a",{href:t.getTabHref(i),target:t.getTabHrefTarget(i),class:i.children?"-has-child":"",role:"tab","aria-selected":t._isActiveTab(i),"aria-controls":"#".concat(i.id),onClick:function(n){return t.handlerClickTab(n,i)},innerHTML:i.label})))}));return n};t.prototype.getSlidingBorder=function(){var t=this;return this.slidingBorder?r("li",{class:u.SLIDING_BORDER,ref:function(i){return t.slidingBorderElement=i},style:{left:this.slidingBorderLeft}}):null};t.prototype.getSeeMoreTrigger=function(){var t=this;var i=this.isActiveTabOverflown(this.currentTabs)?o:"";return!this.vertical&&(this.isSeeMoreVisible||!this.isSeeMoreTriggerMeasured)&&r("li",{class:"".concat(u.SHOW_MORE," ").concat(i),id:this.seeMoreTriggerId,ref:function(i){return t.seeMoreTriggerElement=i}},r("a",{href:"#seeMore",role:"tab",onClick:function(i){return t.handlerClickSeeMore(i)},ref:function(i){return t.seeMoreTriggerAnchorElement=i}},this.seeMoreMessage))};t.prototype.getOverflowItems=function(){var t=this;return this.currentTabs.filter((function(t){return t.overflow})).map((function(i){return t.getDropdownMenuItem(i,(function(n){t.handlerClickTab(n,i,t.seeMoreTriggerAnchorElement);t.seeMoreDropdown.hide();t.isSeeMoreActive=false}))}))};t.prototype.getDropdowns=function(){var t=this;return this.vertical?[]:__spreadArray([this.isSeeMoreVisible&&r("chi-dropdown",{active:this.isSeeMoreActive,id:"".concat(this.uuid4,"-see-more-dropdown"),key:this.dropdownKey,position:"bottom",reference:"#".concat(this.seeMoreTriggerId),ref:function(i){return t.seeMoreDropdown=i}},this.getOverflowItems())],this.createDropdowns(this.currentTabs,0),true)};t.prototype.getPanels=function(){return r("slot",{name:"panels"})};t.prototype.getListClasses=function(){return[u.TABS,this.slidingBorder&&u.ANIMATE,this.border&&u.BORDER,this.vertical&&u.VERTICAL,this.solid&&u.SOLID,this.sliding&&u.SLIDING,this.size&&"-".concat(this.size),this.inverse&&c,this.extraClass].filter(Boolean).join(" ")};t.prototype.getTabs=function(){var t=this;var i=this.getTabElements();var n=this.getSlidingBorder();var s=this.getSeeMoreTrigger();return r("ul",{class:this.getListClasses(),ref:function(i){t.ulElement=i},onMouseLeave:function(i){return t.handlerMouseLeave(i,true)},role:"tablist"},i,s,n)};t.prototype.getChiGridLayout=function(t,i,n){return r(s,null,r("div",{class:"".concat(l.GRID," ").concat(l.NO_GUTTER)},r("div",{class:l.COL},t,i),n))};t.prototype.render=function(){var t=this.getDropdowns();var i=this.getPanels();var n=this.getTabs();return this.vertical&&this.el.querySelector('[slot="panels"] .chi-tabs-panel')?this.getChiGridLayout(n,t,i):r(s,null,n,t,i)};Object.defineProperty(t.prototype,"el",{get:function(){return e(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{size:["sizeValidation"],tabs:["setTabs"],activeTab:["activeTabChanged"]}},enumerable:false,configurable:true});return t}());x.style=O}}}));