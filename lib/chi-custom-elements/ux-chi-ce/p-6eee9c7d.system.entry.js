System.register(["./p-c5e4b882.system.js","./p-c0916a0e.system.js","./p-3f38a57a.system.js"],(function(i){"use strict";var t,n,s,r,h,e,a,u,f,c;return{setters:[function(i){t=i.r;n=i.c;s=i.h;r=i.g},function(i){h=i.f;e=i.U;a=i.b;u=i.D},function(i){f=i.j;c=i.k}],execute:function(){var o="";var v=o;var l=i("chi_time",function(){function i(i){t(this,i);this.eventChange=n(this,"chiTimeChange",7);this.displaySeconds=false;this.format="12hr";this.excludedHoursArray=[];this.excludedMinutesArray=[];this.excludedSecondsArray=[];this.minutesToDisplay=[];this.secondsToDisplay=[]}i.prototype.componentWillLoad=function(){this.updateTimeSteps();this.validateTimeSteps();this.selectTimeAndPeriod();this.updateExcluded();this.updateValue()};i.prototype.validateTimeSteps=function(){if(this.minutesStep&&!f.includes(this.minutesStep)){throw new Error("Property minutes-step is invalid. Must be one of ".concat(f.join(",")))}if(this.secondsStep&&!f.includes(this.secondsStep)){throw new Error("Property seconds-step is invalid. Must be one of ".concat(f.join(",")))}};i.prototype.timeRange=function(i){if(i===void 0){i=1}return Array.from({length:59/i+1},(function(t,n){return n*i}))};i.prototype.updateExcluded=function(){var i=function(i){if(i===void 0){i=""}return i.split(",").map((function(i){return i.trim()}))};this.excludedHoursArray=i(this._excludedHours);this.excludedMinutesArray=i(this._excludedMinutes);this.excludedSecondsArray=i(this._excludedSeconds)};i.prototype.updateTimeSteps=function(){if(this.stepped||Number.isNaN(this.minutesStep)){this.minutesStep=15}if(this.stepped||Number.isNaN(this.secondsStep)){this.secondsStep=10}this.minutesToDisplay=this.timeRange(this.minutesStep);this.secondsToDisplay=this.timeRange(this.secondsStep)};i.prototype.validateTime=function(i){var t=/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?\s*([AaPp][Mm])?$/.test(i);if(!t){throw new Error('Provided "value" is not valid. Provide a value in the form hh:mm:ss')}return t};i.prototype.formatTimePeriod=function(i){return String(i).padStart(2,"0")};i.prototype.updateValue=function(){var i=[this._hour,this._minute,this._second].join(":");if(this.format==="12hr"&&this._period){i+=" "+this._period}if(i!==this.value){this.value=i;this.emitTimeValueEvent()}};i.prototype.selectTimeAndPeriod=function(){var i=new Date;if(this.value&&this.validateTime(this.value)){var t=(this.value||"").trim().split(" "),n=t[0],s=t[1];var r=n.split(":").map((function(i){return parseInt(i)})),h=r[0],e=r[1],a=r[2];i.setHours(h,e,a||0);if(s){this._period=s.toLocaleLowerCase()}}var u=this.getRoundedTime(i),f=u[0],c=u[1],o=u[2];if(!this._period){this._period=this.format==="12hr"&&parseInt(f)<12?"am":"pm"}this._hour=f;this._minute=c;this._second=o};i.prototype.getRoundedTime=function(i){var t=1e3*60*this.minutesStep;var n=1e3*this.secondsStep;if(!this.minutesToDisplay.includes(i.getMinutes())){i=new Date(Math.ceil(i.getTime()/t)*t)}else if(!this.secondsToDisplay.includes(i.getSeconds())){i=new Date(Math.ceil(i.getTime()/n)*n)}return[i.getHours(),i.getMinutes(),i.getSeconds()].map(this.formatTimePeriod)};i.prototype.hours=function(){var i=this;var t=this.format==="24hr"?24:12;var n=this.format==="24hr"?"00":"12";var r;var f=function(t){if(i.format==="24hr"){r=t==="24"?"00":t}else{if(t==="12"){r=i._period==="am"?"12":t}else{r=i._period==="pm"?String(parseInt(t)+12):t}}i._hour=r;i.value="".concat(r,":").concat(i._minute,":").concat(i._second);i.emitTimeValueEvent()};var c=function(t){var n;var s=parseInt((n=i.value)===null||n===void 0?void 0:n.split(":")[0]);var r="";if(i._hour===t||!(i.format==="24hr")&&i._period==="pm"&&parseInt(t)+12===parseInt(i._hour)||i._period==="am"&&parseInt(t)===12&&s===0){r=a}else{if(i.excludedHoursArray.includes(i.formatTimePeriod(parseInt(t)))||i.excludedHoursArray.includes(i.formatTimePeriod(parseInt(t)+12))){r=u}}return r};var o=[s("div",{"data-hour":n,class:"\n        ".concat(h.HOUR,"\n        ").concat(c(n),"\n        "),onClick:function(){return f(String(t))}},n)];Array.from(Array(t),(function(t,n){var r=i.formatTimePeriod(n);if(n>0){o.push(s("div",{"data-hour":r,class:"\n            ".concat(h.HOUR,"\n            ").concat(c(r),"\n          "),onClick:function(){return f(r)}},r))}}));return s("div",{class:"".concat(h.HOURS," ").concat(e.POSITION.RELATIVE)},o)};i.prototype.getStateClass=function(i,t,n){var s="";if(parseInt(t)===parseInt(i)){s=a}else if(n.includes(i)){s=u}return s};i.prototype.getMinuteElement=function(i){var t=this;return s("div",{class:"\n        ".concat(h.MINUTE,"\n        ").concat(this.getStateClass(i,this._minute,this.excludedMinutesArray),"\n      "),onClick:function(){t._minute=i;t.updateValue()}},i)};i.prototype.minutes=function(){var i=this;return s("div",{class:"".concat(h.MINUTES," ").concat(e.POSITION.RELATIVE)},this.minutesToDisplay.map((function(t){return i.getMinuteElement(i.formatTimePeriod(t))})))};i.prototype.getSecondsElement=function(i){var t=this;return s("div",{class:"\n          ".concat(h.SECOND,"\n          ").concat(this.getStateClass(i,this._second,this.excludedSecondsArray),"\n        "),onClick:function(){t._second=i;t.updateValue()}},i)};i.prototype.seconds=function(){var i=this;return this.displaySeconds?s("div",{class:"".concat(h.SECONDS," ").concat(e.POSITION.RELATIVE)},this.secondsToDisplay.map((function(t){return i.getSecondsElement(i.formatTimePeriod(t))}))):undefined};i.prototype.periods=function(){var i=this;var t;var n=parseInt((t=this.value)===null||t===void 0?void 0:t.split(":")[0]);if(this.format==="12hr"){var r=function(t){var n=h.PERIOD;if(t===i._period){n+=" ".concat(a)}return n};var e=function(t){i._period=t;var s=n;if(t==="am"){if(s>12){s=s-12}if(s===12){s=12}}else if(t==="pm"){if(s<12){s=s+12}if(s===12){s=12}}i.value="".concat(s,":").concat(i._minute,":").concat(i._second);i._hour=i.formatTimePeriod(s);i.emitTimeValueEvent()};return s("div",{class:h.PERIODS},s("div",{class:r("am"),onClick:function(){return e("am")}},"AM"),s("div",{class:r("pm"),onClick:function(){return e("pm")}},"PM"))}return};i.prototype.emitTimeValueEvent=function(){var i={hour:this._hour,minute:this._minute,second:this._second,value:this.value};if(this.format==="12hr"&&this._period){i.period=this._period}this.eventChange.emit(i)};i.prototype.componentDidLoad=function(){var i=this.el.querySelector(".".concat(h.HOURS)),t=this.el.querySelector(".".concat(h.MINUTES)),n=this.el.querySelector(".".concat(h.SECONDS));if(i){var s=i.querySelector(".".concat(h.HOUR,".").concat(a));if(s){i.scrollTop=s.offsetTop-c}}if(t){var r=t.querySelector(".".concat(h.MINUTE,".").concat(a));if(r){t.scrollTop=r.offsetTop-c}}if(n){var e=n.querySelector(".".concat(h.SECOND,".").concat(a));if(e){n.scrollTop=e.offsetTop-c}}};i.prototype.render=function(){var i=this.hours(),t=this.minutes(),n=this.seconds(),r=this.periods();return s("div",{key:"40c3034c37738c8e8e278826c383a8347f905b7a",class:h.TIME},s("div",{key:"64a6e6f7757e5edc66434a719df311259949bc7c",class:h.CONTENT},i,t,n,r))};Object.defineProperty(i.prototype,"el",{get:function(){return r(this)},enumerable:false,configurable:true});return i}());l.style=v}}}));