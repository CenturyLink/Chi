import{r as i,c as t,h as s,g as e}from"./p-99c091ba.js";import{c as h,Y as o,Z as a}from"./p-c2145321.js";import{P as c}from"./p-5b4f4ea5.js";import{v as l}from"./p-d1e6806c.js";const n=class{constructor(s){i(this,s),this.tooltipShow=t(this,"chiTooltipShow",7),this.tooltipHide=t(this,"chiTooltipHide",7),this.color="base",this.position="top",this.wrapper=!1,this.tooltipVisible=!1,this._showTooltipHandler=()=>this.toggle(!0),this._hideTooltipHandler=()=>this.toggle(!1),this.toggle=i=>{var t,s;this.tooltipVisible!==i&&(this.tooltipVisible=i,null===(t=this._tooltipElementNode)||void 0===t||t.classList.toggle(h,i),i?(this.tooltipShow.emit(),null===(s=this._popper)||void 0===s||s.update()):this.tooltipHide.emit())}}messageChanged(){this._popper&&this._popper.update()}positionChanged(){this._popper&&(this._popper.options.placement=this.position,this._popper.scheduleUpdate())}componentWillLoad(){this.el.id||(this._id=`chi-tooltip-${l()}`)}async show(){this.toggle(!0)}async hide(){this.toggle(!1)}initializePopper(){const i=this._tooltipRef,t=this._tooltipElementNode;i&&t&&(this._popper=new c(i,t,{placement:this.position,modifiers:{offset:{offset:"0,8"}}}),["mouseenter","focus"].forEach((i=>{var t;return null===(t=this._tooltipRef)||void 0===t?void 0:t.addEventListener(i,this._showTooltipHandler)})),["mouseleave","blur"].forEach((i=>{var t;return null===(t=this._tooltipRef)||void 0===t?void 0:t.addEventListener(i,this._hideTooltipHandler)})))}componentDidLoad(){this.initializePopper()}disconnectedCallback(){this._popper&&(this._popper.destroy(),this._popper=null),this._tooltipRef&&(["mouseenter","focus"].forEach((i=>{var t;return null===(t=this._tooltipRef)||void 0===t?void 0:t.removeEventListener(i,this._showTooltipHandler)})),["mouseleave","blur"].forEach((i=>{var t;return null===(t=this._tooltipRef)||void 0===t?void 0:t.removeEventListener(i,this._hideTooltipHandler)})))}render(){return s("div",{key:"4207470204038745d6bee8865a6f2aa71f0156b1",class:this.wrapper?o.WRAPPER:"",ref:i=>this._tooltipRef=i,"aria-describedby":this.tooltipVisible?this._id:null},s("slot",{key:"3f77feecd983991b7fef3e4cfa2d442c5dd8e492"}),s("div",{key:"7e8a7f52cabc74d38e6dcdef1b0e34e6abe4907e",class:{[o.ELEMENT]:!0,[a]:"light"===this.color},id:this._id,role:"tooltip",ref:i=>this._tooltipElementNode=i,"aria-hidden":!this.tooltipVisible},s("span",{key:"35f23741a20a5196a311f5f32decbfcf3b7683ee",class:o.MESSAGE},this.message)))}get el(){return e(this)}static get watchers(){return{message:["messageChanged"],position:["positionChanged"]}}};n.style=".sc-chi-tooltip-h .chi-tooltip__wrapper.sc-chi-tooltip{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.sc-chi-tooltip-h .chi-tooltip__message.sc-chi-tooltip{display:-webkit-box;line-clamp:4;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:4}";export{n as chi_tooltip}