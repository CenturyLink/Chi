import{r as i,c as t,h as s,g as h}from"./p-0c0cd099.js";import{C as e}from"./p-1ad0e10c.js";import{a as n}from"./p-9cb46040.js";const a=class{constructor(s){i(this,s),this.chiChange=t(this,"chiChange",7),this.chiInput=t(this,"chiInput",7),this.chiNumberInvalid=t(this,"chiNumberInvalid",7),this.chiFocus=t(this,"chiFocus",7),this.chiBlur=t(this,"chiBlur",7),this.chiClick=t(this,"chiClick",7),this.initialValue=void 0,this.value=void 0,this.step=1,this.max=void 0,this.min=void 0,this.disabled=void 0,this.required=void 0,this.size=void 0,this.expanded=void 0,this.inputstyle=void 0,this.preventValueMutation=void 0,this.state=void 0,this.helperMessage=void 0}inputStyleValidation(i){if(i&&!e.includes(i))throw new Error(`${i} is not a valid inputstyle for number input. If provided, valid values are: ${e.join(", ")}. `)}connectedCallback(){n.call(this),this.initialValue=this.value}handleChange(i){i.stopPropagation(),this.chiChange.emit(this.value)}handleInput(i){const t=i.target;i.stopPropagation(),this.value=t.value,this.chiInput.emit(this.value),t.validity.valid||this.chiNumberInvalid.emit()}handleBlur(i){const t=i.relatedTarget;t&&t.offsetParent===this._numberInput.offsetParent||this.chiBlur.emit(i)}emitEventsOnClick(i){this.chiInput.emit(this.value),this.chiChange.emit(this.value),this.chiClick.emit(i)}increment(i){this.el.querySelector("input").focus(),this._numberInput.stepUp(),this.value=this._numberInput.value,this.emitEventsOnClick(i)}decrement(i){this.el.querySelector("input").focus(),this._numberInput.stepDown(),this.value=this._numberInput.value,this.emitEventsOnClick(i)}getInput(){return s("input",{type:"number",ref:i=>this._numberInput=i,class:`chi-input ${this.inputstyle?`-${this.inputstyle}`:""} ${this.state?`-${this.state}`:""}`,disabled:this.disabled,required:this.required,step:this.step,max:this.max,min:this.min,value:this.value,onClick:i=>this.chiClick.emit(i),onChange:i=>this.handleChange(i),onInput:i=>this.handleInput(i),onFocus:()=>this.chiFocus.emit(),onBlur:i=>this.handleBlur(i),id:this.el.id?`${this.el.id}-control`:null})}getBaseNumberInput(){return s("div",{class:"chi-number-input "+(this.size?`-${this.size}`:"")},this.getInput(),s("button",{disabled:this.isDecreaseDisabled(),onClick:i=>this.decrement(i),"aria-label":"Decrease"}),s("button",{disabled:this.isIncreaseDisabled(),onClick:i=>this.increment(i),"aria-label":"Increase"}))}getExpandedNumberInput(){return s("div",{class:"chi-number-input -expanded "+(this.size?`-${this.size}`:"")},this.getInput(),s("button",{class:"chi-button -icon",disabled:this.isDecreaseDisabled(),onClick:i=>this.decrement(i),"aria-label":"Decrease"},s("div",{class:"chi-button__content"},s("chi-icon",{icon:"minus"}))),s("button",{class:"chi-button -icon",disabled:this.isIncreaseDisabled(),onClick:i=>this.increment(i),"aria-label":"Increase"},s("div",{class:"chi-button__content"},s("chi-icon",{icon:"plus"}))))}isDecreaseDisabled(){return!!(this.min&&Number(this.value)<=this.min)}isIncreaseDisabled(){return!(!this.max||!(Number(this.value)+this.step>this.max||Number(this.value)>=this.max))}getHelperMessage(){return s("chi-helper-message",{state:this.inputstyle},this.helperMessage)}render(){let i=this.expanded?this.getExpandedNumberInput():this.getBaseNumberInput();return this.helperMessage&&(i=s("div",{key:"d96b2a83309c6a1fab5e2dbb1e7d0e18e8860e5e",class:"chi-input__wrapper"},i,this.getHelperMessage())),i}get el(){return h(this)}static get watchers(){return{inputstyle:["inputStyleValidation"]}}};a.style="chi-number-input.sc-chi-number-input-h{display:-ms-inline-flexbox !important;display:inline-flex !important;position:relative;vertical-align:middle}";export{a as chi_number_input}