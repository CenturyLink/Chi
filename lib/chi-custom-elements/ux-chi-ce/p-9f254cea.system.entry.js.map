{"version":3,"names":["appLayoutScss","ChiMainStyle0","AppLayout","exports","class_1","hostRef","this","format","prototype","typeValidation","newValue","APP_LAYOUT_FORMATS","includes","Error","concat","connectedCallback","_this","addMutationObserver","call","el","title","appLayoutTitle","removeAttribute","attributes","attributeOldValue","attributeFilter","childList","componentWillLoad","querySelector","appLayoutHelpIcon","appLayoutHeaderActions","appLayoutPageLevelActions","appLayoutFooter","appLayoutPageLevelAlert","_handlerBacklinkClick","eventBacklinkClick","emit","render","appLayoutBackLink","backlink","h","key","class","onClick","href","backlinkHref","name","appLayoutSubTitle","subtitle","appLayoutBackground","headerBackground"],"sources":["src/components/app-layout/app-layout.scss?tag=chi-main&encapsulation=scoped","src/components/app-layout/app-layout.tsx"],"sourcesContent":[":host(chi-app-layout) {\n  display: block;\n}\n","import { Component, Element, Prop, Watch, h, State, Event, EventEmitter } from '@stencil/core';\nimport { AppLayoutFormats, APP_LAYOUT_FORMATS } from '../../constants/constants';\nimport { addMutationObserver } from '../../utils/mutationObserver';\n\n@Component({\n  tag: 'chi-main',\n  styleUrl: 'app-layout.scss',\n  scoped: true,\n})\nexport class AppLayout {\n  @Element() el;\n\n  /**\n   *  to set app layout format { base, no-margin, fixed-width }.\n   */\n  @Prop({ reflect: true }) format: AppLayoutFormats = 'base';\n\n  /**\n   *  To define app layout back link\n   */\n  @Prop({ reflect: true }) backlink: string;\n\n  /**\n   *  to set a links destination url\n   */\n  @Prop({ reflect: true }) backlinkHref: string;\n\n  /**\n   *  To define app layout subtitle\n   */\n  @Prop({ reflect: true }) subtitle: string;\n\n  /**\n   *  To define app layout header background\n   */\n  @Prop({ reflect: true }) headerBackground: boolean;\n\n  /**\n   *  To define app layout title\n   */\n  @State() appLayoutTitle: string;\n\n  @State() appLayoutHeaderActions: boolean;\n\n  @State() appLayoutHelpIcon: boolean;\n\n  @State() appLayoutPageLevelActions: boolean;\n\n  @State() appLayoutFooter: boolean;\n\n  @State() appLayoutPageLevelAlert: boolean;\n\n  /**\n   * The user has clicked the backlink\n   */\n  @Event({ eventName: 'chiBacklinkClick' }) eventBacklinkClick: EventEmitter;\n\n  @Watch('format')\n  typeValidation(newValue: string) {\n    if (newValue && !APP_LAYOUT_FORMATS.includes(newValue)) {\n      throw new Error(\n        `${newValue} is not a valid type for app layout. Valid values are base, no-margin, or fixed-width.`\n      );\n    }\n  }\n\n  connectedCallback() {\n    addMutationObserver.call(\n      this,\n      () => {\n        if (this.el.title) {\n          this.appLayoutTitle = this.el.title;\n          this.el.removeAttribute('title');\n        }\n      },\n      { attributes: true, attributeOldValue: true, attributeFilter: ['title'], childList: true }\n    );\n  }\n\n  componentWillLoad() {\n    this.typeValidation(this.format);\n\n    if (this.el.querySelector('[slot=help-icon]')) {\n      this.appLayoutHelpIcon = true;\n    }\n\n    if (this.el.querySelector('[slot=header-actions]')) {\n      this.appLayoutHeaderActions = true;\n    }\n\n    if (this.el.querySelector('[slot=page-level__actions]')) {\n      this.appLayoutPageLevelActions = true;\n    }\n\n    if (this.el.querySelector('[slot=footer]')) {\n      this.appLayoutFooter = true;\n    }\n\n    if (this.el.querySelector('[slot=page-alert]')) {\n      this.appLayoutPageLevelAlert = true;\n    }\n  }\n\n  _handlerBacklinkClick() {\n    this.eventBacklinkClick.emit();\n  }\n\n  render() {\n    const appLayoutBackLink = this.backlink && (\n      <a class=\"chi-link\" onClick={() => this._handlerBacklinkClick()} href={this.backlinkHref}>\n        <div class=\"chi-link__content\">\n          <i class=\"chi-icon icon-chevron-left -xs\"></i>\n          <span class=\"-text--md\">{this.backlink}</span>\n        </div>\n      </a>\n    );\n    const appLayoutHelpIcon = this.appLayoutHelpIcon && <slot name=\"help-icon\"></slot>;\n    const appLayoutTitle = this.appLayoutTitle && (\n      <div class=\"chi-main__title-heading\">\n        {this.appLayoutTitle}\n        {appLayoutHelpIcon}\n      </div>\n    );\n    const appLayoutSubTitle = this.subtitle && <div class=\"chi-main__title-subheading\">{this.subtitle}</div>;\n    const appLayoutHeaderActions = this.appLayoutHeaderActions && (\n      <div class=\"chi-main__header-end\">\n        <slot name=\"header-actions\"></slot>\n      </div>\n    );\n    const appLayoutPageLevelActions = this.appLayoutPageLevelActions && (\n      <div class=\"-d--flex -align-items--center -justify-content--end -py--3 -my--2 -bt--1\">\n        <slot name=\"page-level__actions\"></slot>\n      </div>\n    );\n    const appLayoutBackground = this.headerBackground && (\n      <div class=\"chi-main__background\">\n        <div class=\"chi-main__background-image\"></div>\n      </div>\n    );\n    const appLayoutFooter = this.appLayoutFooter && <slot name=\"footer\"></slot>;\n    const appLayoutPageLevelAlert = this.appLayoutPageLevelAlert && (\n      <div class=\"chi-main__alert\">\n        <slot name=\"page-alert\"></slot>\n      </div>\n    );\n\n    return (\n      <div\n        class={`chi-main\n        ${this.format ? `-${this.format}` : ''}\n        ${this.headerBackground ? '-header-background' : ''}`}\n      >\n        {appLayoutBackground}\n        {appLayoutPageLevelAlert}\n        <div class=\"chi-main__header\">\n          <div class=\"chi-main__header-start\">\n            {appLayoutBackLink}\n            <div class=\"chi-main__title\">\n              {appLayoutTitle}\n              {appLayoutSubTitle}\n            </div>\n          </div>\n          {appLayoutHeaderActions}\n        </div>\n        <div class=\"chi-main__content\">\n          <slot></slot>\n          {appLayoutPageLevelActions}\n        </div>\n        {appLayoutFooter}\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}