import{r as i,c as t,h as s,g as h}from"./p-0c0cd099.js";import{C as a}from"./p-eb9b9d80.js";import{T as o}from"./p-68882606.js";import{c as r,A as c}from"./p-baae1ad7.js";import{a as e}from"./p-d5dd2498.js";import{a as d}from"./p-9cb46040.js";const n=class{constructor(s){i(this,s),this.eventShow=t(this,"chiDrawerShow",7),this.eventHide=t(this,"chiDrawerHide",7),this.eventShown=t(this,"chiDrawerShown",7),this.eventHidden=t(this,"chiDrawerHidden",7),this._documentClickHandler=i=>{const t=this.el.querySelector(".chi-drawer"),s=this.nonClosable?null:t.querySelector("button.-close"),h=i.target;if(!this.preventAutoHide&&t.classList.contains("-active")){const i=s&&h===s||e(s,h);this.active=e(t,h)&&!i}},this.position=void 0,this.backdrop=void 0,this.active=void 0,this.nonClosable=!1,this.noHeader=void 0,this.preventAutoHide=!1,this.portal=!1,this._animationClasses=void 0,this._backdropAnimationClasses=void 0,this.drawerTitle=void 0}positionValidation(i){if(i&&!a.includes(i))throw new Error(`Not valid position ${i} for drawer. Valid values are top, right, bottom or left. `)}backdropValidation(i){if(i&&"inverse"!==i&&"backdrop"!==i)throw new Error(`Not valid backdrop ${i} for drawer. Valid values are inverse, backdrop, empty or true. `)}statusChanged(i,t){!!i!=!!t&&(i?this._show():this._hide())}async toggle(){this.active?this.hide():this.show()}async show(){this.active=!0}async hide(){this.active=!1}_show(){this.animation&&!this.animation.isStopped()&&this.animation.stop(),""===this._backdropAnimationClasses&&this._animationClasses===r.ACTIVE||(this.animation=o.animationFactory((()=>{this._animationClasses=r.TRANSITIONING,this._backdropAnimationClasses=`${r.TRANSITIONING} ${r.CLOSED}`}),(()=>{this._animationClasses=`${r.TRANSITIONING} ${r.ACTIVE}`,this._backdropAnimationClasses=r.TRANSITIONING}),(()=>{this._animationClasses=r.ACTIVE,this._backdropAnimationClasses="",this.eventShown.emit()}),c.MEDIUM)),this.eventShow.emit()}_hide(){this.animation&&!this.animation.isStopped()&&this.animation.stop(),this._backdropAnimationClasses===r.CLOSED&&""===this._animationClasses||(this.animation=o.animationFactory((()=>{this._animationClasses=`${r.TRANSITIONING} ${r.ACTIVE}`,this._backdropAnimationClasses=r.TRANSITIONING}),(()=>{this._animationClasses=r.TRANSITIONING,this._backdropAnimationClasses=`${r.TRANSITIONING} ${r.CLOSED}`}),(()=>{this._animationClasses="",this._backdropAnimationClasses=r.CLOSED,this.eventHidden.emit()}),c.MEDIUM)),this.eventHide.emit()}connectedCallback(){d.call(this)}componentWillLoad(){this.positionValidation(this.position),this._animationClasses=this.active?r.ACTIVE:"",this._backdropAnimationClasses=this.active?"":r.CLOSED}componentDidLoad(){document.addEventListener("click",this._documentClickHandler)}disconnectedCallback(){document.removeEventListener("click",this._documentClickHandler)}render(){const i=s("button",{class:"chi-button -icon -close",onClick:()=>this.hide(),"aria-label":"Close"},s("div",{class:"chi-button__content"},s("chi-icon",Object.assign({},{icon:"x"})))),t=s("div",{class:`chi-drawer -animated\n        ${this.position?`-${this.position}`:""}\n        ${this._animationClasses}\n        ${this.portal?"-portal":""}\n      `},this.noHeader?this.nonClosable?s("slot",null):[i,s("slot",null)]:this.nonClosable?[s("div",{class:"chi-drawer__header"},s("span",{class:"chi-drawer__title"},this.drawerTitle)),s("div",{class:"chi-drawer__content"},s("slot",null))]:[s("div",{class:"chi-drawer__header"},s("span",{class:"chi-drawer__title"},this.drawerTitle),i),s("div",{class:"chi-drawer__content"},s("slot",null))]);return this.backdrop||""===this.backdrop?s("div",{class:`chi-backdrop -animated\n          ${"inverse"===this.backdrop?"-inverse":""}\n          ${this._backdropAnimationClasses}\n        `},s("div",{class:"chi-backdrop__wrapper"},t)):t}get el(){return h(this)}static get watchers(){return{position:["positionValidation"],backdrop:["backdropValidation"],active:["statusChanged"]}}};n.style="chi-drawer.sc-chi-drawer-h{display:block}";export{n as chi_drawer}