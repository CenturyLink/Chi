import{r as t,c as e,h as i,g as a}from"./p-1fb7f4e7.js";import{F as s,e as r}from"./p-3c5e39a4.js";import{F as o,U as n,g as h,h as l}from"./p-70488c96.js";import{C as c}from"./p-1ad0e10c.js";import{v as d}from"./p-c4c32c46.js";const p=class{constructor(i){t(this,i),this.chiChange=e(this,"chiChange",7),this.layout="stacked",this.id=d()}layoutValidation(t){if(!s.includes(t))throw new Error(`${t} is not a valid type for form wrapper layout. Valid values are: ${s.join(", ")}.`)}typeValidation(t){if(!r.includes(t))throw new Error(`${t} is not a valid type for form wrapper type. Valid values are: ${r.join(", ")}.`)}stateValidation(t){if(!c.includes(t))throw new Error(`${t} is not a valid state for form wrapper state. Valid values are: ${c.join(", ")}.`)}optionsValidation(t){if(!(null==t?void 0:t.length))throw new Error("Options must be provided to form wrapper.")}componentWillLoad(){var t;this.options=(null!==(t=this.options)&&void 0!==t?t:[]).map((t=>Object.assign(Object.assign({},t),{id:t.id||`${this.id}-${d()}`,checked:t.checked||!1})))}_getLabel(){if(this.label)return i("chi-label",null,this.label)}_getItems(){var t;const e={checkbox:this._getCheckbox,radio:this._getRadioButton}[this.type].bind(this);return null===(t=this.options)||void 0===t?void 0:t.map(((t,i)=>this._getFormItem(e(t),i===this.options.length-1)))}_getCheckbox(t){return i("chi-checkbox",{id:t.id,label:t.label,checked:t.checked&&"indeterminate"!==t.checked,disabled:t.disabled,name:t.name,state:this.state,indeterminate:"indeterminate"===t.checked,onChiChange:t=>this._onChange(t)})}_getRadioButton(t){return i("chi-radio-button",{id:t.id,label:t.label,checked:t.checked,disabled:t.disabled,name:t.name,state:this.state,onChiChange:t=>this._onChange(t)})}_getItemWrapperClasses(t){return[o.FORM_ITEM,"inline"!==this.layout&&!t&&n.MARGIN.BOTTOM[1],"inline"===this.layout&&h.LAYOUTS.INLINE].filter(Boolean).join(" ")}_getFormItem(t,e=!1){const a=this._getItemWrapperClasses(e);return i("div",{class:a},t)}_onChange(t){const e=t.target,i={radio:()=>this._onRadioButtonChange(e)}[this.type];t.stopPropagation(),i?i():this.options.find((t=>t.id===e.id)).checked=!!e.checked,this.chiChange.emit(this.options)}_onRadioButtonChange(t){this.options.forEach((e=>{e.checked=e.id===t.id}))}_getFieldset(){return i("fieldset",null,this._getLabel(),this._getItems())}render(){let t=this._getFieldset();return this.helperMessage&&(t=i("div",{key:"2ef3789b9567949f2329593af75f660d0fc4eca9",class:l.WRAPPER},t,i("chi-helper-message",{key:"851980eb89e6a57aee58793343552097c44fcb9c",state:this.state},this.helperMessage))),t}get el(){return a(this)}static get watchers(){return{layout:["layoutValidation"],type:["typeValidation"],state:["stateValidation"],options:["optionsValidation"]}}};p.style="chi-form-wrapper.sc-chi-form-wrapper-h{display:block}";export{p as chi_form_wrapper}