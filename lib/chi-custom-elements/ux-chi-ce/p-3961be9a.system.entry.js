System.register(["./p-65394162.system.js","./p-032fa119.system.js","./p-1350fb0c.system.js"],(function(i){"use strict";var t,n,s,r,e,h,a,f,u,o;return{setters:[function(i){t=i.r;n=i.c;s=i.h;r=i.g},function(i){e=i.d;h=i.U;a=i.c;f=i.D},function(i){u=i.i;o=i.j}],execute:function(){var c="";var v=c;var d=i("chi_time",function(){function i(i){t(this,i);this.eventChange=n(this,"chiTimeChange",7);this.excludedHoursArray=[];this.excludedMinutesArray=[];this.excludedSecondsArray=[];this.minutesToDisplay=[];this.secondsToDisplay=[];this.value=undefined;this.displaySeconds=false;this.format="12hr";this.stepped=undefined;this.minutesStep=undefined;this.secondsStep=undefined;this._excludedHours=undefined;this._excludedMinutes=undefined;this._excludedSeconds=undefined}i.prototype.componentWillLoad=function(){this.updateTimeSteps();this.validateTimeSteps();this.selectTimeAndPeriod();this.updateExcluded();this.updateValue()};i.prototype.validateTimeSteps=function(){if(this.minutesStep&&!u.includes(this.minutesStep)){throw new Error("Property minutes-step is invalid. Must be one of ".concat(u.join(",")))}if(this.secondsStep&&!u.includes(this.secondsStep)){throw new Error("Property seconds-step is invalid. Must be one of ".concat(u.join(",")))}};i.prototype.timeRange=function(i){if(i===void 0){i=1}return Array.from({length:59/i+1},(function(t,n){return n*i}))};i.prototype.updateExcluded=function(){var i=function(i){if(i===void 0){i=""}return i.split(",").map((function(i){return i.trim()}))};this.excludedHoursArray=i(this._excludedHours);this.excludedMinutesArray=i(this._excludedMinutes);this.excludedSecondsArray=i(this._excludedSeconds)};i.prototype.updateTimeSteps=function(){if(this.stepped||Number.isNaN(this.minutesStep)){this.minutesStep=15}if(this.stepped||Number.isNaN(this.secondsStep)){this.secondsStep=10}this.minutesToDisplay=this.timeRange(this.minutesStep);this.secondsToDisplay=this.timeRange(this.secondsStep)};i.prototype.validateTime=function(i){var t=/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?\s*([AaPp][Mm])?$/.test(i);if(!t){throw new Error('Provided "value" is not valid. Provide a value in the form hh:mm:ss')}return t};i.prototype.formatTimePeriod=function(i){return String(i).padStart(2,"0")};i.prototype.updateValue=function(){var i=[this._hour,this._minute,this._second].join(":");if(this.format==="12hr"&&this._period){i+=" "+this._period}if(i!==this.value){this.value=i;this.emitTimeValueEvent()}};i.prototype.selectTimeAndPeriod=function(){var i=new Date;if(this.value&&this.validateTime(this.value)){var t=(this.value||"").trim().split(" "),n=t[0],s=t[1];var r=n.split(":").map((function(i){return parseInt(i)})),e=r[0],h=r[1],a=r[2];i.setHours(e,h,a||0);if(s){this._period=s.toLocaleLowerCase()}}var f=this.getRoundedTime(i),u=f[0],o=f[1],c=f[2];if(!this._period){this._period=this.format==="12hr"&&parseInt(u)<12?"am":"pm"}this._hour=u;this._minute=o;this._second=c};i.prototype.getRoundedTime=function(i){var t=1e3*60*this.minutesStep;var n=1e3*this.secondsStep;if(!this.minutesToDisplay.includes(i.getMinutes())){i=new Date(Math.ceil(i.getTime()/t)*t)}else if(!this.secondsToDisplay.includes(i.getSeconds())){i=new Date(Math.ceil(i.getTime()/n)*n)}return[i.getHours(),i.getMinutes(),i.getSeconds()].map(this.formatTimePeriod)};i.prototype.hours=function(){var i=this;var t=this.format==="24hr"?24:12;var n=this.format==="24hr"?"00":"12";var r;var u=function(t){if(i.format==="24hr"){r=t==="24"?"00":t}else{if(t==="12"){r=i._period==="am"?"12":t}else{r=i._period==="pm"?String(parseInt(t)+12):t}}i._hour=r;i.value="".concat(r,":").concat(i._minute,":").concat(i._second);i.emitTimeValueEvent()};var o=function(t){var n;var s=parseInt((n=i.value)===null||n===void 0?void 0:n.split(":")[0]);var r="";if(i._hour===t||!(i.format==="24hr")&&i._period==="pm"&&parseInt(t)+12===parseInt(i._hour)||i._period==="am"&&parseInt(t)===12&&s===0){r=a}else{if(i.excludedHoursArray.includes(i.formatTimePeriod(parseInt(t)))||i.excludedHoursArray.includes(i.formatTimePeriod(parseInt(t)+12))){r=f}}return r};var c=[s("div",{"data-hour":n,class:"\n        ".concat(e.HOUR,"\n        ").concat(o(n),"\n        "),onClick:function(){return u(String(t))}},n)];Array.from(Array(t),(function(t,n){var r=i.formatTimePeriod(n);if(n>0){c.push(s("div",{"data-hour":r,class:"\n            ".concat(e.HOUR,"\n            ").concat(o(r),"\n          "),onClick:function(){return u(r)}},r))}}));return s("div",{class:"".concat(e.HOURS," ").concat(h.POSITION.RELATIVE)},c)};i.prototype.getStateClass=function(i,t,n){var s="";if(parseInt(t)===parseInt(i)){s=a}else if(n.includes(i)){s=f}return s};i.prototype.getMinuteElement=function(i){var t=this;return s("div",{class:"\n        ".concat(e.MINUTE,"\n        ").concat(this.getStateClass(i,this._minute,this.excludedMinutesArray),"\n      "),onClick:function(){t._minute=i;t.updateValue()}},i)};i.prototype.minutes=function(){var i=this;return s("div",{class:"".concat(e.MINUTES," ").concat(h.POSITION.RELATIVE)},this.minutesToDisplay.map((function(t){return i.getMinuteElement(i.formatTimePeriod(t))})))};i.prototype.getSecondsElement=function(i){var t=this;return s("div",{class:"\n          ".concat(e.SECOND,"\n          ").concat(this.getStateClass(i,this._second,this.excludedSecondsArray),"\n        "),onClick:function(){t._second=i;t.updateValue()}},i)};i.prototype.seconds=function(){var i=this;return this.displaySeconds?s("div",{class:"".concat(e.SECONDS," ").concat(h.POSITION.RELATIVE)},this.secondsToDisplay.map((function(t){return i.getSecondsElement(i.formatTimePeriod(t))}))):undefined};i.prototype.periods=function(){var i=this;var t;var n=parseInt((t=this.value)===null||t===void 0?void 0:t.split(":")[0]);if(this.format==="12hr"){var r=function(t){var n=e.PERIOD;if(t===i._period){n+=" ".concat(a)}return n};var h=function(t){i._period=t;var s=n;if(t==="am"){if(s>12){s=s-12}if(s===12){s=12}}else if(t==="pm"){if(s<12){s=s+12}if(s===12){s=12}}i.value="".concat(s,":").concat(i._minute,":").concat(i._second);i._hour=i.formatTimePeriod(s);i.emitTimeValueEvent()};return s("div",{class:e.PERIODS},s("div",{class:r("am"),onClick:function(){return h("am")}},"AM"),s("div",{class:r("pm"),onClick:function(){return h("pm")}},"PM"))}return};i.prototype.emitTimeValueEvent=function(){var i={hour:this._hour,minute:this._minute,second:this._second,value:this.value};if(this.format==="12hr"&&this._period){i.period=this._period}this.eventChange.emit(i)};i.prototype.componentDidLoad=function(){var i=this.el.querySelector(".".concat(e.HOURS)),t=this.el.querySelector(".".concat(e.MINUTES)),n=this.el.querySelector(".".concat(e.SECONDS));if(i){var s=i.querySelector(".".concat(e.HOUR,".").concat(a));if(s){i.scrollTop=s.offsetTop-o}}if(t){var r=t.querySelector(".".concat(e.MINUTE,".").concat(a));if(r){t.scrollTop=r.offsetTop-o}}if(n){var h=n.querySelector(".".concat(e.SECOND,".").concat(a));if(h){n.scrollTop=h.offsetTop-o}}};i.prototype.render=function(){var i=this.hours(),t=this.minutes(),n=this.seconds(),r=this.periods();return s("div",{key:"8c9c0dd1ad2a5a8899dd669ad6e1fe5efc8ac8b3",class:e.TIME},s("div",{key:"96865e91a4e87218841c87eedfc82319426a3529",class:e.CONTENT},i,t,n,r))};Object.defineProperty(i.prototype,"el",{get:function(){return r(this)},enumerable:false,configurable:true});return i}());d.style=v}}}));