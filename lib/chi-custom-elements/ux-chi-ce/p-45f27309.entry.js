import{r as t,c as i,h as s,F as h,g as o}from"./p-99c091ba.js";import{C as e}from"./p-1ad0e10c.js";import{I as n}from"./p-680f4200.js";import{c as a}from"./p-1ef4f618.js";import{i as r,c as l}from"./p-914f348a.js";import{a as c}from"./p-f0aa53ea.js";const d=class{constructor(s){t(this,s),this.eventChange=i(this,"chiChange",7),this.eventInput=i(this,"chiInput",7),this.eventFocus=i(this,"chiFocus",7),this.eventBlur=i(this,"chiBlur",7),this.type="text",this.size="md",this.value="",this.disabled=!1,this.readonly=!1,this.preventValueMutation=!1,this.spinner=!1,this.copyText=!1}stateValidation(t){const i=e.join(", ");if(t&&!e.includes(t))throw new Error(`${t} is not a valid state for input. If provided, valid values are: ${i}. `)}sizeValidation(t){const i=a.join(", ");if(t&&!a.includes(t))throw new Error(`${t} is not a valid size for input. If provided, valid values are: ${i}. `)}colorValidation(t){const i=n.join(", ");if(t&&!n.includes(t))throw new Error(`${t} is not a valid color for icon. If provided, valid values are: ${i}. `)}iconLeftColorValidation(t){this.colorValidation(t)}iconRightColorValidation(t){this.colorValidation(t)}typeValidation(t){const i=r.join(", ");if(t&&!r.includes(t))throw new Error(`${t} is not a valid type for input. If provided, valid values are: ${i}. `)}_handleValueInput(t){const i=t.target.value;this.preventValueMutation||(this.value=i),this.eventInput.emit(i)}_handleValueChange(t){this.eventChange.emit(t.target.value)}componentWillLoad(){this.stateValidation(this.state),this.iconLeftColorValidation(this.iconLeftColor),this.iconRightColorValidation(this.iconRightColor),this.sizeValidation(this.size),this.typeValidation(this.type)}connectedCallback(){c.call(this)}getInput(){return s("input",{type:this.type,class:`chi-input\n          ${this.state?`-${this.state}`:""}\n          ${this.size?`-${this.size}`:""}\n          ${this._status?`-${this._status}`:""}\n          ${this.extraClass?this.extraClass:""}\n        `,placeholder:this.placeholder||"",value:this.value,name:this.name||"",disabled:this.disabled,readonly:this.readonly,id:this.el.id?`${this.el.id}-control`:null,onFocus:()=>this.eventFocus.emit(),onBlur:()=>this.eventBlur.emit(),onInput:t=>this._handleValueInput(t),onChange:t=>this._handleValueChange(t)})}_getIconLeft(){return this.iconLeft&&s("chi-icon",{color:this.iconLeftColor||null,icon:this.iconLeft})}_getIconRight(){return this.iconRight&&!this.spinner&&s("chi-icon",{color:this.iconRightColor||null,icon:this.iconRight})}_getSpinner(){var t;return this.spinner&&s("chi-spinner",{size:null!==(t={sm:"xs",md:"sm",lg:"sm--2",xl:"sm--3"}[this.size])&&void 0!==t?t:"sm"})}_getHelperMessage(){return this.helperMessage&&s("chi-helper-message",{state:this.state},this.helperMessage)}_shouldWrapInput(){return Boolean(this.iconLeft||this.iconRight||this.spinner||this.helperMessage||this.copyText)}_addCopyText(t){return s("div",{class:`${l.FLEX} ${l.ALIGN_ITEMS_CENTER}`},t,s("chi-copy-text",{text:this.value,disabled:this.disabled,size:{xs:"xs",sm:"xs",md:"sm",lg:"sm--2",xl:"sm--3"}[this.size]}))}_addHelperMessage(t){return s(h,null,t,this._getHelperMessage())}_getWrappedInput(t){const i=["chi-input__wrapper",this.iconLeft&&"-icon--left",this.iconRight&&"-icon--right",this.copyText&&"-flex--grow1"].filter(Boolean).join(" ");return t=s("div",{class:i},t,this._getIconLeft(),this._getIconRight(),this._getSpinner()),this.copyText&&(t=this._addCopyText(t)),this.helperMessage&&(t=this._addHelperMessage(t)),t}render(){let t=this.getInput();return this._shouldWrapInput()&&(t=this._getWrappedInput(t)),t}get el(){return o(this)}static get watchers(){return{state:["stateValidation"],size:["sizeValidation"],iconLeftColor:["iconLeftColorValidation"],iconRightColor:["iconRightColorValidation"],type:["typeValidation"]}}};d.style="chi-text-input.sc-chi-text-input-h{display:block;width:100%}";export{d as chi_text_input}