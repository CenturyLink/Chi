import{r as t,c as i,h as s,g as o}from"./p-99c091ba.js";import{C as h}from"./p-1ad0e10c.js";import{I as a}from"./p-680f4200.js";import{c as e}from"./p-1ef4f618.js";import{a as r}from"./p-f0aa53ea.js";import{U as n}from"./p-0a178b06.js";const l=class{constructor(s){t(this,s),this.eventChange=i(this,"chiChange",7),this.eventInput=i(this,"chiInput",7),this.eventFocus=i(this,"chiFocus",7),this.eventBlur=i(this,"chiBlur",7),this.size="md",this.value="",this.disabled=!1,this.readonly=!1,this.copyText=!1}stateValidation(t){const i=h.join(", ");if(t&&!h.includes(t))throw new Error(`${t} is not a valid state for textarea. If provided, valid values are: ${i}. `)}sizeValidation(t){const i=e.join(", ");if(t&&!e.includes(t))throw new Error(`${t} is not a valid size for textarea. If provided, valid values are: ${i}. `)}colorValidation(t){const i=a.join(", ");if(t&&!a.includes(t))throw new Error(`${t} is not a valid color for icon. If provided, valid values are: ${i}. `)}iconLeftColorValidation(t){this.colorValidation(t)}iconRightColorValidation(t){this.colorValidation(t)}_handleValueInput(t){this.value=t.target.value,this.eventInput.emit(this.value)}_handleValueChange(){this.eventChange.emit(this.value)}componentWillLoad(){this.value=this.el.textContent,this.stateValidation(this.state),this.iconLeftColorValidation(this.iconLeftColor),this.iconRightColorValidation(this.iconRightColor),this.sizeValidation(this.size)}connectedCallback(){r.call(this)}_getTextAreaElement(){const t=["chi-input",this.state&&`-${this.state}`,this.size&&`-${this.size}`,this._status&&`-${this._status}`].filter(Boolean).join(" ");return s("textarea",{class:t,placeholder:this.placeholder||"",name:this.name||"",disabled:this.disabled,readonly:this.readonly,id:this.el.id?`${this.el.id}-control`:null,onFocus:()=>this.eventFocus.emit(),onBlur:()=>this.eventBlur.emit(),onInput:t=>this._handleValueInput(t),onChange:()=>this._handleValueChange()},s("slot",null))}_getHelperMessage(){return this.helperMessage&&s("chi-helper-message",{state:this.state},this.helperMessage)}_getIconsData(){const t={classes:"",iconRight:null,iconLeft:null},i=[];return this.iconRight&&(t.iconRight=s("chi-icon",{color:this.iconRightColor||null,icon:this.iconRight}),i.push("-icon--right")),this.iconLeft&&(t.iconLeft=s("chi-icon",{color:this.iconLeftColor||null,icon:this.iconLeft}),i.push("-icon--left")),t.classes=i.join(" "),t}_shouldWrapTextarea(){return Boolean(this.iconLeft||this.iconRight||this.helperMessage||this.copyText)}_getWrappedTextarea(t){const i=this._getIconsData(),o=this._getHelperMessage();return t=s("div",{class:`chi-input__wrapper ${i.classes}${this.copyText?" -flex--grow1":""}`},t,i.iconLeft,i.iconRight,o),this.copyText&&(t=this._addCopyText(t)),t}_addCopyText(t){return s("div",{class:`${n.DISPLAY.FLEX} ${n.ALIGN_ITEMS.START}`},t,s("chi-copy-text",{text:this.value,disabled:this.disabled,size:{xs:"xs",sm:"xs",md:"sm",lg:"sm--2",xl:"sm--3"}[this.size]}))}render(){let t=this._getTextAreaElement();return this._shouldWrapTextarea()&&(t=this._getWrappedTextarea(t)),t}get el(){return o(this)}static get watchers(){return{state:["stateValidation"],size:["sizeValidation"],iconLeftColor:["iconLeftColorValidation"],iconRightColor:["iconRightColorValidation"]}}};l.style="chi-textarea.sc-chi-textarea-h{display:block;width:100%}";export{l as chi_textarea}