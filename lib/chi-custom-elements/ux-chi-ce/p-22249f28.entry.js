import{r as t,c as s,h as i,g as e}from"./p-99c091ba.js";import{y as h}from"./p-dbf5b225.js";import{j as a}from"./p-834de5c7.js";const n=class{constructor(i){t(this,i),this.chiChange=s(this,"chiChange",7),this.placeholder="",this.tags=[],this._tags=[]}componentWillLoad(){this.tags&&this.updateTags(this.tags)}updateTags(t){this._tags=(null!=t?t:[]).map((t=>Object.assign({},t)))}_focusInput(){setTimeout((()=>this.el.querySelector(`.${h.INPUT} input`).focus()),100)}_onKeyDown(t){const s=t.target,i=s.value.trim();i&&["Tab","Enter"].includes(t.key)&&(t.preventDefault(),this._tags=[...this._tags,{name:i}],s.value="",this._focusInput(),this.chiChange.emit(this._tags))}_onDeleteTag(t){this._tags=this._tags.filter((s=>s!==t)),this._focusInput(),this.chiChange.emit(this._tags)}_getTagElement(t){return i("li",null,i("chi-badge",{class:h.TAG},t.name,i("chi-button",{type:"close",size:"xs",onClick:()=>this._onDeleteTag(t)})))}_getInput(){var t,s;return i("li",{class:h.INPUT},i("input",{type:"text",placeholder:this.placeholder||"",onKeyDown:t=>this._onKeyDown(t),tabindex:"0","aria-label":this.placeholder||"Add tag",size:null!==(s=null===(t=this.placeholder)||void 0===t?void 0:t.length)&&void 0!==s?s:1}))}render(){const t=this._tags.map((t=>this._getTagElement(t))),s=this._getInput(),e=a([h.TAGS,this._status&&`-${this._status}`]);return i("ul",{key:"212443d7e66d6022c292c369003b870ac3ff6f30",class:e},t,s)}get el(){return e(this)}static get watchers(){return{tags:["updateTags"]}}};export{n as chi_tags}