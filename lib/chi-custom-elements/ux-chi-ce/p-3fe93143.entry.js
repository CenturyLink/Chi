import{r as t,c as s,h as i,g as e}from"./p-0c0cd099.js";import{P as a}from"./p-0019854f.js";import{p as h,q as o,G as l,U as r,F as c,R as n,h as d}from"./p-ed8c4a28.js";import{P as p,a as m}from"./p-1ef4f618.js";import{a as f}from"./p-9cb46040.js";import{j as b}from"./p-d5dd2498.js";import{v as u}from"./p-699f21d6.js";const v=class{constructor(i){t(this,i),this.chiChange=s(this,"chiChange",7),this.id=u(),this.options=void 0,this.size="md",this.pill=!1,this.showInput=void 0,this.type="checkbox",this.label=void 0,this.required=!1,this.optional=!1,this.infoIcon=!1,this.infoIconMessage="",this.helperMessage=void 0,this.state=void 0}typeValidation(t){if(!a.includes(t))throw new Error(`Picker type must be one of ${a.join(" ")}`)}pillValidation(t){if(t&&this.showInput)throw new Error("Pill layout is not valid with show input property")}sizeValidation(t){this.pill&&!p.includes(t)?this.size="sm":this.pill||m.includes(t)||(this.size="md")}componentWillLoad(){this.options=(this.options||[]).map((t=>Object.assign(Object.assign({},t),{id:t.id||`${this.id}-${u()}`,checked:t.checked||!1}))),this.sizeValidation(this.size)}connectedCallback(){f.call(this)}_isRadio(){return"radio"===this.type}_getLabel(){return i("chi-label",{required:this.required,optional:this.optional,"info-icon":this.infoIcon,"info-icon-message":this.infoIconMessage},this.label)}_getItem(t){const s=[h.PICKER,this.pill&&o,l[this.size.toUpperCase()]].filter(Boolean).join(" ");return i("div",{class:s},i("input",{class:h.INPUT,name:`${this.id}-group`,id:t.id,disabled:t.disabled,checked:t.checked,type:this.type,"aria-checked":t.checked,"aria-labelledby":`${t.id}-label`,onClick:s=>this._onClick(t,s)}),this._getItemLabel(t))}_getItemLabel(t){const s=this.el.querySelector(`[slot=content-end-${t.id}]`),e=this.pill||[this.showInput,s,t.description].every((t=>!t));return i("label",{htmlFor:t.id,id:`${t.id}-label`},e?t.label:this._getComplexItemLabelContent(t,s))}_getComplexItemLabelContent(t,s){return s?i("div",{class:b([h.CONTENT,r.SIZING.W100])},this._getContentStart(t,!0),i("div",{class:h.CONTENT_END},i("slot",{name:`content-end-${t.id}`}))):this._getContentStart(t)}_getContentStart(t,s=!1){const e=t.description&&i("div",{class:`${h.DESCRIPTION} ${this.showInput?"":r.MARGIN.LEFT[0]}`},t.description);return e||s?i("div",{class:b([h.CONTENT_START,r.SIZING.W100,r.SIZING.WSM65])},this._getLabelContent(t),e):this._getLabelContent(t)}_getLabelContent(t){return this.showInput?i("div",{class:`${c.FORM_ITEM} ${n}`},i("span",{class:"checkbox"===this.type?h.CHECKBOX:h.RADIO}),i("span",{class:h.LABEL},t.label)):i("div",{class:`${c.FORM_ITEM} ${n}`},i("span",{class:`${h.LABEL} ${r.MARGIN.LEFT[0]}`},t.label))}_onClick(t,s){s.stopPropagation(),this._isRadio()&&this.options.forEach((t=>t.checked=!1)),t.checked=s.target.checked,this.chiChange.emit(this.options)}_getOptions(){var t;const s=null===(t=this.options)||void 0===t?void 0:t.map((t=>this._getItem(t)));return this.pill?i("div",{class:r.DISPLAY.FLEX},s):s}_getFieldset(){return i("fieldset",null,this.label&&this._getLabel(),this._getOptions())}render(){let t=this._getFieldset();return this.helperMessage&&(t=i("div",{key:"4eb197f704137061c293782fc1a1b041e75f8923",class:d.WRAPPER},t,i("chi-helper-message",{key:"861fbc1e505c4c12cb5d7251f30dcf46c979a98a",state:this.state},this.helperMessage))),t}get el(){return e(this)}static get watchers(){return{type:["typeValidation"],pill:["pillValidation"],size:["sizeValidation"]}}};export{v as chi_picker}