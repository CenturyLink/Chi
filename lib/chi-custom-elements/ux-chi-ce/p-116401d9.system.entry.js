var __awaiter=this&&this.__awaiter||function(t,i,n,s){function e(t){return t instanceof n?t:new n((function(i){i(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function c(t){try{a(s["throw"](t))}catch(t){r(t)}}function a(t){t.done?n(t.value):e(t.value).then(o,c)}a((s=s.apply(t,i||[])).next())}))};var __generator=this&&this.__generator||function(t,i){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,e,r,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(t){return function(i){return a([t,i])}}function a(c){if(s)throw new TypeError("Generator is already executing.");while(o&&(o=0,c[0]&&(n=0)),n)try{if(s=1,e&&(r=c[0]&2?e["return"]:c[0]?e["throw"]||((r=e["return"])&&r.call(e),0):e.next)&&!(r=r.call(e,c[1])).done)return r;if(e=0,r)c=[c[0]&2,r.value];switch(c[0]){case 0:case 1:r=c;break;case 4:n.label++;return{value:c[1],done:false};case 5:n.label++;e=c[1];c=[0];continue;case 7:c=n.ops.pop();n.trys.pop();continue;default:if(!(r=n.trys,r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){n.label=c[1];break}if(c[0]===6&&n.label<r[1]){n.label=r[1];r=c;break}if(r&&n.label<r[2]){n.label=r[2];n.ops.push(c);break}if(r[2])n.ops.pop();n.trys.pop();continue}c=i.call(t,n)}catch(t){c=[6,t];e=0}finally{s=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:true}}};System.register(["./p-e2b3de6e.system.js","./p-64887bf4.system.js","./p-eec03f52.system.js","./p-2f867cd7.system.js","./p-bdcd2725.system.js","./p-787d1c95.system.js"],(function(t){"use strict";var i,n,s,e,r,o,c,a,h,u,l,f,d,v,b,g,m,y,w,p;return{setters:[function(t){i=t.r;n=t.c;s=t.h;e=t.g},function(t){r=t.U;o=t.M;c=t.N;a=t.c;h=t.i;u=t.j;l=t.B;f=t.k;d=t.l;v=t.m;b=t.a},function(t){g=t.j},function(t){m=t.T},function(t){y=t.M;w=t.A},function(t){p=t.v}],execute:function(){var _=r.MARGIN,k=r.TYPOGRAPHY;var M=t("chi_modal",function(){function t(t){var e=this;i(this,t);this.chiModalShow=n(this,"chiModalShow",7);this.chiModalShown=n(this,"chiModalShown",7);this.chiModalHide=n(this,"chiModalHide",7);this.chiModalHidden=n(this,"chiModalHidden",7);this.chiModalBack=n(this,"chiModalBack",7);this.chiModalAccept=n(this,"chiModalAccept",7);this.chiModalCancel=n(this,"chiModalCancel",7);this.isActive=false;this._uuid4=p();this.getUpdateAnimationClasses=function(t,i){var n=["".concat(b," ").concat(t),b];var s=[b,"".concat(b," ").concat(i)];if(!e.isActive){n.reverse();s.reverse()}return[n,s]};this.getCloseButton=function(){return s("chi-button",{type:"close",class:r.DISPLAY.FLEX,"data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.cancel()}})};this.cancel=function(){e.hide();e.chiModalCancel.emit()};this.accept=function(){e.hide();e.chiModalAccept.emit()};this.getAlertContent=function(){return s("div",{class:r.DISPLAY.FLEX},s("chi-icon",{icon:"circle-x",size:"sm--3",color:"danger",class:_.RIGHT[2]}),s("div",{class:r.SIZING.W100},s("p",{class:"".concat(k.TEXT_BOLD," ").concat(_[0])},s("slot",{name:"alert-subhead"},"Subhead")),s("slot",{name:"content"},s("p",{class:"".concat(_.TOP[1]," ").concat(_.BOTTOM[0])},y))))};this.getSimpleContent=function(){return s("div",null,s("h2",{class:"".concat(k.TEXT_H3," ").concat(k.TEXT_BOLDER," ").concat(_[0])},e.modalTitle),s("slot",{name:"content"},s("p",{class:"".concat(k.TEXT," ").concat(r.PADDING.Y[1]," ").concat(r.PADDING.X[3])},y)),s("slot",{name:"footer"},s("chi-button",{color:"primary",size:"lg",class:_.TOP[1],onClick:function(){return e.accept()}},"Action")))};this.getDefaultContent=function(){return s("slot",{name:"content"},s("p",{class:"".concat(k.TEXT," ").concat(_[0])},y))};this.getFooter=function(){return s("footer",{class:"".concat(o.FOOTER," ").concat(e.noBorder?c:"")},s("slot",{name:"footer"},s("chi-button",{"data-dismiss":"modal",onClick:function(){return e.cancel()}},"Cancel"),s("chi-button",{color:"primary",onClick:function(){return e.accept()}},"Save")))};this.modalTitle="Modal title";this.subtitle="";this.button="";this.center=false;this.scrollable=undefined;this.inverse=false;this.multiStep=false;this.animated=false;this.noBorder=false;this.simple=false;this.target=undefined;this.alert=false;this.sectionAnimationClasses=undefined;this.backdropAnimationClasses=undefined}t.prototype.sectionAnimationClassesChanged=function(){this.isActive=this.sectionAnimationClasses.includes(a)};t.prototype.scrollableValidation=function(t){if(t&&!["400","480","long-content"].includes(t)){throw new Error("".concat(t," is not a valid type for scrollable. Valid values are 400, 480 and long-content"))}};t.prototype.triggerValidation=function(){var t=[this.button,this.target,this.el.querySelector('[slot="trigger"]')].filter(Boolean).length;if(t===0){throw new Error("No trigger detected. Please provide one trigger. Modal ID is ".concat(this._uuid4,"."))}else if(t>1){throw new Error("Multiple triggers detected. Please provide only one trigger. Modal ID is ".concat(this._uuid4,"."))}};t.prototype.componentDidLoad=function(){var t=this;var i=this.target||this.el.querySelector('[slot="trigger"]');if(i){i.addEventListener("click",(function(){return t.toggle()}))}};t.prototype.componentWillLoad=function(){this.triggerValidation();this.scrollableValidation(this.scrollable);this.sectionAnimationClasses="";this.backdropAnimationClasses=h};t.prototype.updateAnimationClasses=function(t,i){this.sectionAnimationClasses=t;this.backdropAnimationClasses=i};t.prototype.handleAnimation=function(t,i,n){var s=this;if(this._animation&&!this._animation.isStopped()){this._animation.stop()}if(this.animated){var e=this.getUpdateAnimationClasses(t,i),r=e[0],o=e[1];this._animation=m.animationFactory((function(){return s.updateAnimationClasses(r[0],r[1])}),(function(){return s.updateAnimationClasses(o[0],o[1])}),n,w.MEDIUM)}else{n()}};t.prototype.show=function(){return __awaiter(this,void 0,void 0,(function(){var t;var i=this;return __generator(this,(function(n){t=function(){i.updateAnimationClasses(a,"");i.chiModalShown.emit()};this.chiModalShow.emit();this.handleAnimation(h,a,t);return[2]}))}))};t.prototype.hide=function(){return __awaiter(this,void 0,void 0,(function(){var t;var i=this;return __generator(this,(function(n){t=function(){i.updateAnimationClasses("",h);i.chiModalHidden.emit()};this.chiModalHide.emit();this.handleAnimation(a,h,t);return[2]}))}))};t.prototype.toggle=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:if(!this.isActive)return[3,2];return[4,this.hide()];case 1:t=i.sent();return[3,4];case 2:return[4,this.show()];case 3:t=i.sent();i.label=4;case 4:t;return[2]}}))}))};t.prototype.getContent=function(){var t=g([o.CONTENT,this.simple&&"".concat(k.TEXT_CENTER," ").concat(r.PADDING[6]),["400","480"].includes(this.scrollable)&&r.SIZING["MAX_H".concat(this.scrollable)]]);return s("div",{class:t},this.alert&&this.getAlertContent(),this.simple&&this.getSimpleContent(),!this.simple&&!this.alert&&this.getDefaultContent())};t.prototype.getHeader=function(){var t=this;var i=s("button",{onClick:function(){return t.chiModalBack.emit()},class:o.BACK,"aria-label":"Back"});return s("header",{class:"".concat(o.HEADER," ").concat(this.noBorder?c:"")},s("h2",{class:"".concat(o.TITLE," ").concat(this.multiStep?u:"")},this.modalTitle),this.subtitle&&s("h3",{class:o.SUBTITLE},this.subtitle),this.multiStep&&i,this.getCloseButton())};t.prototype.getTrigger=function(){var t=this;return s("slot",{name:"trigger"},s("chi-button",{id:"modal-trigger-".concat(this._uuid4),class:o.TRIGGER,"data-target":"#".concat(this._uuid4),onClick:function(){return t.toggle()}},this.button))};t.prototype.getBackdropClasses=function(){return g([l.BACKDROP,this.backdropAnimationClasses,this.scrollable==="long-content"&&r.SIZING.MAX_H480,this.center&&f,this.inverse&&d,this.animated&&v])};t.prototype.getSectionClasses=function(){return g([o.MODAL,this.sectionAnimationClasses,this.animated&&v])};t.prototype.render=function(){var t={id:this._uuid4,class:this.getSectionClasses(),role:"dialog","aria-label":"Modal description","aria-modal":"true"};return s("div",{key:"e9278dcde5332d2f0b91816599736a78fb397d2e"},!this.target&&this.getTrigger(),s("div",{key:"36d0be566c4c447cae6746d17d0c1db04ccb7885",class:this.getBackdropClasses()},s("div",{key:"d622920538fee029429f13227cac45277d4757e9",class:l.WRAPPER},s("section",Object.assign({key:"9221796ccb0f4f84932160d13fc0251c42adb858"},t),!this.simple&&this.getHeader(),this.simple&&this.getCloseButton(),this.getContent(),!this.simple&&this.getFooter()))))};Object.defineProperty(t.prototype,"el",{get:function(){return e(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{sectionAnimationClasses:["sectionAnimationClassesChanged"],scrollable:["scrollableValidation"]}},enumerable:false,configurable:true});return t}())}}}));