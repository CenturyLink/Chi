import{r as s,c as i,h as t,g as r}from"./p-99c091ba.js";import{A as o,C as a,T as c,D as e,U as h,E as n,I as d}from"./p-c2145321.js";import{A as l}from"./p-1ef4f618.js";import{j as g}from"./p-834de5c7.js";import{a as u}from"./p-f0aa53ea.js";const v=class{constructor(t){s(this,t),this.chiAccordionShow=i(this,"chiAccordionShow",7),this.chiAccordionHide=i(this,"chiAccordionHide",7),this.chiAccordionsChanged=i(this,"chiAccordionsChanged",7),this.size="md",this.card=!1,this.portal=!1,this.truncated=!1,this.accordions=[],this.type="base"}connectedCallback(){u.call(this)}async show(s){this.updateItems(s,!0)}async hide(s){this.updateItems(s,!1)}async toggle(s){this.updateItems(s,null,!0)}sizeValidation(s){const i=l.join(", ");if(!l.includes(s))throw new Error(`${s} is not a valid size for accordion. If provided, valid values are: ${i}. `);if("sm"===s&&this.card)throw new Error("sm is not a valid size for card accordion")}updateItems(s,i=!0,t=!1){const r=this.accordions.map((s=>Object.assign({},s)));void 0===s?s=r.map(((s,i)=>i)):Array.isArray(s)||(s=[s]),s.forEach((s=>r[s].expanded=t?!r[s].expanded:i)),JSON.stringify(r)!==JSON.stringify(this.accordions)&&(this.accordions=r,this.chiAccordionsChanged.emit(this.accordions))}_isLink(){return"link"===this.type}toggleAccordion(s){this.toggle(s),(this.accordions[s].expanded?this.chiAccordionShow:this.chiAccordionHide).emit(this.accordions[s])}getAccordionClasses(){return g([o.ACCORDION,`-${this.size}`,this.card&&a,this.truncated&&c,this._isLink()&&o.LINK])}getChevronIcon(){return t("i",{class:`${d} icon-chevron-down`,"aria-hidden":"true"})}getBaseTrigger(s,i){const r=g([o.TRIGGER,s.disabled&&e]),a=t("div",{class:o.TITLE},s.title),c=!this.portal||this.card,h=[this.getChevronIcon(),a];return c||h.reverse(),t("div",{class:r,onClick:()=>this.toggleAccordion(i)},h)}getLinkTrigger(s,i){const r=g([s.disabled&&e,o.TRIGGER_LINK]),a=[t("span",null,s.title),this.getChevronIcon()];return t("div",{class:r,onClick:()=>this.toggleAccordion(i)},t("chi-link",{disabled:s.disabled,"no-underline":!0},a))}getAccordionContent(s){const i=s.template?t("slot",{name:s.template}):t("p",{class:o.TEXT},s.text);return t("div",{class:g([o.CONTENT,this._isLink()&&h.PADDING.X[0]])},i)}getAccordionItem(s,i){const r=g([o.ITEM,s.expanded&&!s.disabled&&n]),a=(this._isLink()?this.getLinkTrigger:this.getBaseTrigger).call(this,s,i);return t("div",{class:r},a,this.getAccordionContent(s))}render(){var s;return t("div",{key:"3326d596ea1318b408575ce3d5ba6a336672c0c5",class:this.getAccordionClasses()},...null===(s=this.accordions)||void 0===s?void 0:s.map(((s,i)=>this.getAccordionItem(s,i))))}get el(){return r(this)}static get watchers(){return{size:["sizeValidation"]}}};export{v as chi_accordion}