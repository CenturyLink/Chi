import{r as t,c as i,h as e,g as a}from"./p-99c091ba.js";import{F as s,e as r}from"./p-914f348a.js";import{F as o,U as n,l as h,m as d}from"./p-c6d5045e.js";import{C as l}from"./p-1ad0e10c.js";import{v as c}from"./p-d1e6806c.js";const p=class{constructor(e){t(this,e),this.chiChange=i(this,"chiChange",7),this.layout="stacked",this.id=c()}layoutValidation(t){if(!s.includes(t))throw new Error(`${t} is not a valid type for form wrapper layout. Valid values are: ${s.join(", ")}.`)}typeValidation(t){if(!r.includes(t))throw new Error(`${t} is not a valid type for form wrapper type. Valid values are: ${r.join(", ")}.`)}stateValidation(t){if(!l.includes(t))throw new Error(`${t} is not a valid state for form wrapper state. Valid values are: ${l.join(", ")}.`)}optionsValidation(t){if(!(null==t?void 0:t.length))throw new Error("Options must be provided to form wrapper.")}componentWillLoad(){var t;this.options=(null!==(t=this.options)&&void 0!==t?t:[]).map((t=>Object.assign(Object.assign({},t),{id:t.id||`${this.id}-${c()}`,checked:t.checked||!1})))}_getLabel(){if(this.label)return e("chi-label",null,this.label)}_getItems(){var t;const i={checkbox:this._getCheckbox,radio:this._getRadioButton}[this.type].bind(this);return null===(t=this.options)||void 0===t?void 0:t.map(((t,e)=>this._getFormItem(i(t),e===this.options.length-1)))}_getCheckbox(t){return e("chi-checkbox",{id:t.id,label:t.label,checked:t.checked&&"indeterminate"!==t.checked,disabled:t.disabled,name:t.name,state:this.state,indeterminate:"indeterminate"===t.checked,onChiChange:t=>this._onChange(t)})}_getRadioButton(t){return e("chi-radio-button",{id:t.id,label:t.label,checked:t.checked,disabled:t.disabled,name:t.name,state:this.state,onChiChange:t=>this._onChange(t)})}_getItemWrapperClasses(t){return[o.FORM_ITEM,"inline"!==this.layout&&!t&&n.MARGIN.BOTTOM[1],"inline"===this.layout&&h.LAYOUTS.INLINE].filter(Boolean).join(" ")}_getFormItem(t,i=!1){const a=this._getItemWrapperClasses(i);return e("div",{class:a},t)}_onChange(t){const i=t.target,e={radio:()=>this._onRadioButtonChange(i)}[this.type];t.stopPropagation(),e?e():this.options.find((t=>t.id===i.id)).checked=!!i.checked,this.chiChange.emit(this.options)}_onRadioButtonChange(t){this.options.forEach((i=>{i.checked=i.id===t.id}))}_getFieldset(){return e("fieldset",null,this._getLabel(),this._getItems())}render(){let t=this._getFieldset();return this.helperMessage&&(t=e("div",{key:"9d25a809a1ff5f961d65d17176381073a33e307e",class:d.WRAPPER},t,e("chi-helper-message",{key:"513b7d099c074d42155a8d302c7713258dd10135",state:this.state},this.helperMessage))),t}get el(){return a(this)}static get watchers(){return{layout:["layoutValidation"],type:["typeValidation"],state:["stateValidation"],options:["optionsValidation"]}}};p.style="chi-form-wrapper.sc-chi-form-wrapper-h{display:block}";export{p as chi_form_wrapper}