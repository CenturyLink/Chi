System.register(["./p-c5e4b882.system.js","./p-872fa637.system.js","./p-1350fb0c.system.js","./p-2f867cd7.system.js"],(function(t){"use strict";var i,s,n,h,e,r,u,f,o,a,c,v,l;return{setters:[function(t){i=t.r;s=t.c;n=t.h;h=t.g},function(t){e=t.a;r=t.S;u=t.b;f=t.c;o=t.U},function(t){a=t.C;c=t.a;v=t.A},function(t){l=t.T}],execute:function(){var d="chi-carousel.sc-chi-carousel-h{display:block;width:100%}";var p=d;var m=25;var w=200;var b=.95;var y=t("chi_carousel",function(){function t(t){var n=this;i(this,t);this.chiViewChange=s(this,"chiViewChange",7);this.interval=5;this.noButtonControllers=false;this.view=0;this.numberOfViews=0;this.transformX=0;this.scrollBreakpoints={0:m};this.isDragging=false;this.currentStep=0;this.remainingSpace=0;this.isLastView=false;this.isLastStep=false;this.restItemsShown=0;this.resizeHandler=function(){n._calculateCarouselWidth()};this.touchEnd=function(){if(n.isDragging){n.isDragging=false;n.wrapper.style.transform=n.getWrapperTransform()}};this.touchMove=function(t){if(n.isDragging){var i=n.getPositionX(t);var s=n.scrollBreakpoints[n.view+1];var h=n.getMoveDelta();var e=n.isMoveToNext()?s-h:s+h;n.moveEndPosition=i;n.wrapper.style.transform="translateX(".concat(e,"px)");if(h>a){if(n.isMoveToNext()){n.nextView()}else{n.prevView()}n.isDragging=false}}};this.touchStart=function(t){n.moveStartPosition=n.getPositionX(t);n.isDragging=true};this.getPositionX=function(t){return t.touches[0].clientX}}t.prototype._calculateCarouselWidth=function(){var t=this._getCarouselItems();this.fullScrollLength=this.el.offsetWidth||this.fullScrollLength;if(this.single){this._applySizeToItems();this.transformX=-(this.currentStep*t[0].offsetWidth)}var i=this.fullScrollLength/t[0].offsetWidth;this.maxItemsShown=i%1>b?Math.ceil(i):Math.floor(i);this.numberOfViews=Math.ceil(t.length/this.maxItemsShown);this.restItemsShown=t.length%this.maxItemsShown;if(this.isLastView){this._calculateView(c.NEXT,this.currentStep)}};t.prototype.connectedCallback=function(){this.customPrevButton=!!this.el.querySelector('[slot="previous"]');this.customNextButton=!!this.el.querySelector('[slot="next"]')};t.prototype.componentDidLoad=function(){this._calculateCarouselWidth();this._autoPlay(false);window.addEventListener("resize",this.resizeHandler)};t.prototype.componentWillOnload=function(){window.removeEventListener("resize",this.resizeHandler)};t.prototype._autoPlay=function(t){var i=this;if(this.autoplay&&!this.autoplayInterval&&!t){this.autoplayInterval=window.setInterval((function(){if(i.view===i.numberOfViews-1){i._goToView(-1)}i._goToView(++i.view)}),this.interval*1e3)}else{window.clearInterval(this.autoplayInterval);this.autoplayInterval=null}};t.prototype._calculateView=function(t,i){var s=this._getCarouselItems();var n=s[0].offsetWidth;var h=i!==undefined?i:this.maxItemsShown*-t+this.currentStep;var e=s.length-h;var r=this.isLastView;this.isLastView=e<=this.maxItemsShown;this.isLastStep=e<=0;if(h<0)h=0;if(this.isLastStep&&t===c.NEXT)return;if(this.isLastView){this._moveLastView(i,e,n)}else if(h===0){this.transformX=0}else{this._moveView(i,n,h,t,r)}if(h>=0){this.currentStep=Math.abs(h)}};t.prototype._moveView=function(t,i,s,n,h){if(t){this.transformX=t*i*-1}else{var e=this._getGap();this.transformX+=h?this.remainingSpace:(Math.abs(s-this.currentStep)*i+e*this.maxItemsShown)*n}};t.prototype._moveLastView=function(t,i,s){var n=this._getGap();var h=this.maxItemsShown+i;this.remainingSpace=Math.abs(this.fullScrollLength-h*s-n*h-n/3);if(t){this.transformX=this.fullScrollLength-(t+i)*s}else{this.transformX-=this.remainingSpace}};t.prototype._bounceView=function(t){var i=this;if(this.isLastStep){this.transformX+=m*t}else{this.transformX=m*t}setTimeout((function(){i.transformX-=m*t}),w)};t.prototype.prevView=function(){var t=this;this._calculateView(c.PREVIOUS);if(this.animation&&!this.animation.isStopped()){this.animation.stop()}if(this.view>=-1){this.animation=l.animationFactory((function(){t._animationClasses="".concat(e)}),(function(){if(t.view>=0){t.view=t.view-1}}),(function(){if(t.view===-1){t.view=0}else{t._animationClasses="";t.chiViewChange.emit(t.view)}}),v.SHORT)}if(this.currentStep===0||this.isLastStep){this._bounceView(c.PREVIOUS)}};t.prototype.nextView=function(){var t=this;this._calculateView(c.NEXT);if(this.animation&&!this.animation.isStopped()){this.animation.stop()}this.animation=l.animationFactory((function(){t._animationClasses="".concat(e)}),(function(){if(t.view<t.numberOfViews){t.view=t.view+1}}),(function(){if(t.view===t.numberOfViews){t.view=t.numberOfViews-1}else{t.chiViewChange.emit(t.view);t._animationClasses=""}}),v.SHORT);if(this.currentStep===0||this.isLastStep){this._bounceView(c.NEXT)}};t.prototype.isMoveToNext=function(){return this.moveStartPosition>this.moveEndPosition};t.prototype.getMoveDelta=function(){return Math.abs(this.moveEndPosition-this.moveStartPosition)};t.prototype.getWrapperTransform=function(){return"translateX(".concat(this.transformX,"px)")};t.prototype._applySizeToItems=function(){var t=this;var i=this._getCarouselItems();if(i){i.forEach((function(i){i.style.width="".concat(t.fullScrollLength,"px")}))}};t.prototype._goToView=function(t){var i=this.maxItemsShown*t;var s=i>this.currentStep?c.NEXT:c.PREVIOUS;this._calculateView(s,i);this.view=t;this.chiViewChange.emit(t)};t.prototype._getCarouselItems=function(){var t=[u.ITEM,r.ITEM];return this.el.querySelectorAll(t.map((function(t){return".".concat(t)})).join(", "))};t.prototype._areThereMultipleItems=function(){var t=this._getCarouselItems();return t.length>1};t.prototype._getItemVisibility=function(t){var i=this.view*this.maxItemsShown;var s=i+this.maxItemsShown;if(this.isLastView&&this.restItemsShown>0){i=i-(this.maxItemsShown-this.restItemsShown)}return t>=i&&t<s};t.prototype.setVisibleClass=function(){var t=this;var i=this._getCarouselItems();i.forEach((function(i,s){var n=t._getItemVisibility(s);i.classList.toggle("-visible",n)}))};t.prototype._getStatComponent=function(){return this.el.querySelector(".".concat(r.STAT))};t.prototype._getGap=function(){var t=this._getStatComponent();if(t){var i=window.getComputedStyle(t);return parseInt(i.gap,10)}return 0};t.prototype.render=function(){var t=this;this.setVisibleClass();var i=this._areThereMultipleItems()&&!this.noButtonControllers&&n("div",{class:"".concat(u.CONTROL," ").concat(u.PREVIOUS),onClick:function(){return t.prevView()}},this.customPrevButton?n("slot",{name:"previous"}):n("chi-button",{size:"sm",type:"float","alternative-text":"Carousel previous",disabled:this.currentStep<=0},n("chi-icon",{icon:"chevron-left"})));var s=this._areThereMultipleItems()&&!this.noButtonControllers&&n("div",{class:"".concat(u.CONTROL," ").concat(u.NEXT),onClick:function(){return t.nextView()}},this.customNextButton?n("slot",{name:"next"}):n("chi-button",{size:"sm",type:"float","alternative-text":"Carousel next",disabled:this.isLastView},n("chi-icon",{icon:"chevron-right"})));var h=n("slot",{name:"items"});var e=this.dots?n("div",{class:u.DOTS},Array(this.numberOfViews).fill(0).map((function(i,s){return n("span",{onClick:function(){t._goToView(s)},class:"\n              ".concat(u.DOT,"\n              ").concat(t.view===s||t.view===-1&&s===0||t.view===t.numberOfViews&&s===t.numberOfViews-1?f:"")})}))):null;var r=this.pagination?n("div",{class:u.PAGINATION},this.view===0||this.view===-1?1:this.view+1>this.numberOfViews?this.numberOfViews:this.view+1," ","of ",this.numberOfViews):null;return n("div",{onTouchStart:this.touchStart,onTouchEnd:this.touchEnd,onTouchMove:this.touchMove,onMouseEnter:function(){return t._autoPlay(true)},onMouseLeave:function(){return t._autoPlay(false)},class:"\n        ".concat(u.CAROUSEL,"\n        ").concat(this.dots?u.DOTS_ADDITION:"","\n        ").concat(this.pagination?u.PAGINATION_ADDITION:"")},n("div",{class:u.CONTENT},n("div",{class:"\n            ".concat(u.WRAPPER,"\n            ").concat(this._animationClasses,"\n            ").concat(this.single?o.DISPLAY.FLEX:"","\n          "),style:{transform:this.getWrapperTransform()},ref:function(i){return t.wrapper=i}},h)),i,s,e,r)};Object.defineProperty(t.prototype,"el",{get:function(){return h(this)},enumerable:false,configurable:true});return t}());y.style=p}}}));