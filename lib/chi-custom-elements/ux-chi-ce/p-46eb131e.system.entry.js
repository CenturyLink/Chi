var __awaiter=this&&this.__awaiter||function(t,i,e,n){function c(t){return t instanceof e?t:new e((function(i){i(t)}))}return new(e||(e=Promise))((function(e,s){function r(t){try{o(n.next(t))}catch(t){s(t)}}function u(t){try{o(n["throw"](t))}catch(t){s(t)}}function o(t){t.done?e(t.value):c(t.value).then(r,u)}o((n=n.apply(t,i||[])).next())}))};var __generator=this&&this.__generator||function(t,i){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,c,s,r;return r={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function u(t){return function(i){return o([t,i])}}function o(u){if(n)throw new TypeError("Generator is already executing.");while(r&&(r=0,u[0]&&(e=0)),e)try{if(n=1,c&&(s=u[0]&2?c["return"]:u[0]?c["throw"]||((s=c["return"])&&s.call(c),0):c.next)&&!(s=s.call(c,u[1])).done)return s;if(c=0,s)u=[u[0]&2,s.value];switch(u[0]){case 0:case 1:s=u;break;case 4:e.label++;return{value:u[1],done:false};case 5:e.label++;c=u[1];u=[0];continue;case 7:u=e.ops.pop();e.trys.pop();continue;default:if(!(s=e.trys,s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){e.label=u[1];break}if(u[0]===6&&e.label<s[1]){e.label=s[1];s=u;break}if(s&&e.label<s[2]){e.label=s[2];e.ops.push(u);break}if(s[2])e.ops.pop();e.trys.pop();continue}u=i.call(t,e)}catch(t){u=[6,t];c=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};System.register(["./p-c5e4b882.system.js","./p-adb0847a.system.js","./p-1350fb0c.system.js","./p-1e09ecde.system.js","./p-bdc484a7.system.js"],(function(t){"use strict";var i,e,n,c,s,r,u,o;return{setters:[function(t){i=t.r;e=t.h;n=t.g},function(t){c=t.c},function(t){s=t.E;r=t.b},function(t){u=t.d},function(t){o=t.v}],execute:function(){var f=t("chi_time_picker",function(){function t(t){i(this,t);this.disabled=false;this.displaySeconds=false;this.format="12hr";this.active=false}t.prototype._onFocusIn=function(t){if(t.target!==document.body&&t.target!==null){this.active=c(this.el,t.target)}};t.prototype._onClick=function(t){if(t.target!==document.body&&t.target!==null){this.active=c(this.el,t.target)}};t.prototype._isEscapeKey=function(t){return"key"in t&&(t.key==="Escape"||t.key==="Esc"||t.key===s)};t.prototype._onKeyUp=function(t){if(this._isEscapeKey(t)){this.active=false;this._input.blur()}};t.prototype.timeChanged=function(t,i){if(!!t!==!!i){this.value=t}};t.prototype.setTime=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.value=t;return[2]}))}))};t.prototype.getTime=function(){return Promise.resolve(this.value)};t.prototype.componentWillLoad=function(){this._onFocusIn=this._onFocusIn.bind(this);this._onClick=this._onClick.bind(this);this._onKeyUp=this._onKeyUp.bind(this);this._uuid=this.el.id?this.el.id:"tp-".concat(o())};t.prototype.componentDidLoad=function(){document.body.addEventListener("focusin",this._onFocusIn);document.body.addEventListener("click",this._onClick);document.body.addEventListener("keyup",this._onKeyUp)};t.prototype.disconnectedCallback=function(){document.body.removeEventListener("focusin",this._onFocusIn);document.body.removeEventListener("click",this._onClick);document.body.removeEventListener("keyup",this._onKeyUp)};t.prototype.handlePopoverOpen=function(t){t.stopPropagation();var i=this.el.querySelector(".".concat(u.HOURS));var e=this.el.querySelector(".".concat(u.MINUTES));var n=this.el.querySelector(".".concat(u.SECONDS));setTimeout((function(){if(i){var t=i.querySelector(".".concat(u.HOUR,".-active"));if(t){i.scrollTop=t.offsetTop-4}}if(e){var c=e.querySelector(".".concat(u.MINUTE,".-active"));if(c){e.scrollTop=c.offsetTop-4}}if(n){var s=n.querySelector(".".concat(u.SECOND,".-active"));if(s){n.scrollTop=s.offsetTop-4}}}),r)};t.prototype.handleTimeChange=function(t){var i=document.getElementById("".concat(this._uuid,"-control"));var e=function(t){return String(t).length>1?String(t):"0".concat(t)};var n=this.format!=="24hr"&&t.detail.hour>12?t.detail.hour-12:t.detail.hour;var c=this.displaySeconds?":".concat(e(t.detail.second)):"";var s=this.format==="12hr"?e(t.detail.period):"";i.value="".concat(e(n),":").concat(e(t.detail.minute)).concat(c," ").concat(s)};t.prototype.render=function(){var t=this;var i=e("chi-popover",{key:"4e6b62e3cac614e82a6bbd3ac015f033202fe6f2",id:"popover-".concat(this._uuid),position:"bottom",reference:"#".concat(this._uuid,"-control"),"prevent-auto-hide":true,active:this.active},e("chi-time",{key:"684a2814efcaf4255ba07742af4e9b3b5dbaef72","display-seconds":this.displaySeconds,"excluded-hours":this._excludedHours,"excluded-minutes":this._excludedMinutes,"excluded-seconds":this._excludedSeconds,format:this.format,value:this.value,"seconds-step":this.secondsStep,"minutes-step":this.minutesStep}));return e("div",{key:"c4a7cfe21119aedb33f4fac064349b987dba6045",class:this.disabled?"-disabled":""},e("div",{key:"901c7e426a856fa6095876f496e5676de074ec98",class:"chi-input__wrapper -icon--right"},e("input",{key:"bade73cd8c1082516eb9caa0f3725550112dd4fb",id:"".concat(this._uuid,"-control"),class:"chi-input\n              ".concat(this.active?"-focus":""),type:"text",placeholder:this.format==="12hr"?"--:-- --":"--:--",ref:function(i){return t._input=i},value:this.value,disabled:this.disabled}),e("chi-icon",{key:"f0fc7e7bde70fb8475a552342553718c30832962",icon:"circle-clock-outline"})),!this.disabled&&i)};Object.defineProperty(t.prototype,"el",{get:function(){return n(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{value:["timeChanged"]}},enumerable:false,configurable:true});return t}())}}}));