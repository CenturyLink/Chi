System.register([],(function(t){"use strict";return{execute:function(){var i;(function(t){t[t["Initialized"]=0]="Initialized";t[t["Preparing"]=1]="Preparing";t[t["Prepared"]=2]="Prepared";t[t["Starting"]=3]="Starting";t[t["Started"]=4]="Started";t[t["Stopping"]=5]="Stopping";t[t["Stopped"]=6]="Stopped"})(i||(i={}));var n=function(){function t(t,n,s,r){this.forceStopped=false;this.prepareFunction=t;this.startFunction=n;this.endFunction=s;this.animationDuration=r;this.status=i.Initialized}t.prototype.prepare=function(){var t=this;this.status=i.Preparing;this.prepareAnimationFrame=window.requestAnimationFrame((function(){if(t.status!==i.Preparing){return}t.prepareFunction();t.status=i.Prepared;t.startAnimationFrame=window.requestAnimationFrame((function(){t.start()}))}))};t.prototype.start=function(){var t=this;if(this.status!==i.Prepared){return}this.status=i.Starting;this.startFunction();this.status=i.Started;this.endTimeout=window.setTimeout((function(){t.end()}),this.animationDuration)};t.prototype.stop=function(){if(!this.isStopped()){window.cancelAnimationFrame(this.prepareAnimationFrame);window.cancelAnimationFrame(this.startAnimationFrame);window.clearTimeout(this.endTimeout);this.status=i.Stopped;this.forceStopped=true}};t.prototype.end=function(){if(this.isStopped()){return}this.status=i.Stopping;this.endFunction();this.status=i.Stopped};t.prototype.getState=function(){return this.status};t.prototype.isStopped=function(){return this.status===i.Stopped};t.prototype.wasForceStopped=function(){return this.forceStopped};t.animationFactory=function(i,n,s,r){var h=new t(i,n,s,r);h.prepare();return h};return t}();t("T",n)}}}));