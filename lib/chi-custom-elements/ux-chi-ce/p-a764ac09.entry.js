import{r as t,c as s,h as i,g as e}from"./p-99c091ba.js";import{P as a}from"./p-0019854f.js";import{p as h,q as l,G as o,U as c,F as n,R as r,h as d}from"./p-06b0e8eb.js";import{P as p,a as m}from"./p-1ef4f618.js";import{a as b}from"./p-f0aa53ea.js";import{j as u}from"./p-834de5c7.js";import{v as f}from"./p-d1e6806c.js";const $=class{constructor(i){t(this,i),this.chiChange=s(this,"chiChange",7),this.size="md",this.pill=!1,this.type="checkbox",this.required=!1,this.optional=!1,this.infoIcon=!1,this.infoIconMessage="",this.id=f()}typeValidation(t){if(!a.includes(t))throw new Error(`Picker type must be one of ${a.join(" ")}`)}pillValidation(t){if(t&&this.showInput)throw new Error("Pill layout is not valid with show input property")}sizeValidation(t){this.pill&&!p.includes(t)?this.size="sm":this.pill||m.includes(t)||(this.size="md")}componentWillLoad(){this.options=(this.options||[]).map((t=>Object.assign(Object.assign({},t),{id:t.id||`${this.id}-${f()}`,checked:t.checked||!1}))),this.sizeValidation(this.size)}connectedCallback(){b.call(this)}_isRadio(){return"radio"===this.type}_getLabel(){return i("chi-label",{required:this.required,optional:this.optional,"info-icon":this.infoIcon,"info-icon-message":this.infoIconMessage},this.label)}_getItem(t){const s=[h.PICKER,this.pill&&l,o[this.size.toUpperCase()]].filter(Boolean).join(" ");return i("div",{class:s},i("input",{class:h.INPUT,name:`${this.id}-group`,id:t.id,disabled:t.disabled,checked:t.checked,type:this.type,"aria-checked":t.checked,"aria-labelledby":`${t.id}-label`,onClick:s=>this._onClick(t,s)}),this._getItemLabel(t))}_getItemLabel(t){const s=this.el.querySelector(`[slot=content-end-${t.id}]`),e=t.id&&this.el.querySelector(`[slot="${t.id}-content"]`),a=this.pill||[this.showInput,s,t.description,e].every((t=>!t));return i("label",{htmlFor:t.id,id:`${t.id}-label`},a?t.label:this._getComplexItemLabelContent(t,s),this._getItemContentSlot(t))}_getItemContentSlot(t){return i("div",{class:h.CONTENT_CUSTOM},i("slot",{name:`${t.id}-content`}))}_getComplexItemLabelContent(t,s){return s?i("div",{class:u([h.CONTENT,c.SIZING.W100])},this._getContentStart(t,!0),i("div",{class:h.CONTENT_END},i("slot",{name:`content-end-${t.id}`}))):this._getContentStart(t)}_getContentStart(t,s=!1){const e=t.description&&i("div",{class:`${h.DESCRIPTION} ${this.showInput?"":c.MARGIN.LEFT[0]}`},t.description);return e||s?i("div",{class:u([h.CONTENT_START,s&&c.SIZING.W100,s&&c.SIZING.WSM65])},this._getLabelContent(t),e):this._getLabelContent(t)}_getLabelContent(t){return this.showInput?i("div",{class:`${n.FORM_ITEM} ${r}`},i("span",{class:"checkbox"===this.type?h.CHECKBOX:h.RADIO}),i("span",{class:h.LABEL},t.label)):i("div",{class:`${n.FORM_ITEM} ${r}`},i("span",{class:`${h.LABEL} ${c.MARGIN.LEFT[0]}`},t.label))}_onClick(t,s){s.stopPropagation(),this._isRadio()&&this.options.forEach((t=>t.checked=!1)),t.checked=s.target.checked,this.chiChange.emit(this.options)}_getOptions(){var t;const s=null===(t=this.options)||void 0===t?void 0:t.map((t=>this._getItem(t)));return this.pill?i("div",{class:c.DISPLAY.FLEX},s):s}_getFieldset(){return i("fieldset",null,this.label&&this._getLabel(),this._getOptions())}render(){let t=this._getFieldset();return this.helperMessage&&(t=i("div",{key:"836075b77ba2319b36e45c5baa16b7c17e3078fb",class:d.WRAPPER},t,i("chi-helper-message",{key:"31d392a5e73e3614240d79cc0947c182ca51db54",state:this.state},this.helperMessage))),t}get el(){return e(this)}static get watchers(){return{type:["typeValidation"],pill:["pillValidation"],size:["sizeValidation"]}}};$.style="chi-picker.sc-chi-picker-h label.sc-chi-picker{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}";export{$ as chi_picker}