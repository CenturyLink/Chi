import{r as s,c as i,h as t,g as r}from"./p-1fb7f4e7.js";import{A as o,D as h,U as c,E as e,C as a,T as n,I as d}from"./p-70488c96.js";import{A as l}from"./p-1ef4f618.js";import{j as f}from"./p-834de5c7.js";import{a as g}from"./p-3d620cf0.js";const u=class{constructor(t){s(this,t),this.chiAccordionShow=i(this,"chiAccordionShow",7),this.chiAccordionHide=i(this,"chiAccordionHide",7),this.chiAccordionsChanged=i(this,"chiAccordionsChanged",7),this.size="md",this.card=!1,this.portal=!1,this.truncated=!1,this.accordions=[],this.type="base"}connectedCallback(){g.call(this)}async show(s){this.updateItems(s,!0)}async hide(s){this.updateItems(s,!1)}async toggle(s){this.updateItems(s,null,!0)}sizeValidation(s){const i=l.join(", ");if(!l.includes(s))throw new Error(`${s} is not a valid size for accordion. If provided, valid values are: ${i}. `);if("sm"===s&&this.card)throw new Error("sm is not a valid size for card accordion")}updateItems(s,i=!0,t=!1){const r=this.accordions.map((s=>Object.assign({},s)));void 0===s?s=r.map(((s,i)=>i)):Array.isArray(s)||(s=[s]),s.forEach((s=>r[s].expanded=t?!r[s].expanded:i)),JSON.stringify(r)!==JSON.stringify(this.accordions)&&(this.accordions=r,this.chiAccordionsChanged.emit(this.accordions))}_isLink(){return"link"===this.type}toggleAccordion(s){this.toggle(s),(this.accordions[s].expanded?this.chiAccordionShow:this.chiAccordionHide).emit(this.accordions[s])}getAccordionClasses(){return f([o.ACCORDION,`-${this.size}`,this.card&&a,this.truncated&&n])}getChevronIcon(){return t("i",{class:`${d} icon-chevron-down`,"aria-hidden":"true"})}getBaseTrigger(s,i){const r=f([o.TRIGGER,s.disabled&&h]),c=t("div",{class:o.TITLE},s.title),e=!this.portal||this.card,a=[this.getChevronIcon(),c];return e||a.reverse(),t("div",{class:r,onClick:()=>this.toggleAccordion(i)},a)}getLinkTrigger(s,i){const r=f([s.disabled&&h]),o=[this.getChevronIcon(),t("span",null,s.title)];return!this.portal||this.card||o.reverse(),t("div",{class:r,onClick:()=>this.toggleAccordion(i)},t("chi-link",{disabled:s.disabled},o))}getAccordionContent(s){const i=s.template?t("slot",{name:s.template}):t("p",{class:o.TEXT},s.text);return t("div",{class:f([o.CONTENT,this._isLink()&&c.PADDING.X[0]])},i)}getAccordionItem(s,i){const r=f([o.ITEM,s.expanded&&!s.disabled&&e]),h=(this._isLink()?this.getLinkTrigger:this.getBaseTrigger).call(this,s,i);return t("div",{class:r},h,this.getAccordionContent(s))}render(){var s;return t("div",{key:"e3425fed8ad3fa8d17078f84612bfc48793e90d3",class:this.getAccordionClasses()},...null===(s=this.accordions)||void 0===s?void 0:s.map(((s,i)=>this.getAccordionItem(s,i))))}get el(){return r(this)}static get watchers(){return{size:["sizeValidation"]}}};export{u as chi_accordion}