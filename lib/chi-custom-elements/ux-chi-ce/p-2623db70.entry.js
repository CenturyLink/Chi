import{r as i,c as t,h as s,g as a}from"./p-99c091ba.js";import{v as h}from"./p-d1e6806c.js";const e=class{constructor(s){i(this,s),this.chiPageChange=t(this,"chiPageChange",7),this.chiPageSizeChange=t(this,"chiPageSizeChange",7),this.firstLast=!1,this.inverse=!1,this.currentPage=1,this.results=0,this.pageSize=!1,this.pageJumper=!1,this.compact=!1,this.ariaLabel="Pagination",this.size="md",this._pagesArray=[],this._pagesToRender=[],this._lastRenderedPage=null}calculateDistanceFromCurrent(){switch(this.currentPage){case 1:this._distanceFromCurrent=4;break;case 2:this._distanceFromCurrent=3;break;default:this._distanceFromCurrent=2}}_goToPage(i){let t;for(let s=i;s&&!s.classList.contains("chi-button-group");s=s.parentNode)"BUTTON"===s.nodeName&&(t=s.getAttribute("data-page"));this.chiPageChange.emit(t)}_jumpToPage(i){this.chiPageChange.emit(i)}_pageSizeChange(i){this.chiPageSizeChange.emit(i)}componentWillLoad(){this.calculateDistanceFromCurrent(),this._pageJumperUuid=this.el.id?`${this.el.id}__page-jumper`:`${h()}__page-jumper`}componentWillUpdate(){this.calculateDistanceFromCurrent(),this._pagesArray=[],this._pagesToRender=[],this._lastRenderedPage=0}render(){const i=(i,t=null,a="")=>{let h,e;if(i)h=i,e=`Page ${i}`;else if(t)switch(t){case"page-first":h=1,e="First page";break;case"page-last":h=this.pages,e="Last page";break;case"chevron-left":h=this.currentPage-1,e="Previous page";break;case"chevron-right":h=this.currentPage+1,e="Next page"}return s("button",{"data-page":h,class:`chi-button -flat\n        ${this.inverse?"-light":""}\n        ${t?"-icon":""}\n        ${parseInt(i)===this.currentPage?"-active":""}\n        ${this.size?`-${this.size}`:""}\n        `,onClick:i=>{i.stopPropagation(),this._goToPage(i.target)},"aria-label":e,"aria-disabled":"disabled"===a,disabled:"disabled"===a,type:"button"},s("div",{class:"chi-button__content"},t?s("i",{class:`chi-icon icon-${t}`,"aria-hidden":"true"}):i))},t=this.results>0?s("div",{class:`chi-pagination__results\n        ${this.size?`-text--${this.size}`:""}\n      `},s("span",{class:"chi-pagination__label"},this.results," results")):null,a=this.pageSize?s("div",{class:`chi-pagination__page-size\n      ${this.size?`-text--${this.size}`:""}\n    `},s("select",{class:"chi-input",onChange:i=>this._pageSizeChange(i.target.value),"aria-label":"Number of result items per page"},s("option",{value:"20"},"20"),s("option",{value:"40"},"40"),s("option",{value:"60"},"60"),s("option",{value:"80"},"80"),s("option",{value:"all"},"All")),s("span",{class:"chi-pagination__label"},"per page")):null,h=this.pageJumper&&!this.compact?s("div",{class:`chi-pagination__jumper\n        ${this.size?`-text--${this.size}`:""}\n    `},s("label",{class:"chi-pagination__label",htmlFor:this._pageJumperUuid},"Go to page:"),s("input",{class:`chi-input\n        ${this.size?`-${this.size}`:""}\n        `,id:this._pageJumperUuid,type:"text",value:"",onChange:i=>this._jumpToPage(i.target.value)})):null,e=this.firstLast?i("","page-first",1===this.currentPage?"disabled":""):null,n=this.firstLast?i("","page-last",this.currentPage===this.pages?"disabled":""):null;if(this.compact){const i=s("div",{class:"chi-pagination__label"},this.pageJumper?null:s("strong",null,this.currentPage),s("span",null,"of"),s("strong",null,this.pages)),t=this.pageJumper?s("div",{class:"chi-pagination__jumper"},s("input",{type:"text",class:"chi-input",value:this.currentPage,onChange:i=>this._jumpToPage(i.target.value),"aria-label":`Page ${this.currentPage}`}),i):i;this._pagesToRender.push(t)}else{this._pagesArray.push(1);for(let i=this.currentPage-this._distanceFromCurrent;i<=this.currentPage+this._distanceFromCurrent;i++)i<this.pages&&i>1&&this._pagesArray.push(i);this._pagesArray.push(this.pages);for(const t of this._pagesArray){if(this._lastRenderedPage)if(t-this._lastRenderedPage==2)this._pagesToRender.push(i(this._lastRenderedPage+1));else if(t-this._lastRenderedPage!=1){const i=s("div",{class:"chi-button -flat -md -disabled "+(this.inverse?"-light":""),"aria-hidden":"true"},s("div",{class:"chi-button__content"},"..."));this._pagesToRender.push(i)}this._pagesToRender.push(i(t)),this._lastRenderedPage=t}}return s("nav",{class:`\n        chi-pagination\n        ${this.inverse?"-inverse":""}\n        ${this.compact?"-compact":""}\n      `,role:"navigation","aria-label":this.ariaLabel},s("div",{class:"chi-pagination__content"},s("div",{class:"chi-pagination__start"},t,a),s("div",{class:"chi-pagination__center"},s("div",{class:"chi-button-group"},e,i("","chevron-left",1===this.currentPage?"disabled":""),this._pagesToRender,i("","chevron-right",this.currentPage===this.pages?"disabled":""),n)),s("div",{class:"chi-pagination__end"},h)))}get el(){return a(this)}};e.style="";export{e as chi_pagination}