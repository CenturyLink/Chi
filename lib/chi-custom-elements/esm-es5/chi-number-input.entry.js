import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-422a57bb.js";import{C as CHI_STATES}from"./states-a5be3f93.js";import{a as addMutationObserver}from"./mutationObserver-46245962.js";var numberInputCss="chi-number-input.sc-chi-number-input-h{display:-ms-inline-flexbox !important;display:inline-flex !important;position:relative;vertical-align:middle}";var ChiNumberInputStyle0=numberInputCss;var NumberInput=function(){function t(t){registerInstance(this,t);this.chiChange=createEvent(this,"chiChange",7);this.chiInput=createEvent(this,"chiInput",7);this.chiNumberInvalid=createEvent(this,"chiNumberInvalid",7);this.chiFocus=createEvent(this,"chiFocus",7);this.chiBlur=createEvent(this,"chiBlur",7);this.chiClick=createEvent(this,"chiClick",7);this.step=1}t.prototype.inputStyleValidation=function(t){if(t&&!CHI_STATES.includes(t)){throw new Error("".concat(t," is not a valid inputstyle for number input. If provided, valid values are: ").concat(CHI_STATES.join(", "),". "))}};t.prototype.connectedCallback=function(){addMutationObserver.call(this);this.initialValue=this.value};t.prototype.handleChange=function(t){t.stopPropagation();this.chiChange.emit(this.value)};t.prototype.handleInput=function(t){var i=t.target;t.stopPropagation();this.value=i.value;this.chiInput.emit(this.value);if(!i.validity.valid)this.chiNumberInvalid.emit()};t.prototype.handleBlur=function(t){var i=t.relatedTarget;if(i&&i.offsetParent===this._numberInput.offsetParent){return}this.chiBlur.emit(t)};t.prototype.emitEventsOnClick=function(t){this.chiInput.emit(this.value);this.chiChange.emit(this.value);this.chiClick.emit(t)};t.prototype.increment=function(t){this.el.querySelector("input").focus();this._numberInput.stepUp();this.value=this._numberInput.value;this.emitEventsOnClick(t)};t.prototype.decrement=function(t){this.el.querySelector("input").focus();this._numberInput.stepDown();this.value=this._numberInput.value;this.emitEventsOnClick(t)};t.prototype.getInput=function(){var t=this;return h("input",{type:"number",ref:function(i){return t._numberInput=i},class:"chi-input ".concat(this.inputstyle?"-".concat(this.inputstyle):""," ").concat(this.state?"-".concat(this.state):""),disabled:this.disabled,required:this.required,step:this.step,max:this.max,min:this.min,value:this.value,onClick:function(i){return t.chiClick.emit(i)},onChange:function(i){return t.handleChange(i)},onInput:function(i){return t.handleInput(i)},onFocus:function(){return t.chiFocus.emit()},onBlur:function(i){return t.handleBlur(i)},id:this.el.id?"".concat(this.el.id,"-control"):null})};t.prototype.getBaseNumberInput=function(){var t=this;return h("div",{class:"chi-number-input ".concat(this.size?"-".concat(this.size):"")},this.getInput(),h("button",{disabled:this.isDecreaseDisabled(),onClick:function(i){return t.decrement(i)},"aria-label":"Decrease"}),h("button",{disabled:this.isIncreaseDisabled(),onClick:function(i){return t.increment(i)},"aria-label":"Increase"}))};t.prototype.getExpandedNumberInput=function(){var t=this;return h("div",{class:"chi-number-input -expanded ".concat(this.size?"-".concat(this.size):"")},this.getInput(),h("button",{class:"chi-button -icon",disabled:this.isDecreaseDisabled(),onClick:function(i){return t.decrement(i)},"aria-label":"Decrease"},h("div",{class:"chi-button__content"},h("chi-icon",{icon:"minus"}))),h("button",{class:"chi-button -icon",disabled:this.isIncreaseDisabled(),onClick:function(i){return t.increment(i)},"aria-label":"Increase"},h("div",{class:"chi-button__content"},h("chi-icon",{icon:"plus"}))))};t.prototype.isDecreaseDisabled=function(){return!!(this.min&&Number(this.value)<=this.min)};t.prototype.isIncreaseDisabled=function(){return!!(this.max&&(Number(this.value)+this.step>this.max||Number(this.value)>=this.max))};t.prototype.getHelperMessage=function(){return h("chi-helper-message",{state:this.inputstyle},this.helperMessage)};t.prototype.render=function(){var t=this.expanded?this.getExpandedNumberInput():this.getBaseNumberInput();if(this.helperMessage){t=h("div",{key:"b5fb9240ff3697dec4899af1b0d45cbf3fba4878",class:"chi-input__wrapper"},t,this.getHelperMessage())}return t};Object.defineProperty(t.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{inputstyle:["inputStyleValidation"]}},enumerable:false,configurable:true});return t}();NumberInput.style=ChiNumberInputStyle0;export{NumberInput as chi_number_input};