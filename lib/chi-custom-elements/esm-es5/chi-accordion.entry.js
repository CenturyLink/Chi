var __awaiter=this&&this.__awaiter||function(t,i,r,n){function e(t){return t instanceof r?t:new r((function(i){i(t)}))}return new(r||(r=Promise))((function(r,s){function a(t){try{u(n.next(t))}catch(t){s(t)}}function o(t){try{u(n["throw"](t))}catch(t){s(t)}}function u(t){t.done?r(t.value):e(t.value).then(a,o)}u((n=n.apply(t,i||[])).next())}))};var __generator=this&&this.__generator||function(t,i){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,e,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(t){return function(i){return u([t,i])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a&&(a=0,o[0]&&(r=0)),r)try{if(n=1,e&&(s=o[0]&2?e["return"]:o[0]?e["throw"]||((s=e["return"])&&s.call(e),0):e.next)&&!(s=s.call(e,o[1])).done)return s;if(e=0,s)o=[o[0]&2,s.value];switch(o[0]){case 0:case 1:s=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;e=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(s=r.trys,s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){r.label=o[1];break}if(o[0]===6&&r.label<s[1]){r.label=s[1];s=o;break}if(s&&r.label<s[2]){r.label=s[2];r.ops.push(o);break}if(s[2])r.ops.pop();r.trys.pop();continue}o=i.call(t,r)}catch(t){o=[6,t];e=0}finally{n=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(t,i,r){if(r||arguments.length===2)for(var n=0,e=i.length,s;n<e;n++){if(s||!(n in i)){if(!s)s=Array.prototype.slice.call(i,0,n);s[n]=i[n]}}return t.concat(s||Array.prototype.slice.call(i))};import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-422a57bb.js";import{A as ACCORDION_CLASSES,C as CARD_CLASS,T as TRUNCATED_CLASS,D as DISABLED_CLASS,U as UTILITY_CLASSES,E as EXPANDED_CLASS,I as ICON_CLASS}from"./classes-51f800b6.js";import{A as ACCORDION_SIZES}from"./size-9d0c9884.js";import{j as joinArrayValues}from"./utils-48628cb4.js";import{a as addMutationObserver}from"./mutationObserver-46245962.js";var Accordion=function(){function t(t){registerInstance(this,t);this.chiAccordionShow=createEvent(this,"chiAccordionShow",7);this.chiAccordionHide=createEvent(this,"chiAccordionHide",7);this.chiAccordionsChanged=createEvent(this,"chiAccordionsChanged",7);this.size="md";this.card=false;this.portal=false;this.truncated=false;this.accordions=[];this.type="base"}t.prototype.connectedCallback=function(){addMutationObserver.call(this)};t.prototype.show=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.updateItems(t,true);return[2]}))}))};t.prototype.hide=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.updateItems(t,false);return[2]}))}))};t.prototype.toggle=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.updateItems(t,null,true);return[2]}))}))};t.prototype.sizeValidation=function(t){var i=ACCORDION_SIZES.join(", ");if(!ACCORDION_SIZES.includes(t)){throw new Error("".concat(t," is not a valid size for accordion. If provided, valid values are: ").concat(i,". "))}else if(t==="sm"&&this.card){throw new Error("sm is not a valid size for card accordion")}};t.prototype.updateItems=function(t,i,r){if(i===void 0){i=true}if(r===void 0){r=false}var n=this.accordions.map((function(t){return Object.assign({},t)}));if(t===undefined){t=n.map((function(t,i){return i}))}else if(!Array.isArray(t)){t=[t]}t.forEach((function(t){return n[t].expanded=r?!n[t].expanded:i}));if(JSON.stringify(n)!==JSON.stringify(this.accordions)){this.accordions=n;this.chiAccordionsChanged.emit(this.accordions)}};t.prototype._isLink=function(){return this.type==="link"};t.prototype.toggleAccordion=function(t){this.toggle(t);(this.accordions[t].expanded?this.chiAccordionShow:this.chiAccordionHide).emit(this.accordions[t])};t.prototype.getAccordionClasses=function(){return joinArrayValues([ACCORDION_CLASSES.ACCORDION,"-".concat(this.size),this.card&&CARD_CLASS,this.truncated&&TRUNCATED_CLASS,this._isLink()&&ACCORDION_CLASSES.LINK])};t.prototype.getChevronIcon=function(){return h("i",{class:"".concat(ICON_CLASS," icon-chevron-down"),"aria-hidden":"true"})};t.prototype.getBaseTrigger=function(t,i){var r=this;var n=joinArrayValues([ACCORDION_CLASSES.TRIGGER,t.disabled&&DISABLED_CLASS]);var e=h("div",{class:ACCORDION_CLASSES.TITLE},t.title);var s=!this.portal||this.card;var a=[this.getChevronIcon(),e];if(!s)a.reverse();return h("div",{class:n,onClick:function(){return r.toggleAccordion(i)}},a)};t.prototype.getLinkTrigger=function(t,i){var r=this;var n=joinArrayValues([t.disabled&&DISABLED_CLASS,ACCORDION_CLASSES.TRIGGER_LINK]);var e=[h("span",null,t.title),this.getChevronIcon()];return h("div",{class:n,onClick:function(){return r.toggleAccordion(i)}},h("chi-link",{disabled:t.disabled,"no-underline":true},e))};t.prototype.getAccordionContent=function(t){var i=t.template?h("slot",{name:t.template}):h("p",{class:ACCORDION_CLASSES.TEXT},t.text);return h("div",{class:joinArrayValues([ACCORDION_CLASSES.CONTENT,this._isLink()&&UTILITY_CLASSES.PADDING.X[0]])},i)};t.prototype.getAccordionItem=function(t,i){var r=joinArrayValues([ACCORDION_CLASSES.ITEM,t.expanded&&!t.disabled&&EXPANDED_CLASS]);var n=(this._isLink()?this.getLinkTrigger:this.getBaseTrigger).call(this,t,i);return h("div",{class:r},n,this.getAccordionContent(t))};t.prototype.render=function(){var t=this;var i;return h.apply(void 0,__spreadArray(["div",{key:"3326d596ea1318b408575ce3d5ba6a336672c0c5",class:this.getAccordionClasses()}],(i=this.accordions)===null||i===void 0?void 0:i.map((function(i,r){return t.getAccordionItem(i,r)})),false))};Object.defineProperty(t.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{size:["sizeValidation"]}},enumerable:false,configurable:true});return t}();export{Accordion as chi_accordion};