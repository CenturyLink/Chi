import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-cde0ed0d.js";import{F as FORM_WRAPPER_LAYOUTS,e as FORM_WRAPPER_TYPES}from"./constants-76e3b213.js";import{F as FORM_CLASSES,U as UTILITY_CLASSES,g as FORM_WRAPPER_CLASSES,h as INPUT_CLASSES}from"./classes-fca9c660.js";import{C as CHI_STATES}from"./states-a5be3f93.js";import{v as v4}from"./v4-4e9fbb64.js";var formWrapperCss="chi-form-wrapper.sc-chi-form-wrapper-h{display:block}";var ChiFormWrapperStyle0=formWrapperCss;var FormWrapper=function(){function e(e){registerInstance(this,e);this.chiChange=createEvent(this,"chiChange",7);this.id=v4();this.type=undefined;this.layout="stacked";this.options=undefined;this.label=undefined;this.state=undefined;this.helperMessage=undefined}e.prototype.layoutValidation=function(e){if(!FORM_WRAPPER_LAYOUTS.includes(e)){throw new Error("".concat(e," is not a valid type for form wrapper layout. Valid values are: ").concat(FORM_WRAPPER_LAYOUTS.join(", "),"."))}};e.prototype.typeValidation=function(e){if(!FORM_WRAPPER_TYPES.includes(e)){throw new Error("".concat(e," is not a valid type for form wrapper type. Valid values are: ").concat(FORM_WRAPPER_TYPES.join(", "),"."))}};e.prototype.stateValidation=function(e){if(!CHI_STATES.includes(e)){throw new Error("".concat(e," is not a valid state for form wrapper state. Valid values are: ").concat(CHI_STATES.join(", "),"."))}};e.prototype.componentWillLoad=function(){var e=this;this.options=this.options.map((function(t){return Object.assign(Object.assign({},t),{id:t.id||"".concat(e.id,"-").concat(v4()),checked:t.checked||false})}))};e.prototype._getLabel=function(){if(this.label){return h("chi-label",null,this.label)}};e.prototype._getItems=function(){var e=this;var t;var i={checkbox:this._getCheckbox,radio:this._getRadioButton}[this.type].bind(this);return(t=this.options)===null||t===void 0?void 0:t.map((function(t,r){return e._getFormItem(i(t),r===e.options.length-1)}))};e.prototype._getCheckbox=function(e){var t=this;var i=e.checked&&e.checked!=="indeterminate";var r=e.checked==="indeterminate";return h("chi-checkbox",{id:e.id,label:e.label,checked:i,disabled:e.disabled,name:e.name,state:this.state,indeterminate:r,onChiChange:function(e){return t._onChange(e)}})};e.prototype._getRadioButton=function(e){var t=this;return h("chi-radio-button",{id:e.id,label:e.label,checked:e.checked,disabled:e.disabled,name:e.name,state:this.state,onChiChange:function(e){return t._onChange(e)}})};e.prototype._getItemWrapperClasses=function(e){return[FORM_CLASSES.FORM_ITEM,this.layout!=="inline"&&!e&&UTILITY_CLASSES.MARGIN.BOTTOM[1],this.layout==="inline"&&FORM_WRAPPER_CLASSES.LAYOUTS.INLINE].filter(Boolean).join(" ")};e.prototype._getFormItem=function(e,t){if(t===void 0){t=false}var i=this._getItemWrapperClasses(t);return h("div",{class:i},e)};e.prototype._onChange=function(e){var t=this;var i=e.target;var r={radio:function(){return t._onRadioButtonChange(i)}}[this.type];e.stopPropagation();if(r){r()}else{this.options.find((function(e){return e.id===i.id})).checked=!!i.checked}this.chiChange.emit(this.options)};e.prototype._onRadioButtonChange=function(e){this.options.forEach((function(t){t.checked=t.id===e.id}))};e.prototype._getFieldset=function(){return h("fieldset",null,this._getLabel(),this._getItems())};e.prototype.render=function(){var e=this._getFieldset();if(this.helperMessage){e=h("div",{key:"7aa44b1cd847988432b07169d3a81f43b23fce4c",class:INPUT_CLASSES.WRAPPER},e,h("chi-helper-message",{key:"b3010d8f73fea9004eebaefd6b2ba1728ee248df",state:this.state},this.helperMessage))}return e};Object.defineProperty(e.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{layout:["layoutValidation"],type:["typeValidation"],state:["stateValidation"]}},enumerable:false,configurable:true});return e}();FormWrapper.style=ChiFormWrapperStyle0;export{FormWrapper as chi_form_wrapper};