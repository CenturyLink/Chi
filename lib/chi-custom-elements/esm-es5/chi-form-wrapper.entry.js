import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-422a57bb.js";import{F as FORM_WRAPPER_LAYOUTS,e as FORM_WRAPPER_TYPES}from"./constants-0e68989c.js";import{F as FORM_CLASSES,U as UTILITY_CLASSES,i as FORM_WRAPPER_CLASSES,j as INPUT_CLASSES}from"./classes-5181b913.js";import{C as CHI_STATES}from"./states-a5be3f93.js";import{v as v4}from"./v4-a4ec28c0.js";var formWrapperCss="chi-form-wrapper.sc-chi-form-wrapper-h{display:block}";var ChiFormWrapperStyle0=formWrapperCss;var FormWrapper=function(){function t(t){registerInstance(this,t);this.chiChange=createEvent(this,"chiChange",7);this.layout="stacked";this.id=v4()}t.prototype.layoutValidation=function(t){if(!FORM_WRAPPER_LAYOUTS.includes(t)){throw new Error("".concat(t," is not a valid type for form wrapper layout. Valid values are: ").concat(FORM_WRAPPER_LAYOUTS.join(", "),"."))}};t.prototype.typeValidation=function(t){if(!FORM_WRAPPER_TYPES.includes(t)){throw new Error("".concat(t," is not a valid type for form wrapper type. Valid values are: ").concat(FORM_WRAPPER_TYPES.join(", "),"."))}};t.prototype.stateValidation=function(t){if(!CHI_STATES.includes(t)){throw new Error("".concat(t," is not a valid state for form wrapper state. Valid values are: ").concat(CHI_STATES.join(", "),"."))}};t.prototype.optionsValidation=function(t){if(!(t===null||t===void 0?void 0:t.length)){throw new Error("Options must be provided to form wrapper.")}};t.prototype.componentWillLoad=function(){var t=this;var e;this.options=((e=this.options)!==null&&e!==void 0?e:[]).map((function(e){return Object.assign(Object.assign({},e),{id:e.id||"".concat(t.id,"-").concat(v4()),checked:e.checked||false})}))};t.prototype._getLabel=function(){if(this.label){return h("chi-label",null,this.label)}};t.prototype._getItems=function(){var t=this;var e;var r={checkbox:this._getCheckbox,radio:this._getRadioButton}[this.type].bind(this);return(e=this.options)===null||e===void 0?void 0:e.map((function(e,i){return t._getFormItem(r(e),i===t.options.length-1)}))};t.prototype._getCheckbox=function(t){var e=this;var r=t.checked&&t.checked!=="indeterminate";var i=t.checked==="indeterminate";return h("chi-checkbox",{id:t.id,label:t.label,checked:r,disabled:t.disabled,name:t.name,state:this.state,indeterminate:i,onChiChange:function(t){return e._onChange(t)}})};t.prototype._getRadioButton=function(t){var e=this;return h("chi-radio-button",{id:t.id,label:t.label,checked:t.checked,disabled:t.disabled,name:t.name,state:this.state,onChiChange:function(t){return e._onChange(t)}})};t.prototype._getItemWrapperClasses=function(t){return[FORM_CLASSES.FORM_ITEM,this.layout!=="inline"&&!t&&UTILITY_CLASSES.MARGIN.BOTTOM[1],this.layout==="inline"&&FORM_WRAPPER_CLASSES.LAYOUTS.INLINE].filter(Boolean).join(" ")};t.prototype._getFormItem=function(t,e){if(e===void 0){e=false}var r=this._getItemWrapperClasses(e);return h("div",{class:r},t)};t.prototype._onChange=function(t){var e=this;var r=t.target;var i={radio:function(){return e._onRadioButtonChange(r)}}[this.type];t.stopPropagation();if(i){i()}else{this.options.find((function(t){return t.id===r.id})).checked=!!r.checked}this.chiChange.emit(this.options)};t.prototype._onRadioButtonChange=function(t){this.options.forEach((function(e){e.checked=e.id===t.id}))};t.prototype._getFieldset=function(){return h("fieldset",null,this._getLabel(),this._getItems())};t.prototype.render=function(){var t=this._getFieldset();if(this.helperMessage){t=h("div",{key:"67dc9427e209f9e1048ba72dc1d258a42ab6cf00",class:INPUT_CLASSES.WRAPPER},t,h("chi-helper-message",{key:"dc2481837ff546b6edbed47abefdd4a320310fd8",state:this.state},this.helperMessage))}return t};Object.defineProperty(t.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{layout:["layoutValidation"],type:["typeValidation"],state:["stateValidation"],options:["optionsValidation"]}},enumerable:false,configurable:true});return t}();FormWrapper.style=ChiFormWrapperStyle0;export{FormWrapper as chi_form_wrapper};