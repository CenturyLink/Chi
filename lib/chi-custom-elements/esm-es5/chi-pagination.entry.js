import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-422a57bb.js";import{v as v4}from"./v4-a4ec28c0.js";var paginationCss="";var ChiPaginationStyle0=paginationCss;var Pagination=function(){function i(i){registerInstance(this,i);this.chiPageChange=createEvent(this,"chiPageChange",7);this.chiPageSizeChange=createEvent(this,"chiPageSizeChange",7);this.firstLast=false;this.inverse=false;this.currentPage=1;this.results=0;this.pageSize=false;this.pageJumper=false;this.compact=false;this.ariaLabel="Pagination";this.size="md";this._pagesArray=[];this._pagesToRender=[];this._lastRenderedPage=null}i.prototype.calculateDistanceFromCurrent=function(){switch(this.currentPage){case 1:this._distanceFromCurrent=4;break;case 2:this._distanceFromCurrent=3;break;default:this._distanceFromCurrent=2}};i.prototype._goToPage=function(i){var t;for(var a=i;a&&!a.classList.contains("chi-button-group");a=a.parentNode){if(a.nodeName==="BUTTON"){t=a.getAttribute("data-page")}}this.chiPageChange.emit(t)};i.prototype._jumpToPage=function(i){this.chiPageChange.emit(i)};i.prototype._pageSizeChange=function(i){this.chiPageSizeChange.emit(i)};i.prototype.componentWillLoad=function(){this.calculateDistanceFromCurrent();this._pageJumperUuid=this.el.id?"".concat(this.el.id,"__page-jumper"):"".concat(v4(),"__page-jumper")};i.prototype.componentWillUpdate=function(){this.calculateDistanceFromCurrent();this._pagesArray=[];this._pagesToRender=[];this._lastRenderedPage=0};i.prototype.render=function(){var i=this;var t=function(t,a,s){if(a===void 0){a=null}if(s===void 0){s=""}var n;var e;if(t){n=t;e="Page ".concat(t)}else if(a){switch(a){case"page-first":n=1;e="First page";break;case"page-last":n=i.pages;e="Last page";break;case"chevron-left":n=i.currentPage-1;e="Previous page";break;case"chevron-right":n=i.currentPage+1;e="Next page";break}}return h("button",{"data-page":n,class:"chi-button -flat\n        ".concat(i.inverse?"-light":"","\n        ").concat(a?"-icon":"","\n        ").concat(parseInt(t)===i.currentPage?"-active":"","\n        ").concat(i.size?"-".concat(i.size):"","\n        "),onClick:function(t){t.stopPropagation();i._goToPage(t.target)},"aria-label":e,"aria-disabled":s==="disabled",disabled:s==="disabled",type:"button"},h("div",{class:"chi-button__content"},a?h("i",{class:"chi-icon icon-".concat(a),"aria-hidden":"true"}):t))};var a=this.results>0?h("div",{class:"chi-pagination__results\n        ".concat(this.size?"-text--".concat(this.size):"","\n      ")},h("span",{class:"chi-pagination__label"},this.results," results")):null;var s=this.pageSize?h("div",{class:"chi-pagination__page-size\n      ".concat(this.size?"-text--".concat(this.size):"","\n    ")},h("select",{class:"chi-input",onChange:function(t){return i._pageSizeChange(t.target.value)},"aria-label":"Number of result items per page"},h("option",{value:"20"},"20"),h("option",{value:"40"},"40"),h("option",{value:"60"},"60"),h("option",{value:"80"},"80"),h("option",{value:"all"},"All")),h("span",{class:"chi-pagination__label"},"per page")):null;var n=this.pageJumper&&!this.compact?h("div",{class:"chi-pagination__jumper\n        ".concat(this.size?"-text--".concat(this.size):"","\n    ")},h("label",{class:"chi-pagination__label",htmlFor:this._pageJumperUuid},"Go to page:"),h("input",{class:"chi-input\n        ".concat(this.size?"-".concat(this.size):"","\n        "),id:this._pageJumperUuid,type:"text",value:"",onChange:function(t){return i._jumpToPage(t.target.value)}})):null;var e=this.firstLast?t("","page-first",this.currentPage===1?"disabled":""):null;var l=this.firstLast?t("","page-last",this.currentPage===this.pages?"disabled":""):null;if(this.compact){var r=h("div",{class:"chi-pagination__label"},!this.pageJumper?h("strong",null,this.currentPage):null,h("span",null,"of"),h("strong",null,this.pages));var c=this.pageJumper?h("div",{class:"chi-pagination__jumper"},h("input",{type:"text",class:"chi-input",value:this.currentPage,onChange:function(t){return i._jumpToPage(t.target.value)},"aria-label":"Page ".concat(this.currentPage)}),r):r;this._pagesToRender.push(c)}else{this._pagesArray.push(1);for(var o=this.currentPage-this._distanceFromCurrent;o<=this.currentPage+this._distanceFromCurrent;o++){if(o<this.pages&&o>1){this._pagesArray.push(o)}}this._pagesArray.push(this.pages);for(var u=0,g=this._pagesArray;u<g.length;u++){var o=g[u];if(this._lastRenderedPage){if(o-this._lastRenderedPage===2){this._pagesToRender.push(t(this._lastRenderedPage+1))}else if(o-this._lastRenderedPage!==1){var p=h("div",{class:"chi-button -flat -md -disabled ".concat(this.inverse?"-light":""),"aria-hidden":"true"},h("div",{class:"chi-button__content"},"..."));this._pagesToRender.push(p)}}this._pagesToRender.push(t(o));this._lastRenderedPage=o}}return h("nav",{class:"\n        chi-pagination\n        ".concat(this.inverse?"-inverse":"","\n        ").concat(this.compact?"-compact":"","\n      "),role:"navigation","aria-label":this.ariaLabel},h("div",{class:"chi-pagination__content"},h("div",{class:"chi-pagination__start"},a,s),h("div",{class:"chi-pagination__center"},h("div",{class:"chi-button-group"},e,t("","chevron-left",this.currentPage===1?"disabled":""),this._pagesToRender,t("","chevron-right",this.currentPage===this.pages?"disabled":""),l)),h("div",{class:"chi-pagination__end"},n)))};Object.defineProperty(i.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});return i}();Pagination.style=ChiPaginationStyle0;export{Pagination as chi_pagination};