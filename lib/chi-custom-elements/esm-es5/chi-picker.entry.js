import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-cde0ed0d.js";import{P as PICKER_INPUT_TYPES}from"./types-e557e3e4.js";import{p as PICKER_CLASSES,q as PILL_CLASS,G as GENERIC_SIZE_CLASSES,U as UTILITY_CLASSES,F as FORM_CLASSES,R as ROW_CLASS,h as INPUT_CLASSES}from"./classes-fca9c660.js";import{P as PICKER_PILL_SIZES,a as PICKER_SIZES}from"./size-9d0c9884.js";import{a as addMutationObserver}from"./mutationObserver-d6ac3ea2.js";import{j as joinArrayValues}from"./utils-416d6cef.js";import{v as v4}from"./v4-4e9fbb64.js";var Picker=function(){function i(i){registerInstance(this,i);this.chiChange=createEvent(this,"chiChange",7);this.id=v4();this.options=undefined;this.size="md";this.pill=false;this.showInput=undefined;this.type="checkbox";this.label=undefined;this.required=false;this.optional=false;this.infoIcon=false;this.infoIconMessage="";this.helperMessage=undefined;this.state=undefined}i.prototype.typeValidation=function(i){if(!PICKER_INPUT_TYPES.includes(i)){throw new Error("Picker type must be one of ".concat(PICKER_INPUT_TYPES.join(" ")))}};i.prototype.pillValidation=function(i){if(i&&this.showInput){throw new Error("Pill layout is not valid with show input property")}};i.prototype.sizeValidation=function(i){if(this.pill&&!PICKER_PILL_SIZES.includes(i)){this.size="sm"}else if(!this.pill&&!PICKER_SIZES.includes(i)){this.size="md"}};i.prototype.componentWillLoad=function(){var i=this;this.options=(this.options||[]).map((function(t){return Object.assign(Object.assign({},t),{id:t.id||"".concat(i.id,"-").concat(v4()),checked:t.checked||false})}));this.sizeValidation(this.size)};i.prototype.connectedCallback=function(){addMutationObserver.call(this)};i.prototype._isRadio=function(){return this.type==="radio"};i.prototype._getLabel=function(){return h("chi-label",{required:this.required,optional:this.optional,"info-icon":this.infoIcon,"info-icon-message":this.infoIconMessage},this.label)};i.prototype._getItem=function(i){var t=this;var s=[PICKER_CLASSES.PICKER,this.pill&&PILL_CLASS,GENERIC_SIZE_CLASSES[this.size.toUpperCase()]].filter(Boolean).join(" ");return h("div",{class:s},h("input",{class:PICKER_CLASSES.INPUT,name:"".concat(this.id,"-group"),id:i.id,disabled:i.disabled,checked:i.checked,type:this.type,"aria-checked":i.checked,"aria-labelledby":"".concat(i.id,"-label"),onClick:function(s){return t._onClick(i,s)}}),this._getItemLabel(i))};i.prototype._getItemLabel=function(i){var t=this.el.querySelector("[slot=content-end-".concat(i.id,"]"));var s=this.pill||[this.showInput,t,i.description].every((function(i){return!i}));return h("label",{htmlFor:i.id,id:"".concat(i.id,"-label")},s?i.label:this._getComplexItemLabelContent(i,t))};i.prototype._getComplexItemLabelContent=function(i,t){return t?h("div",{class:joinArrayValues([PICKER_CLASSES.CONTENT,UTILITY_CLASSES.SIZING.W100])},this._getContentStart(i,true),h("div",{class:PICKER_CLASSES.CONTENT_END},h("slot",{name:"content-end-".concat(i.id)}))):this._getContentStart(i)};i.prototype._getContentStart=function(i,t){if(t===void 0){t=false}var s=i.description&&h("div",{class:"".concat(PICKER_CLASSES.DESCRIPTION," ").concat(this.showInput?"":UTILITY_CLASSES.MARGIN.LEFT[0])},i.description);return s||t?h("div",{class:joinArrayValues([PICKER_CLASSES.CONTENT_START,UTILITY_CLASSES.SIZING.W100,UTILITY_CLASSES.SIZING.WSM65])},this._getLabelContent(i),s):this._getLabelContent(i)};i.prototype._getLabelContent=function(i){return this.showInput?h("div",{class:"".concat(FORM_CLASSES.FORM_ITEM," ").concat(ROW_CLASS)},h("span",{class:this.type==="checkbox"?PICKER_CLASSES.CHECKBOX:PICKER_CLASSES.RADIO}),h("span",{class:PICKER_CLASSES.LABEL},i.label)):h("div",{class:"".concat(FORM_CLASSES.FORM_ITEM," ").concat(ROW_CLASS)},h("span",{class:"".concat(PICKER_CLASSES.LABEL," ").concat(UTILITY_CLASSES.MARGIN.LEFT[0])},i.label))};i.prototype._onClick=function(i,t){t.stopPropagation();if(this._isRadio()){this.options.forEach((function(i){return i.checked=false}))}i.checked=t.target.checked;this.chiChange.emit(this.options)};i.prototype._getOptions=function(){var i=this;var t;var s=(t=this.options)===null||t===void 0?void 0:t.map((function(t){return i._getItem(t)}));return this.pill?h("div",{class:UTILITY_CLASSES.DISPLAY.FLEX},s):s};i.prototype._getFieldset=function(){return h("fieldset",null,this.label&&this._getLabel(),this._getOptions())};i.prototype.render=function(){var i=this._getFieldset();if(this.helperMessage){i=h("div",{key:"4eb197f704137061c293782fc1a1b041e75f8923",class:INPUT_CLASSES.WRAPPER},i,h("chi-helper-message",{key:"861fbc1e505c4c12cb5d7251f30dcf46c979a98a",state:this.state},this.helperMessage))}return i};Object.defineProperty(i.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(i,"watchers",{get:function(){return{type:["typeValidation"],pill:["pillValidation"],size:["sizeValidation"]}},enumerable:false,configurable:true});return i}();export{Picker as chi_picker};