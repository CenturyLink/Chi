import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-422a57bb.js";import{A as ALERT_COLORS}from"./color-b6e4748b.js";import{a as addMutationObserver}from"./mutationObserver-46245962.js";var alertCss="chi-alert.sc-chi-alert-h{display:block}chi-alert[center].sc-chi-alert-h .-center.sc-chi-alert{-ms-flex-pack:center;justify-content:center}chi-alert.sc-chi-alert-h chi-button.sc-chi-alert{-ms-flex-item-align:start;align-self:flex-start}.sc-chi-alert-s>chi-icon{-ms-flex-item-align:start;align-self:flex-start}";var ChiAlertStyle0=alertCss;var Alert=function(){function t(t){registerInstance(this,t);this.dismissAlert=createEvent(this,"dismissAlert",7);this.type="bubble";this.mutable=true;this.size="md";this.center=false;this.closable=false;this.spinner=false}t.prototype.typeValidation=function(t){if(t&&!["bubble","banner","toast"].includes(t)){throw new Error("".concat(t," is not a valid type for alert. Valid values are bubble, banner or toast."))}};t.prototype.colorValidation=function(t){var e=ALERT_COLORS.join(", ");if(t&&!ALERT_COLORS.includes(t)){throw new Error("".concat(t," is not a valid color for alert. Valid values are ").concat(e,"."))}};t.prototype.sizeValidation=function(t){if(t&&!["sm","md","lg"].includes(t)){throw new Error("".concat(t," is not a valid size for an alert. Alerts only support sm, md (default), and lg sizes."))}};t.prototype.expirationTimeChanged=function(t){this._autoCloseAlert(t)};t.prototype.componentWillLoad=function(){this.typeValidation(this.type);this.colorValidation(this.color);this.sizeValidation(this.size);this._autoCloseAlert(this.expirationTime)};t.prototype.connectedCallback=function(){addMutationObserver.call(this)};t.prototype._hasAlertActions=function(){return Array.from(this.el.querySelectorAll("[slot=chi-alert__actions]")).length>0};t.prototype._hasClickableIcon=function(){return Array.from(this.el.querySelectorAll("[slot=chi-alert__clickable-icon]")).length>0};t.prototype._dismissAlert=function(){if(this.mutable){this.el.parentNode.removeChild(this.el)}this.dismissAlert.emit();if(this.timeoutReference){clearTimeout(this.timeoutReference);this.timeoutReference=null}};t.prototype._autoCloseAlert=function(t){var e=this;if(this.type==="toast"&&t){this.timeoutReference=setTimeout((function(){if(e.el&&e.el.parentNode){e._dismissAlert()}}),t*1e3)}};t.prototype.render=function(){var t=this;var e={sm:"sm",md:"sm",lg:"sm--2",xl:"sm--2"};var i=!this.spinner&&this.icon&&h("chi-icon",{key:"df813e62f929d66f24daec8edd57543d5f260a43",icon:this.icon,color:this.color||null,extraClass:"chi-alert__icon"});var s=this.alertTitle?h("p",{class:"chi-alert__title"},this.alertTitle):"";var a=this._hasAlertActions()&&h("div",{key:"a48edb17aeb1cb0910dbe2b774f87ff9b9d0bf1a",class:"chi-alert__actions"},h("slot",{key:"b3181632d6cef90b09194258fb25e8a6d034ceb0",name:"chi-alert__actions"}));var r=this.spinner&&h("chi-spinner",{key:"5640c6c4ee9f937fcbde914d7a4cd86726239d32",class:"chi-alert__spinner",size:e[this.size]||"sm"});var c=this._hasClickableIcon()&&h("div",{key:"3b012e8242f8dbd2b3dcd53a13e4e7cf7e68125a",class:"chi-alert__clickable-icon"},h("slot",{key:"01990a0ce88703f05ff57da68b49685666c1228d",name:"chi-alert__clickable-icon"}));var l=(this.closable||this.type==="toast")&&h("chi-button",{key:"b9326048d949fc5e06d5a80bbddc18cee723e96c",extraClass:"chi-alert__close-button",type:"close",onChiClick:function(){return t._dismissAlert()}});return h("div",{key:"7c61971970ecf9838f2036fd4daa28de6856b877",class:"chi-alert\n        ".concat(this.type?"-".concat(this.type):"","\n        ").concat(this.color?"-".concat(this.color):"","\n        ").concat(this.center?"-center":"","\n        ").concat(this.closable?"-close":"","\n        ").concat(this.size?"-".concat(this.size):""),role:"alert"},i,r,h("div",{key:"17a20e4f413b6cdf2cd61ed9a9294330d4567bc6",class:"chi-alert__content"},s,h("p",{key:"8b030566812f01c625641afd87bd50d2ab7e4184",class:"chi-alert__text"},h("slot",{key:"3187463cd0ae7760898601973de259009cb70a7a"})),a),l,c)};Object.defineProperty(t.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{type:["typeValidation"],color:["colorValidation"],size:["sizeValidation"],expirationTime:["expirationTimeChanged"]}},enumerable:false,configurable:true});return t}();Alert.style=ChiAlertStyle0;export{Alert as chi_alert};