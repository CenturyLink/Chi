var AnimationState;(function(t){t[t["Initialized"]=0]="Initialized";t[t["Preparing"]=1]="Preparing";t[t["Prepared"]=2]="Prepared";t[t["Starting"]=3]="Starting";t[t["Started"]=4]="Started";t[t["Stopping"]=5]="Stopping";t[t["Stopped"]=6]="Stopped"})(AnimationState||(AnimationState={}));var ThreeStepsAnimation=function(){function t(t,i,n,a){this.forceStopped=false;this.prepareFunction=t;this.startFunction=i;this.endFunction=n;this.animationDuration=a;this.status=AnimationState.Initialized}t.prototype.prepare=function(){var t=this;this.status=AnimationState.Preparing;this.prepareAnimationFrame=window.requestAnimationFrame((function(){if(t.status!==AnimationState.Preparing){return}t.prepareFunction();t.status=AnimationState.Prepared;t.startAnimationFrame=window.requestAnimationFrame((function(){t.start()}))}))};t.prototype.start=function(){var t=this;if(this.status!==AnimationState.Prepared){return}this.status=AnimationState.Starting;this.startFunction();this.status=AnimationState.Started;this.endTimeout=window.setTimeout((function(){t.end()}),this.animationDuration)};t.prototype.stop=function(){if(!this.isStopped()){window.cancelAnimationFrame(this.prepareAnimationFrame);window.cancelAnimationFrame(this.startAnimationFrame);window.clearTimeout(this.endTimeout);this.status=AnimationState.Stopped;this.forceStopped=true}};t.prototype.end=function(){if(this.isStopped()){return}this.status=AnimationState.Stopping;this.endFunction();this.status=AnimationState.Stopped};t.prototype.getState=function(){return this.status};t.prototype.isStopped=function(){return this.status===AnimationState.Stopped};t.prototype.wasForceStopped=function(){return this.forceStopped};t.animationFactory=function(i,n,a,o){var e=new t(i,n,a,o);e.prepare();return e};return t}();export{ThreeStepsAnimation as T};