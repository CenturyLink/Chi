extends ../layout.pug

block scripts
  script(src='../../../js/chi.js')
  script(src='../../../chi-icons.js')
  script(src='../../../chi-marketing-icons.js')
block variables
  - var title = 'Chi time'
  - var padZero = value => ('0' + value).slice(-2);
  - var hours = [12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];
  - var hours24 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];
  - var periods = ['AM', 'PM'];
  - var minute = 0;
  - var second = 0;

block content
  .test-base
    span.-text--h2 Chi time base
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-seconds
    span.-text--h2 Chi time with seconds
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute)
              - minute++
            else
              .chi-time-picker__minute=padZero(minute)
              - minute++
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 45
              .chi-time-picker__second.-active=padZero(second++)
            else
              .chi-time-picker__second=padZero(second++)
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-12hr-format
    span.-text--h2 Chi time 12hr format
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 2
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)
        .chi-time-picker__periods
          each period in periods
            if period === 'PM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-24hr-format
    span.-text--h2 Chi time 24hr format
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours24
            if hour === 14
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)

  - minute = 0;
  - second = 0;

  .test-24hr-format-seconds
    span.-text--h2 Chi time 24hr format with seconds
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours24
            if hour === 14
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 45
              .chi-time-picker__second.-active=padZero(second++)
            else
              .chi-time-picker__second=padZero(second++)

  - minute = 0;
  - second = 0;

  .test-minutes-step-default
    span.-text--h2 Chi time default minutes step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute)
              - minute+=15
            else
              .chi-time-picker__minute=padZero(minute)
              - minute+=15
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-minutes-step-5-seconds
    span.-text--h2 Chi time 5 minutes step with seconds
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 25
              .chi-time-picker__minute.-active=padZero(minute)
              - minute+=5
            else
              .chi-time-picker__minute=padZero(minute)
              - minute+=5
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 0
              .chi-time-picker__second.-active=padZero(second++)
            else
              .chi-time-picker__second=padZero(second++)
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-minutes-step-10
    span.-text--h2 Chi time 10 minutes step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute)
              - minute+=10
            else
              .chi-time-picker__minute=padZero(minute)
              - minute+=10
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-minutes-step-15
    span.-text--h2 Chi time 15 minutes step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute)
              - minute+=15
            else
              .chi-time-picker__minute=padZero(minute)
              - minute+=15
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-minutes-step-20
    span.-text--h2 Chi time 20 minutes step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 40
              .chi-time-picker__minute.-active=padZero(minute)
              - minute+=20
            else
              .chi-time-picker__minute=padZero(minute)
              - minute+=20
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-minutes-step-30
    span.-text--h2 Chi time 30 minutes step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 12
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 00
              .chi-time-picker__minute.-active=padZero(minute)
              - minute+=30
            else
              .chi-time-picker__minute=padZero(minute)
              - minute+=30
        .chi-time-picker__periods
          each period in periods
            if period === 'PM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-seconds-step-default
    span.-text--h2 Chi time default seconds step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 20
              .chi-time-picker__second.-active=padZero(second)
              - second+=10
            else
              .chi-time-picker__second=padZero(second)
              - second+=10
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-seconds-step-5
    span.-text--h2 Chi time 5 seconds step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 25
              .chi-time-picker__second.-active=padZero(second)
              - second+=5
            else
              .chi-time-picker__second=padZero(second)
              - second+=5
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-seconds-step-10
    span.-text--h2 Chi time 10 seconds step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 30
              .chi-time-picker__second.-active=padZero(second)
              - second+=10
            else
              .chi-time-picker__second=padZero(second)
              - second+=10
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-seconds-step-15
    span.-text--h2 Chi time 15 seconds step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 30
              .chi-time-picker__second.-active=padZero(second)
              - second+=15
            else
              .chi-time-picker__second=padZero(second)
              - second+=15
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-seconds-step-20
    span.-text--h2 Chi time 20 seconds step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 40
              .chi-time-picker__second.-active=padZero(second)
              - second+=20
            else
              .chi-time-picker__second=padZero(second)
              - second+=20
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-seconds-step-30
    span.-text--h2 Chi time 30 seconds step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute++)
            else
              .chi-time-picker__minute=padZero(minute++)
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 30
              .chi-time-picker__second.-active=padZero(second)
              - second+=30
            else
              .chi-time-picker__second=padZero(second)
              - second+=30
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period

  - minute = 0;
  - second = 0;

  .test-minutes-seconds-step-default
    span.-text--h2 Chi time default minutes and seconds step
    .chi-time-picker
      .chi-time-picker__content
        .chi-time-picker__hours.-position--relative
          each hour in hours
            if hour === 8
              .chi-time-picker__hour.-active=padZero(hour)
            else
              .chi-time-picker__hour=padZero(hour)
        .chi-time-picker__minutes.-position--relative
          while minute < 60
            if minute === 30
              .chi-time-picker__minute.-active=padZero(minute)
              - minute+=15
            else
              .chi-time-picker__minute=padZero(minute)
              - minute+=15
        .chi-time-picker__seconds.-position--relative
          while second < 60
            if second === 50
              .chi-time-picker__second.-active=padZero(second)
              - second+=10
            else
              .chi-time-picker__second=padZero(second)
              - second+=10
        .chi-time-picker__periods
          each period in periods
            if period === 'AM'
              .chi-time-picker__period.-active=period
            else
              .chi-time-picker__period=period


  script.
    document.addEventListener('DOMContentLoaded', () => {
      // Hours
      const hoursColumns = document.querySelectorAll('.chi-time-picker__hours')

      hoursColumns.forEach(hoursColumn => {
        const activeHour = hoursColumn.querySelector('.chi-time-picker__hour.-active')

        if (activeHour) {
          hoursColumn.scrollTop = activeHour.offsetTop - 24;
        }
      })

      // Minutes
      const minutesColumns = document.querySelectorAll('.chi-time-picker__minutes')

      minutesColumns.forEach(minutesColumn => {
        const activeMinute = minutesColumn.querySelector('.chi-time-picker__minute.-active')

        if (activeMinute) {
          minutesColumn.scrollTop = activeMinute.offsetTop - 24;
        }
      })

      // Seconds
      const secondsColumns = document.querySelectorAll('.chi-time-picker__seconds')

      secondsColumns.forEach(minutesColumn => {
        const activeSecond = minutesColumn.querySelector('.chi-time-picker__second.-active')

        if (activeSecond) {
          minutesColumn.scrollTop = activeSecond.offsetTop - 24;
        }
      })
    })
