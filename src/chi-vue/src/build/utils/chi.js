/*!
 * Chi and its documentation are released under the terms of the MIT license.
 * In addition, Chi uses several 3rd-party libraries,
 * a list of which can be viewed in the package.json file.
 * Please review each of their license and user agreements, as well.
 */
window.chi=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",o="day",i="week",a="month",s="quarter",c="year",l=/^(\d{4})-?(\d{1,2})?-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},h={s:d,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+d(r,2,"0")+":"+d(o,2,"0")},m:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,a),o=t-r<0,i=e.clone().add(n+(o?-1:1),a);return Number(-(n+(t-r)/(o?r-i:i-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:a,y:c,w:i,d:o,D:"date",h:r,m:n,s:t,ms:e,Q:s}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",m={};m[p]=f;var v=function(e){return e instanceof g},_=function(e,t,n){var r;if(!e)return p;if("string"==typeof e)m[e]&&(r=e),t&&(m[e]=t,r=e);else{var o=e.name;m[o]=e,r=o}return!n&&r&&(p=r),r||!n&&p},y=function(e,t){if(v(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new g(n)},b=h;b.l=_,b.i=v,b.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var g=function(){function d(e){this.$L=this.$L||_(e.locale,null,!0),this.parse(e)}var h=d.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r){var o=r[2]-1||0;return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return b},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return y(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<y(e)},h.$g=function(e,t,n){return b.u(e)?this[t]:this.set(n,e)},h.year=function(e){return this.$g(e,"$y",c)},h.month=function(e){return this.$g(e,"$M",a)},h.day=function(e){return this.$g(e,"$W",o)},h.date=function(e){return this.$g(e,"$D","date")},h.hour=function(e){return this.$g(e,"$H",r)},h.minute=function(e){return this.$g(e,"$m",n)},h.second=function(e){return this.$g(e,"$s",t)},h.millisecond=function(t){return this.$g(t,"$ms",e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var l=this,u=!!b.u(s)||s,d=b.p(e),h=function(e,t){var n=b.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return u?n:n.endOf(o)},f=function(e,t){return b.w(l.toDate()[e].apply(l.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},p=this.$W,m=this.$M,v=this.$D,_="set"+(this.$u?"UTC":"");switch(d){case c:return u?h(1,0):h(31,11);case a:return u?h(1,m):h(0,m+1);case i:var y=this.$locale().weekStart||0,g=(p<y?p+7:p)-y;return h(u?v-g:v+(6-g),m);case o:case"date":return f(_+"Hours",0);case r:return f(_+"Minutes",1);case n:return f(_+"Seconds",2);case t:return f(_+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(i,s){var l,u=b.p(i),d="set"+(this.$u?"UTC":""),h=(l={},l.day=d+"Date",l.date=d+"Date",l[a]=d+"Month",l[c]=d+"FullYear",l[r]=d+"Hours",l[n]=d+"Minutes",l[t]=d+"Seconds",l[e]=d+"Milliseconds",l)[u],f=u===o?this.$D+(s-this.$W):s;if(u===a||u===c){var p=this.clone().set("date",1);p.$d[h](f),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[b.p(e)]()},h.add=function(e,s){var l,u=this;e=Number(e);var d=b.p(s),h=function(t){var n=y(u);return b.w(n.date(n.date()+Math.round(t*e)),u)};if(d===a)return this.set(a,this.$M+e);if(d===c)return this.set(c,this.$y+e);if(d===o)return h(1);if(d===i)return h(7);var f=(l={},l[n]=6e4,l[r]=36e5,l[t]=1e3,l)[d]||1,p=this.$d.getTime()+e*f;return b.w(p,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=b.z(this),o=this.$locale(),i=this.$H,a=this.$m,s=this.$M,c=o.weekdays,l=o.months,d=function(e,r,o,i){return e&&(e[r]||e(t,n))||o[r].substr(0,i)},h=function(e){return b.s(i%12||12,e,"0")},f=o.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:d(o.monthsShort,s,l,3),MMMM:d(l,s),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:d(o.weekdaysMin,this.$W,c,2),ddd:d(o.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:b.s(i,2,"0"),h:h(1),hh:h(2),a:f(i,a,!0),A:f(i,a,!1),m:String(a),mm:b.s(a,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:r};return n.replace(u,(function(e,t){return t||p[e]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,o,l){var u,d=b.p(o),h=y(e),f=6e4*(h.utcOffset()-this.utcOffset()),p=this-h,m=b.m(this,h);return m=(u={},u[c]=m/12,u[a]=m,u[s]=m/3,u[i]=(p-f)/6048e5,u.day=(p-f)/864e5,u[r]=p/36e5,u[n]=p/6e4,u[t]=p/1e3,u)[d]||p,l?m:b.a(m)},h.daysInMonth=function(){return this.endOf(a).$D},h.$locale=function(){return m[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=_(e,t,!0);return r&&(n.$L=r),n},h.clone=function(){return b.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},d}();return y.prototype=g.prototype,y.extend=function(e,t){return e(t,g,y),y},y.locale=_,y.isDayjs=v,y.unix=function(e){return y(1e3*e)},y.en=m[p],y.Ls=m,y}()},function(e,t,n){"use strict";(function(e){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.7
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],o=0,i=0;i<r.length;i+=1)if(n&&navigator.userAgent.indexOf(r[i])>=0){o=1;break}var a=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),o))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function c(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=c(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:u(l(e))}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?d:10===e?h:d||h}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===c(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function v(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,c=i.commonAncestorContainer;if(e!==c&&t!==c||r.contains(o))return"BODY"===(s=(a=c).nodeName)||"HTML"!==s&&p(a.firstElementChild)!==a?p(c):c;var l=m(e);return l.host?v(l.host,t):v(e,m(t).host)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[n]}return e[n]}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_(t,"top"),o=_(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function b(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function g(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:g("Height",t,n,r),width:g("Width",t,n,r)}}var E=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function k(e){return A({},e,{right:e.left+e.width,bottom:e.top+e.height})}function T(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=_(e,"top"),r=_(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?w(e.ownerDocument):{},a=i.width||e.clientWidth||o.right-o.left,s=i.height||e.clientHeight||o.bottom-o.top,l=e.offsetWidth-a,u=e.offsetHeight-s;if(l||u){var d=c(e);l-=b(d,"x"),u-=b(d,"y"),o.width-=l,o.height-=u}return k(o)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),o="HTML"===t.nodeName,i=T(e),a=T(t),s=u(e),l=c(t),d=parseFloat(l.borderTopWidth,10),h=parseFloat(l.borderLeftWidth,10);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=k({top:i.top-a.top-d,left:i.left-a.left-h,width:i.width,height:i.height});if(p.marginTop=0,p.marginLeft=0,!r&&o){var m=parseFloat(l.marginTop,10),v=parseFloat(l.marginLeft,10);p.top-=d-m,p.bottom-=d-m,p.left-=h-v,p.right-=h-v,p.marginTop=m,p.marginLeft=v}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=y(p,t)),p}function N(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=O(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:_(n),s=t?0:_(n,"left"),c={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i};return k(c)}function I(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===c(e,"position"))return!0;var n=l(e);return!!n&&I(n)}function D(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===c(t,"transform");)t=t.parentElement;return t||document.documentElement}function L(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?D(e):v(e,t);if("viewport"===r)i=N(a,o);else{var s=void 0;"scrollParent"===r?"BODY"===(s=u(l(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var c=O(s,a,o);if("HTML"!==s.nodeName||I(a))i=c;else{var d=w(e.ownerDocument),h=d.height,f=d.width;i.top+=c.top-c.marginTop,i.bottom=h+c.top,i.left+=c.left-c.marginLeft,i.right=f+c.left}}var p="number"==typeof(n=n||0);return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function P(e){return e.width*e.height}function M(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=L(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(s).map((function(e){return A({key:e},s[e],{area:P(s[e])})})).sort((function(e,t){return t.area-e.area})),l=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function x(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?D(t):v(t,n);return O(n,o,r)}function j(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function B(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function H(e,t,n){n=n.split("-")[0];var r=j(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",c=i?"height":"width",l=i?"width":"height";return o[a]=t[a]+t[c]/2-r[c]/2,o[s]=n===s?t[s]-r[l]:t[B(s)],o}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function V(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=R(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=k(t.offsets.popper),t.offsets.reference=k(t.offsets.reference),t=n(t,e))})),t}function F(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=x(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=H(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=V(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function q(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function W(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function $(){return this.state.isDestroyed=!0,q(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[W("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function G(e){var t=e.ownerDocument;return t?t.defaultView:window}function U(e,t,n,r){n.updateBound=r,G(e).addEventListener("resize",n.updateBound,{passive:!0});var o=u(e);return function e(t,n,r,o){var i="BODY"===t.nodeName,a=i?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),i||e(u(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Y(){this.state.eventsEnabled||(this.state=U(this.reference,this.options,this.state,this.scheduleUpdate))}function X(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,G(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function J(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&z(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Z=n&&/Firefox/i.test(navigator.userAgent);function K(e,t,n){var r=R(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ee=Q.slice(3);function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ee.indexOf(e),r=ee.slice(n+1).concat(ee.slice(0,n));return t?r.reverse():r}var ne="flip",re="clockwise",oe="counterclockwise";function ie(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(R(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return(l=l.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return k(s)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){z(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var ae={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",l=s?"width":"height",u={start:S({},c,i[c]),end:S({},c,i[c]+i[l]-a[l])};e.offsets.popper=A({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],c=void 0;return c=z(+n)?[+n,0]:ie(n,i,a,s),"left"===s?(i.top+=c[0],i.left-=c[1]):"right"===s?(i.top+=c[0],i.left+=c[1]):"top"===s?(i.left+=c[0],i.top-=c[1]):"bottom"===s&&(i.left+=c[0],i.top+=c[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=W("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var c=L(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=c;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(u[e],c[e])),S({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(u[n],c[e]-("right"===e?u.width:u.height))),S({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=A({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",c=a?"left":"top",l=a?"width":"height";return n[s]<i(r[c])&&(e.offsets.popper[c]=i(r[c])-n[l]),n[c]>i(r[s])&&(e.offsets.popper[c]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!K(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(o),u=l?"height":"width",d=l?"Top":"Left",h=d.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",m=j(r)[u];s[p]-m<a[h]&&(e.offsets.popper[h]-=a[h]-(s[p]-m)),s[h]+m>a[p]&&(e.offsets.popper[h]+=s[h]+m-a[p]),e.offsets.popper=k(e.offsets.popper);var v=s[h]+s[u]/2-m/2,_=c(e.instance.popper),y=parseFloat(_["margin"+d],10),b=parseFloat(_["border"+d+"Width"],10),g=v-e.offsets.popper[h]-y-b;return g=Math.max(Math.min(a[u]-m,g),0),e.arrowElement=r,e.offsets.arrow=(S(n={},h,Math.round(g)),S(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(q(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=L(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=B(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case ne:a=[r,o];break;case re:a=te(r);break;case oe:a=te(r,!0);break;default:a=t.behavior}return a.forEach((function(s,c){if(r!==s||a.length===c+1)return e;r=e.placement.split("-")[0],o=B(r);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),f=d(l.left)<d(n.left),p=d(l.right)>d(n.right),m=d(l.top)<d(n.top),v=d(l.bottom)>d(n.bottom),_="left"===r&&f||"right"===r&&p||"top"===r&&m||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&f||y&&"end"===i&&p||!y&&"start"===i&&m||!y&&"end"===i&&v);(h||_||b)&&(e.flipped=!0,(h||_)&&(r=a[c+1]),b&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=A({},e.offsets.popper,H(e.instance.popper,e.offsets.reference,e.placement)),e=V(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=B(t),e.offsets.popper=k(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!K(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=R(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=p(e.instance.popper),c=T(s),l={position:o.position},u=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},c=i(o.width),l=i(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),h=t?u||d||c%2==l%2?i:a:s,f=t?i:s;return{left:h(c%2==1&&l%2==1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:h(r.right)}}(e,window.devicePixelRatio<2||!Z),d="bottom"===n?"top":"bottom",h="right"===r?"left":"right",f=W("transform"),m=void 0,v=void 0;if(v="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-c.height+u.bottom:u.top,m="right"===h?"HTML"===s.nodeName?-s.clientWidth+u.right:-c.width+u.right:u.left,a&&f)l[f]="translate3d("+m+"px, "+v+"px, 0)",l[d]=0,l[h]=0,l.willChange="transform";else{var _="bottom"===d?-1:1,y="right"===h?-1:1;l[d]=v*_,l[h]=m*y,l.willChange=d+", "+h}var b={"x-placement":e.placement};return e.attributes=A({},b,e.attributes),e.styles=A({},l,e.styles),e.arrowStyles=A({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return J(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&J(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=x(o,t,e,n.positionFixed),a=M(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),J(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},se=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=A({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(A({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=A({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return A({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&s(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return C(e,[{key:"update",value:function(){return F.call(this)}},{key:"destroy",value:function(){return $.call(this)}},{key:"enableEventListeners",value:function(){return Y.call(this)}},{key:"disableEventListeners",value:function(){return X.call(this)}}]),e}();se.Utils=("undefined"!=typeof window?window:e).PopperUtils,se.placements=Q,se.Defaults=ae,t.a=se}).call(this,n(3))},function(e,t,n){e.exports=n(4)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"core",(function(){return r})),n.d(t,"Util",(function(){return s})),n.d(t,"accordion",(function(){return S})),n.d(t,"datePicker",(function(){return Y})),n.d(t,"drawer",(function(){return ce})),n.d(t,"dropdown",(function(){return Be})),n.d(t,"expansionPanel",(function(){return ot})),n.d(t,"floatingLabel",(function(){return ft})),n.d(t,"mobilenav",(function(){return Ct})),n.d(t,"modal",(function(){return Ht})),n.d(t,"navigation",(function(){return yn})),n.d(t,"numberInput",(function(){return Tn})),n.d(t,"popover",(function(){return B})),n.d(t,"rangeSlider",(function(){return jn})),n.d(t,"sidenav",(function(){return Gn})),n.d(t,"tab",(function(){return Ae})),n.d(t,"tooltip",(function(){return rr})),n.d(t,"Accordion",(function(){return C})),n.d(t,"DatePicker",(function(){return U})),n.d(t,"Drawer",(function(){return se})),n.d(t,"Dropdown",(function(){return je})),n.d(t,"ExpansionPanel",(function(){return rt})),n.d(t,"FloatingLabel",(function(){return ht})),n.d(t,"MobileNav",(function(){return Et})),n.d(t,"Modal",(function(){return Bt})),n.d(t,"Navigation",(function(){return _n})),n.d(t,"NumberInput",(function(){return kn})),n.d(t,"Popover",(function(){return j})),n.d(t,"RangeSlider",(function(){return xn})),n.d(t,"Sidenav",(function(){return $n})),n.d(t,"Tab",(function(){return Se})),n.d(t,"Tooltip",(function(){return nr})),n.d(t,"EXPANSION_PANEL_STATES",(function(){return Je}));var r={version:"0.1",expando:"chi"+("0.1"+Math.random()).replace(/\D/g,""),classes:{ACTIVE:"-active",ANIMATED:"-animated",BACK:"-back",CLOSE:"-close",CLOSED:"-closed",DISABLED:"-disabled",EXPANDED:"-expanded",INACTIVE:"-inactive",TRANSITIONING:"-transitioning",UNSELECTED:"-unselected"},componentIndex:0,registeredComponents:{},responsiveBreakpoints:{sm:576,md:768,lg:992,xl:1200}};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,o=[{key:"removeClass",value:function(e,t){e.className=e.className.split(" ").filter((function(e){return e!==t})).join(" ")}},{key:"addClass",value:function(t,n){e.hasClass(t,n)||(t.className+=" "+n)}},{key:"hasClass",value:function(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}},{key:"checkRemoveClass",value:function(t,n){t&&e.removeClass(t,n)}},{key:"checkAddClass",value:function(t,n){t&&e.addClass(t,n)}},{key:"checkHasClass",value:function(t,n){return!!t&&e.hasClass(t,n)}},{key:"toggleClass",value:function(t,n){e.hasClass(t,n)?e.removeClass(t,n):e.addClass(t,n)}},{key:"empty",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.innerHTML=""}},{key:"getTarget",value:function(e){var t=e.dataset&&e.dataset.target?e.dataset.target.trim():"";if(!t&&!e.getAttribute("target")){var n=e.getAttribute("href");t=n&&n.length>1&&"#"===n.charAt(0)?n.trim():""}if(t){var r=document.querySelector(t);if(r)return r}return null}},{key:"findAndApply",value:function(t,n,r){e.hasClass(t,n)?r(t):t.getElementsByClassName&&Array.prototype.forEach.call(t.getElementsByClassName(n),(function(e){r(e)}))}},{key:"emulateTransitionEnd",value:function(e,t){return window.setTimeout(t,e)}},{key:"getData",value:function(e,t){return e[r.expando]&&e[r.expando][t]}},{key:"isSetData",value:function(e,t){return e[r.expando]&&e[r.expando].hasOwnProperty(t)}},{key:"removeData",value:function(t,n){delete t[r.expando][n],0===Object.getOwnPropertyNames(t[r.expando]).length&&e.removeDataStructure(t)}},{key:"setData",value:function(t,n,o){e.prepareDataStructure(t),t[r.expando][n]=o}},{key:"prepareDataStructure",value:function(e){e[r.expando]||(e[r.expando]={})}},{key:"removeDataStructure",value:function(e){delete e[r.expando]}},{key:"registerComponent",value:function(t,n,o){var i=e._getNewRegistrationIndex();e.setData(n,t,i),r.registeredComponents[t]||(r.registeredComponents[t]={}),r.registeredComponents[t][i]=o}},{key:"unregisterComponent",value:function(t,n){var o=e.getData(n,t);r.registeredComponents[t]&&delete r.registeredComponents[t][o],e.removeData(n,t)}},{key:"getRegisteredComponent",value:function(t,n){var o=e.getData(n,t);return!(!o&&0!==o)&&r.registeredComponents[t]&&r.registeredComponents[t][o]}},{key:"cachedComponentFactory",value:function(t,n,r,o){var i=e.getRegisteredComponent(r,t);if(!i){var a=(i=o(t,n)).dispose;i.dispose=function(){a.call(i),e.unregisterComponent(r,t)},e.registerComponent(r,t,i)}return i}},{key:"_getNewRegistrationIndex",value:function(){return r.componentIndex++}},{key:"extend",value:function(t,n){var r=e.copyObject(t);if(!n)return r;for(var o in n)void 0===n[o]?delete r[o]:r[o]=n[o];return r}},{key:"addArraySupportToFactory",value:function(e){return function(t,n){if(Array.isArray(t)||NodeList.prototype.isPrototypeOf(t)||HTMLCollection.prototype.isPrototypeOf(t)){var r=[];return Array.prototype.forEach.call(t,(function(t){r.push(e(t,n))})),r}return e(t,n)}}},{key:"isNumeric",value:function(e){return("number"==typeof e||"string"==typeof e)&&!isNaN(e-parseFloat(e))}},{key:"isInteger",value:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},{key:"createEvent",value:function(e){var t;return"function"==typeof Event?t=new Event(e,{view:window,bubbles:!0,cancelable:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!0),t}},{key:"threeStepsAnimation",value:function(t,n,r,o){var i={stopped:!1,status:""};return i.prepare=t,i.start=n,i.end=r,i.duration=o,i.prepareAnimationFrame=window.requestAnimationFrame((function(){i.stopped||(i.status="preparing",i.prepare(),i.status="prepared",i.startAnimationFrame=window.requestAnimationFrame((function(){i.stopped||(i.status="starting",i.start(),i.status="started",i.endTimeOut=e.emulateTransitionEnd(o,(function(){i.stopped||(i.status="ending",i.end(),i.stuatus="ended")})))})))})),i}},{key:"stopThreeStepsAnimation",value:function(e,t){void 0===t&&(t=!0),e.stopped=!0,e.prepareAnimationFrame&&window.cancelAnimationFrame(e.prepareAnimationFrame),e.startAnimationFrame&&window.cancelAnimationFrame(e.startAnimationFrame),e.endTimeOut&&window.clearTimeout(e.endTimeOut),t&&["preparing","prepared","starting","started"].indexOf(e.status)>-1&&(e.end(),e.status="force stopped")}},{key:"calculateExternalWidth",value:function(e,t){var n=window.getComputedStyle(e);return void 0===t&&(t=!1),t?"border-box"===n.boxSizing?Math.ceil(parseFloat(n.width))+Math.ceil(parseFloat(n.marginLeft))+Math.ceil(parseFloat(n.marginRight)):Math.ceil(parseFloat(n.width))+Math.ceil(parseFloat(n.marginLeft))+Math.ceil(parseFloat(n.marginRight))+Math.ceil(parseFloat(n.paddingLeft))+Math.ceil(parseFloat(n.paddingRight))+Math.ceil(parseFloat(n.borderLeftWidth))+Math.ceil(parseFloat(n.borderRightWidth)):"border-box"===n.boxSizing?parseFloat(n.width)+parseFloat(n.marginLeft)+parseFloat(n.marginRight):parseFloat(n.width)+parseFloat(n.marginLeft)+parseFloat(n.marginRight)+parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}},{key:"calculateInternalWidth",value:function(e,t){var n=window.getComputedStyle(e);return void 0===t&&(t=!1),t?"border-box"===n.boxSizing?Math.floor(parseFloat(n.width))-Math.ceil(parseFloat(n.paddingLeft))-Math.ceil(parseFloat(n.paddingRight))-Math.ceil(parseFloat(n.borderLeftWidth))-Math.ceil(parseFloat(n.borderRightWidth)):Math.floor(parseFloat(n.width)):"border-box"===n.boxSizing?parseFloat(n.width)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth):parseFloat(n.width)}},{key:"calculateExternalHeight",value:function(e,t){var n=window.getComputedStyle(e);return void 0===t&&(t=!1),t?"border-box"===n.boxSizing?Math.ceil(parseFloat(n.height))+Math.ceil(parseFloat(n.marginBottom))+Math.ceil(parseFloat(n.marginTop)):Math.ceil(parseFloat(n.height))+Math.ceil(parseFloat(n.marginBottom))+Math.ceil(parseFloat(n.marginTop))+Math.ceil(parseFloat(n.paddingBottom))+Math.ceil(parseFloat(n.paddingTop))+Math.ceil(parseFloat(n.borderLeftWidth))+Math.ceil(parseFloat(n.borderRightWidth)):"border-box"===n.boxSizing?parseFloat(n.height)+parseFloat(n.marginBottom)+parseFloat(n.marginTop):parseFloat(n.height)+parseFloat(n.marginBottom)+parseFloat(n.marginTop)+parseFloat(n.paddingBottom)+parseFloat(n.paddingTop)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}},{key:"calculateInternalHeight",value:function(e,t){var n=window.getComputedStyle(e);return void 0===t&&(t=!1),t?"border-box"===n.boxSizing?Math.floor(parseFloat(n.height))-Math.ceil(parseFloat(n.paddingBottom))-Math.ceil(parseFloat(n.paddingTop))-Math.ceil(parseFloat(n.borderLeftWidth))-Math.ceil(parseFloat(n.borderRightWidth)):Math.floor(parseFloat(n.height)):"border-box"===n.boxSizing?parseFloat(n.height)-parseFloat(n.paddingBottom)-parseFloat(n.paddingTop)-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth):parseFloat(n.height)}},{key:"calculateHiddenElementHeight",value:function(e){var t,n=window.getComputedStyle(e).display;return e.style.position="absolute",e.style.visibility="hidden",e.style.display="none"!==n?n:"block",t=window.getComputedStyle(e).height,e.style.removeProperty("display"),e.style.removeProperty("visibility"),e.style.removeProperty("position"),t}},{key:"calculateDistance",value:function(e,t,n,r){var o=e.getBoundingClientRect(),i=t.getBoundingClientRect();return void 0===r&&(r=!0),"x"===n?r?i.left-o.left:i.left-o.left-o.width:r?i.top-o.top:i.top-o.top-o.height}},{key:"getMediaWidth",value:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)}},{key:"getMediaHeight",value:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},{key:"getClosest",value:function(t,n,r){return void 0===r&&(r=document),t.parentNode===r||null===t.parentNode?null:e.hasClass(t.parentNode,n)?t.parentNode:e.getClosest(t.parentNode,n,r)}},{key:"copyObject",value:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}},{key:"checkOverflow",value:function(e){var t=e.style.overflow;e.style.overflow="hidden";var n=e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight;return e.style.overflow=t,n}},{key:"binarySearchClosest",value:function(e,t){for(var n=0,r=e-1,o=-1;n<=r;){var i=t(o=~~((n+r)/2));if(i>0)r=o-1;else{if(!(i<0))return o;n=o+1}}return n}},{key:"binarySearch",value:function(e,t){for(var n=0,r=e-1,o=-1;n<=r;){var i=t(o=~~((n+r)/2));if(i>0)r=o-1;else{if(!(i<0))return o;n=o+1}}return null}},{key:"noOp",value:function(){}}],(n=null)&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var d=0,h=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elem=t,this._config=n,this._eventHandlers=[],this._componentCounterNo=d++},n=[{key:"componentType",get:function(){throw"componentType is intended to be an abstract method, please implement it in your component. "}},{key:"componentSelector",get:function(){throw"There is no defined selector for this component. "}},{key:"factory",value:function(e,t){var n=this,r=function(e,t){return new n(e,t)};return s.addArraySupportToFactory((function(e,t){return s.cachedComponentFactory(e,t,n.componentType,r)}))(e,t)}},{key:"initAll",value:function(e){var t=this;Array.prototype.forEach.call(document.querySelectorAll(t.componentSelector),(function(n){t.factory(n,e)}))}}],(t=[{key:"componentCounterNo",get:function(){return this._componentCounterNo}},{key:"_addEventHandler",value:function(e,t,n,r){e.addEventListener(t,n,r||!1);var o={elem:e,type:t,handler:n,useCapture:r};this._eventHandlers.push(o)}},{key:"_removeEventHandlers",value:function(){this._eventHandlers.forEach((function(e){e.elem.removeEventListener(e.type,e.handler)})),this._eventHandlers.length=0}}])&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function m(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}function v(e,t,n){return t=_(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var b="chi-accordion__content",g={expansionMode:"multiple"},w="chi.accordion.show",E="chi.accordion.hide",C=function(e){function t(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=v(this,t,[e,s.extend(g,n)]))._item=e.querySelector(".".concat("chi-accordion__item")),o._trigger=e.querySelector(".".concat("chi-accordion__trigger")),o._triggers=e.querySelectorAll(".".concat("chi-accordion__trigger")),o._expanded=s.hasClass(e,r.classes.EXPANDED),o._childAccordions=[],o._accordionAnimation=null,o._initAccordion(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,i=[{key:"componentType",get:function(){return"accordion"}}],(o=[{key:"_initAccordion",value:function(){var e=this;Array.prototype.forEach.call(this._triggers,(function(t){e._addEventHandler(t,"click",(function(){for(var n,r=t;r&&!r.classList.contains("chi-accordion__item");r=r.parentNode)r.parentNode.classList.contains("chi-accordion__item")&&(n=r.parentNode);e.toggle(n)}))}))}},{key:"_resizeParentAccordions",value:function(e,t){for(var n=e.querySelector(".".concat(b)),r=parseInt(s.calculateHiddenElementHeight(n)),o=e.parentNode;o&&"BODY"!==o.nodeName;o=o.parentNode){if(o.classList.contains("chi-accordion")){var i=o.querySelector(".".concat(b)),a=parseInt(i.style.height),c=void 0;"show"===t?c=a+r:"hide"===t&&(c=a-r),i.style.height="".concat(c,"px")}if(o.classList.contains("chi-accordion"))break}}},{key:"show",value:function(e){var t=e.querySelector(".".concat(b)),n=s.calculateHiddenElementHeight(t);if(e.classList.contains(r.classes.EXPANDED)||(this._resizeParentAccordions(e,"show"),e.dispatchEvent(s.createEvent(w)),s.threeStepsAnimation((function(){s.addClass(t,r.classes.TRANSITIONING),t.style.height="0px",t.style.opacity="0.5"}),(function(){s.addClass(e,r.classes.EXPANDED),t.style.height=n,t.style.opacity="1"}),(function(){s.removeClass(t,r.classes.TRANSITIONING),t.style.removeProperty("height"),t.style.removeProperty("opacity")}),75)),"single"===this._config.expansionMode){var o=e.parentNode.querySelector(".".concat("chi-accordion__item",".").concat(r.classes.EXPANDED));o&&this.hide(o)}}},{key:"hide",value:function(e){var t=e.querySelector(".".concat(b)),n=s.calculateHiddenElementHeight(t);e.classList.contains(r.classes.EXPANDED)&&(this._resizeParentAccordions(e,"hide"),e.dispatchEvent(s.createEvent(E)),s.threeStepsAnimation((function(){s.checkAddClass(t,r.classes.TRANSITIONING),t.style.opacity="1",t.style.height=n}),(function(){t.style.height="0px",t.style.opacity="0.5",s.checkRemoveClass(e,r.classes.EXPANDED)}),(function(){t.style.removeProperty("height"),t.style.removeProperty("opacity"),s.checkRemoveClass(t,r.classes.TRANSITIONING)}),75))}},{key:"toggle",value:function(e){var t;(t=e||this._item).classList.contains(r.classes.EXPANDED)?this.hide(t):this.show(t)}},{key:"expandAll",value:function(){var e=this;Array.prototype.forEach.call(this._triggers,(function(t){for(var n,r=t;r&&!r.classList.contains("chi-accordion__item");r=r.parentNode)r.parentNode.classList.contains("chi-accordion__item")&&(n=r.parentNode);e.show(n)}))}},{key:"collapseAll",value:function(){var e=this;Array.prototype.forEach.call(this._triggers,(function(t){for(var n,r=t;r&&!r.classList.contains("chi-accordion__item");r=r.parentNode)r.parentNode.classList.contains("chi-accordion__item")&&(n=r.parentNode);e.hide(n)}))}},{key:"dispose",value:function(){this._trigger=null,this._content=null,this._expanded=null,this._removeEventHandlers()}}])&&p(n.prototype,o),i&&p(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(h),S=h.factory.bind(C),A=n(0),k=n.n(A),T=n(1);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function I(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}function D(e,t,n){return t=L(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],L(e).constructor):t.apply(e,n))}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var M={SHOW_DEPRECATED:"chi.popover.show",HIDE_DEPRECATED:"chi.popover.hide",SHOW:"chiPopoverShow",HIDE:"chiPopoverHide",SHOWN:"chiPopoverShown",HIDDEN:"chiPopoverHidden"},x={animate:!0,arrow:!0,classes:[],content:null,delayBetweenInteractions:50,parent:null,position:"top",trigger:"click",preventAutoHide:!1},j=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=D(this,t,[e,s.extend(x,n)]))._popoverElem=null,r._popper=null,r._popperData=null,r._preAnimationTransformStyle=null,r._postAnimationTransformStyle=null,r._shown=!1,r._config.parent=r._config.parent||r._elem,r._config.position=n&&n.position||r._elem&&r._elem.dataset&&r._elem.dataset.position||r._config.parent&&r._config.parent.dataset&&r._config.parent.dataset.position||r._config.position,r._configurePopover(),r._initDefaultEventListeners(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),n=t,i=[{key:"componentType",get:function(){return"popover"}},{key:"componentSelector",get:function(){return"[data-popover-content]"}}],(o=[{key:"_initDefaultEventListeners",value:function(){var e=this;this._mouseClickOnPopover=function(){e._closeOnClickOnDocument=!1},this._addEventHandler(this._popoverElem,"click",this._mouseClickOnPopover),this._config.preventAutoHide||(this._mouseClickOnDocument=function(){e._closeOnClickOnDocument?e.hide():e._closeOnClickOnDocument=!0},this._addEventHandler(document,"click",this._mouseClickOnDocument)),"click"===this._config.trigger&&(this._mouseClickEventHandler=function(){e._closeOnClickOnDocument=!1,e.toggle()},this._addEventHandler(this._elem,"click",this._mouseClickEventHandler))}},{key:"show",value:function(e){if(!this._shown&&(this.allowConsecutiveActions()||e)){if(this._shown=!0,this._elem.dispatchEvent(s.createEvent(M.SHOW_DEPRECATED)),this._elem.dispatchEvent(s.createEvent(M.SHOW)),!this._config.animate)return s.addClass(this._popoverElem,r.classes.ACTIVE),void this._popoverElem.setAttribute("aria-hidden","false");var t=this,n=this._popoverElem.style.transition;t._popoverElem.style.transition="none",s.addClass(t._popoverElem,r.classes.TRANSITIONING),t.resetPosition(),s.threeStepsAnimation((function(){t._popoverElem.style.transform=t._preAnimationTransformStyle}),(function(){s.addClass(t._popoverElem,r.classes.ACTIVE),t._popoverElem.style.transition=n,t._popoverElem.style.transform=t._postAnimationTransformStyle}),(function(){s.removeClass(t._popoverElem,r.classes.TRANSITIONING),t._popoverElem.setAttribute("aria-hidden","false"),t._popoverElem.dispatchEvent(s.createEvent(M.shown))}),200)}}},{key:"hide",value:function(e){if(this._shown&&(this.allowConsecutiveActions()||e)){if(this._shown=!1,this._elem.dispatchEvent(s.createEvent(M.HIDE_DEPRECATED)),this._elem.dispatchEvent(s.createEvent(M.HIDE)),!this._config.animate)return s.removeClass(this._popoverElem,r.classes.ACTIVE),void this._popoverElem.setAttribute("aria-hidden","true");var t=this;s.threeStepsAnimation((function(){s.addClass(t._popoverElem,r.classes.TRANSITIONING)}),(function(){t._popoverElem.style.transform=t._preAnimationTransformStyle,s.removeClass(t._popoverElem,r.classes.ACTIVE)}),(function(){s.removeClass(t._popoverElem,r.classes.TRANSITIONING),t._popoverElem.setAttribute("aria-hidden","true"),t._popoverElem.dispatchEvent(s.createEvent(M.HIDDEN))}),200)}}},{key:"allowConsecutiveActions",value:function(){var e=(new Date).getTime();return this.lastActioned?e-this.lastActioned>this._config.delayBetweenInteractions&&(this.lastActioned=e,!0):(this.lastActioned=e,!0)}},{key:"toggle",value:function(){this._shown?this.hide():this.show()}},{key:"resetPosition",value:function(){this._popper.update()}},{key:"_configurePopover",value:function(){this._configurePopoverElement(),this._configurePopoverClasses(),this._configurePopoverContent(),this._configurePopoverIdAria(),this._configurePopoverPopper()}},{key:"_configurePopoverElement",value:function(){var e=this._elem.dataset&&this._elem.dataset.target||this._config.target;e?e instanceof Element?this._popoverElem=e:this._popoverElem=document.querySelector(e):(this._popoverElem=document.createElement("section"),this._config.parent.parentNode.appendChild(this._popoverElem))}},{key:"_configurePopoverClasses",value:function(){var e=this;s.addClass(this._popoverElem,"chi-popover"),this._config.classes.forEach((function(t){s.addClass(e._popoverElem,t)})),this._config.arrow||s.addClass(e._popoverElem,"-no-arrow"),this._config.animate&&s.addClass(this._popoverElem,r.classes.ANIMATED)}},{key:"_configurePopoverContent",value:function(){var e=this._config.content||this._elem.dataset.popoverContent;if(e&&this.setContent(e),this._config.arrow){var t=document.createElement("div");t.className="chi-popover__arrow",this._popoverElem.appendChild(t)}}},{key:"_configurePopoverIdAria",value:function(){this._popoverElem.id=this._popoverElem.id||"chi-popover-"+this.componentCounterNo,this._config.parent.setAttribute("aria-describedby",this._popoverElem.id),this._popoverElem.setAttribute("aria-hidden","true"),this._popoverElem.setAttribute("role","dialog"),this._popoverElem.querySelector(".chi-popover__title")&&this._popoverElem.setAttribute("aria-label",this._popoverElem.querySelector(".chi-popover__title").innerHTML),this._popoverElem.setAttribute("aria-modal","true")}},{key:"_configurePopoverPopper",value:function(){var e=this;this._savePopperData=function(t){return e._popperData=t,e._preAnimationTransformStyle=null,e._postAnimationTransformStyle=t.styles.transform,0===t.placement.indexOf("top")?e._preAnimationTransformStyle="translate3d(".concat(t.popper.left,"px, ").concat(t.popper.top+20,"px, 0px)"):0===t.placement.indexOf("right")?e._preAnimationTransformStyle="translate3d(".concat(t.popper.left-20,"px, ").concat(t.popper.top,"px, 0px)"):0===t.placement.indexOf("bottom")?e._preAnimationTransformStyle="translate3d(".concat(t.popper.left,"px, ").concat(t.popper.top-20,"px, 0px)"):0===t.placement.indexOf("left")?e._preAnimationTransformStyle="translate3d(".concat(t.popper.left+20,"px, ").concat(t.popper.top,"px, 0px)"):e._preAnimationTransformStyle=t.styles.transform,t},this._popper=new T.a(this._config.parent,this._popoverElem,{modifiers:{applyStyle:{enabled:!0},applyChiStyle:{enabled:!0,fn:this._savePopperData,order:875},arrow:{element:".chi-popover__arrow",enabled:this._config.arrow},preventOverflow:{boundariesElement:"window"}},removeOnDestroy:!0,placement:this._config.position})}},{key:"setContent",value:function(e){s.empty(this._popoverElem),e instanceof Element?this._popoverElem.appendChild(e):this._popoverElem.innerHTML=e}},{key:"dispose",value:function(){this._removeEventHandlers(),this._popoverElem=null,this._popper.destroy(),this._config=null,this._popperData=null,this._preAnimationTransformStyle=null,this._postAnimationTransformStyle=null,this._mouseClickOnDocument=null,this._mouseClickOnPopover=null,this._mouseClickEventHandler=null,this._elem=null}}])&&N(n.prototype,o),i&&N(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(h),B=h.factory.bind(j);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function V(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H(t)?t:t+""}function F(e,t,n){return t=q(t),function(e,t){if(t&&("object"==H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],q(e).constructor):t.apply(e,n))}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $={date:null,locale:"en",min:"01/01/1900",max:"12/31/2099",format:"MM/DD/YYYY"},G=["sun","mon","tue","wed","thu","fri","sat"],U=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=F(this,t,[e,s.extend($,n)])).shown=!1,r.lastShownMonth=null,r.weekDaysHtml=null,r._popover=null,r._elem.setAttribute("type","text"),k.a.locale(r._config.locale),1===k()().startOf("week").day()?r._weekStartClass="-week-starts-on-mon":r._weekStartClass="-week-starts-on-sun",r.elems={calendar:null,container:null,dayList:null,monthTitle:null,nextButton:null,prevButton:null},r._initFromAttributeValues(n),r._initEventHandlers(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(t,e),function(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_initFromAttributeValues",value:function(e){var t=this._elem.getAttribute("max"),n=this._elem.getAttribute("min"),r=this._elem.value;e&&void 0!==e.max||!t||(this._config.max=t),e&&void 0!==e.min||!n||(this._config.min=n),this.date=this._config.date&&k()(this._config.date)||r&&k()(r)||null,this.setDate(this.date?this.date.format(this._config.format):"")}},{key:"_initEventHandlers",value:function(){var e=this;this._addEventHandler(this._elem,"focus",(function(){e.show()})),this._addEventHandler(this._elem.parentNode,"click",(function(){e.show(),e._elem.focus()})),this._addEventHandler(this._elem,"change",(function(){e.setDate(e._elem.value)}))}},{key:"_initHidingEventHandlers",value:function(){var e=this;this._addEventHandler(this.elems.container,"focus",(function(){e.focusOnContainer=!0})),this._addEventHandler(this.elems.container,"click",(function(){e.clickOnContainer=!0})),this._addEventHandler(this._elem,"focus",(function(){e.focusOnContainer=!0})),this._addEventHandler(this._elem,"click",(function(){e.clickOnContainer=!0})),this._addEventHandler(document,"focus",(function(){e.focusOnContainer?e.focusOnContainer=!1:e.hide()})),this._addEventHandler(document,"click",(function(){e.clickOnContainer?e.clickOnContainer=!1:e.hide()}))}},{key:"_dayClickEventHandler",value:function(e){var t=e.target;t&&s.hasClass(t,"chi-datepicker__day")&&!s.hasClass(t,r.classes.INACTIVE)&&(this.setDate(t.dataset.date),this.hide())}},{key:"show",value:function(){this.shown||(this.elems.container||this._initContainer(),this.update(),this.shown=!0,this._popover.show(),s.addClass(this._elem,"-focus"))}},{key:"hide",value:function(){this.shown&&document.activeElement!==this._elem&&(this.shown=!1,this._popover.hide(),s.removeClass(this._elem,"-focus"))}},{key:"toggle",value:function(){this.shown?this.hide():this.show()}},{key:"_initContainer",value:function(){this.elems.container=document.createElement("div");var e=this._renderEmptyCalendar();this.elems.container.appendChild(e);var t=this;this._addEventHandler(this.elems.prevButton,"click",(function(e){s.hasClass(e.target,r.classes.DISABLED)||t.loadPrevMonth()})),this._addEventHandler(this.elems.nextButton,"click",(function(e){s.hasClass(e.target,r.classes.DISABLED)||t.loadNextMonth()})),this._addEventHandler(this.elems.dayList,"click",(function(e){t._dayClickEventHandler(e)}));var n=this._elem;this._elem.parentElement&&s.hasClass(this._elem.parentElement,"chi-input__wrapper")&&(n=this._elem.parentElement),this._popover=j.factory(n,{arrow:!1,classes:["chi-popover__datepicker"],content:this.elems.container,position:"bottom",preventAutoHide:!0,trigger:"manual"}),this._initHidingEventHandlers()}},{key:"loadNextMonth",value:function(){this.update(this.lastShownMonth.add(1,"month"))}},{key:"loadPrevMonth",value:function(){this.update(this.lastShownMonth.subtract(1,"month"))}},{key:"update",value:function(e){if((e=e||this.date)&&!e.isValid())throw new Error("Invalid date while trying to update view. ");if(e&&!e.isSame(this.lastShownMonth,"month")||null===e&&e!==this.lastDate||this.date&&!this.date.isSame(this.lastDate,"day")||!k()().isSame(this.lastToday,"day")){var t=this;window.requestAnimationFrame((function(){t._updateCalendarView(e||k()())}))}}},{key:"setDate",value:function(e){var t=!1;if(!e&&this.date)this.date=null,t=!0;else if(e){var n=k()(e);this.date&&this.date.isSame(n,"day")||(this.date=n,t=!0)}this._updateInputField(),t&&this.update()}},{key:"_updateInputField",value:function(){var e=this.date?this.date.format(this._config.format):"";this._elem.value!==e&&(this._elem.value=e,this._elem.dispatchEvent(s.createEvent("change")))}},{key:"_renderEmptyCalendar",value:function(){var e;return(e=document.createElement("div")).setAttribute("class","chi-datepicker "+this._weekStartClass),e.innerHTML='\n    <div class="chi-datepicker__month-row">\n      <div class="prev">\n        <i class="chi-icon icon-chevron-left -sm" aria=hidden="true"></i>\n      </div>\n      <div class="chi-datepicker__month"></div>\n      <div class="next">\n        <i class="chi-icon icon-chevron-right -sm" aria=hidden="true"></i>\n      </div>\n    </div>\n    <div class="chi-datepicker__day-names">\n      '.concat(this._renderWeekDays(),'\n    </div>\n    <div class="chi-datepicker__days"></div>'),this.elems.dayList=e.getElementsByClassName("chi-datepicker__days")[0],this.elems.monthTitle=e.getElementsByClassName("chi-datepicker__month")[0],this.elems.prevButton=e.getElementsByClassName("prev")[0],this.elems.nextButton=e.getElementsByClassName("next")[0],this.elems.calendar=e,e}},{key:"_updateCalendarView",value:function(e){var t=e.add(1,"month").startOf("month");e.subtract(1,"month").endOf("month").isBefore(k()(this._config.min))?s.addClass(this.elems.prevButton,r.classes.DISABLED):s.removeClass(this.elems.prevButton,r.classes.DISABLED),t.isAfter(k()(this._config.max))?s.addClass(this.elems.nextButton,r.classes.DISABLED):s.removeClass(this.elems.nextButton,r.classes.DISABLED),this.elems.monthTitle.innerText=e.format("MMMM")+" "+e.format("YYYY");var n=this.elems.calendar.className.replace(/-month-starts-on-.../,"");if(this.elems.calendar.className=n+" -month-starts-on-"+G[e.set("date",1).day()],e.isSame(this.lastShownMonth,"month"))this._updateMonthDays();else{for(;this.elems.dayList.firstChild;)this.elems.dayList.removeChild(this.elems.dayList.firstChild);this.elems.dayList.innerHTML=this._renderMonthDays(e),this._popover.resetPosition()}this.lastShownMonth=e,this.lastDate=this.date,this.lastToday=k()()}},{key:"_renderMonthDays",value:function(e){for(var t=e.startOf("month"),n=e.endOf("month"),r="",o=t;!o.isAfter(n,"day");o=o.add(1,"day"))r+=this._renderDay(o);return r}},{key:"_updateMonthDays",value:function(){var e=this;Array.prototype.forEach.call(this.elems.dayList.childNodes,(function(t){var n=k()(t.dataset.date);t.className=e._classesForDay(n).join(" ")}))}},{key:"_classesForDay",value:function(e){var t=["chi-datepicker__day"];return(e.isBefore(k()(this._config.min))||e.isAfter(k()(this._config.max)))&&t.push(r.classes.INACTIVE),e.isSame(this.date,"day")&&t.push(r.classes.ACTIVE),e.isSame(k()(),"day")&&t.push("-today"),t}},{key:"_renderDay",value:function(e){var t=this._classesForDay(e).join(" "),n=e.format(this._config.format);return'<div class="'.concat(t,'" data-date="').concat(n,'">').concat(e.date(),"</div>")}},{key:"_renderWeekDays",value:function(){if(!this.weekDaysHtml){this.weekDaysHtml="";for(var e=k()().startOf("week"),t=k()().endOf("week"),n=e;!n.isAfter(t);n=n.add(1,"day"))this.weekDaysHtml+='<div class="chi-datepicker__week-day">'+n.format("dddd").substr(0,1)+"</div>"}return this.weekDaysHtml}},{key:"dispose",value:function(){this._config=null,this._elem=null,this._popover&&(this._popover.dispose(),this._popover=null),this._removeEventHandlers()}}],[{key:"componentType",get:function(){return"datePicker"}},{key:"componentSelector",get:function(){return'input[type="date"]'}}])}(h),Y=h.factory.bind(U);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J(r.key),r)}}function J(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X(t)?t:t+""}function Z(e,t,n){return t=K(t),function(e,t){if(t&&("object"==X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],K(e).constructor):t.apply(e,n))}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ee="chi.drawer.show",te="chi.drawer.hide",ne="chiDrawerShow",re="chiDrawerHide",oe="chiDrawerShown",ie="chiDrawerHidden",ae={target:null,animated:!0,preventAutoHide:!1,persistOnClick:!1},se=function(e){function t(e,n){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Z(this,t,[e,s.extend(ae,n)]))._shown=s.hasClass(e,r.classes.ACTIVE),o._transitioning=!1,o._config.target?o._config.target instanceof Element?o._drawerElem=o._config.target:o._drawerElem=document.querySelector(o._config.target):o._drawerElem=o._locateDrawer(),o._closeButton=o._locateCloseButton(),o._backdrop=o._locateBackdrop(),o._currentThreeStepsAnimation=null;var i=o;return o._config.animated&&(s.addClass(o._drawerElem,r.classes.ANIMATED),o._backdrop&&s.addClass(o._backdrop,r.classes.ANIMATED)),o._triggerClickEventListener=function(e){e.preventDefault(),i._config.persistOnClick?i._shown||i.show():i.toggle()},o._closeClickEventListener=function(){i.hide()},o._mouseClickOnDrawer=function(){i._closeOnClickOnDocument=!1},o._addEventHandler(o._drawerElem,"click",o._mouseClickOnDrawer),o._config.preventAutoHide||(o._mouseClickOnDocument=function(){i._closeOnClickOnDocument?i.hide():i._closeOnClickOnDocument=!0},o._addEventHandler(document,"click",o._mouseClickOnDocument)),o._elem.addEventListener("click",o._triggerClickEventListener),o._closeButton.addEventListener("click",o._closeClickEventListener),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(t,e),n=t,i=[{key:"componentType",get:function(){return"drawer"}},{key:"componentSelector",get:function(){return".chi-drawer__trigger"}}],(o=[{key:"_locateDrawer",value:function(){var e=s.getTarget(this._elem);if(!e)throw new Error("Could not find drawer content for drawer trigger. ");return e}},{key:"_locateCloseButton",value:function(){var e=this._drawerElem.querySelectorAll(".-close");return e?e[0]:null}},{key:"_locateBackdrop",value:function(){var e=this._drawerElem.parentNode.parentNode;return s.hasClass(e,"chi-backdrop")?e:null}},{key:"show",value:function(){if(!this._shown){this._transitioning&&s.stopThreeStepsAnimation(this._currentThreeStepsAnimation,!1),this._transitioning=!0;var e=this;this._config.animated?this._currentThreeStepsAnimation=s.threeStepsAnimation((function(){s.addClass(e._drawerElem,r.classes.TRANSITIONING),e._backdrop&&s.addClass(e._backdrop,r.classes.TRANSITIONING)}),(function(){s.addClass(e._drawerElem,r.classes.ACTIVE),s.addClass(e._elem,r.classes.ACTIVE),e._backdrop&&s.removeClass(e._backdrop,r.classes.CLOSED),e._shown=!0,e._drawerElem.dispatchEvent(s.createEvent(ne)),e._drawerElem.dispatchEvent(s.createEvent(ee))}),(function(){s.removeClass(e._drawerElem,r.classes.TRANSITIONING),e._backdrop&&s.removeClass(e._backdrop,r.classes.TRANSITIONING),e._transitioning=!1,e._drawerElem.dispatchEvent(s.createEvent(oe))}),500):(s.addClass(e._drawerElem,r.classes.ACTIVE),s.addClass(e._elem,r.classes.ACTIVE),e._backdrop&&s.removeClass(e._backdrop,r.classes.CLOSED),e._transitioning=!1,e._shown=!0,e._drawerElem.dispatchEvent(s.createEvent(ne)),e._closeOnClickOnDocument=!1)}}},{key:"hide",value:function(){if(this._shown){s.removeClass(document.body,"-disable-scroll"),this._transitioning&&s.stopThreeStepsAnimation(this._currentThreeStepsAnimation,!1),this._transitioning=!0;var e=this;this._config.animated?this._currentThreeStepsAnimation=s.threeStepsAnimation((function(){s.addClass(e._drawerElem,r.classes.TRANSITIONING),e._backdrop&&s.addClass(e._backdrop,r.classes.TRANSITIONING)}),(function(){s.removeClass(e._drawerElem,r.classes.ACTIVE),s.removeClass(e._elem,r.classes.ACTIVE),e._backdrop&&s.addClass(e._backdrop,r.classes.CLOSED),e._shown=!1,e._drawerElem.dispatchEvent(s.createEvent(re)),e._drawerElem.dispatchEvent(s.createEvent(te))}),(function(){s.removeClass(e._drawerElem,r.classes.TRANSITIONING),e._backdrop&&s.removeClass(e._backdrop,r.classes.TRANSITIONING),e._transitioning=!1,e._drawerElem.dispatchEvent(s.createEvent(ie))}),500):(s.removeClass(e._drawerElem,r.classes.ACTIVE),s.removeClass(e._elem,r.classes.ACTIVE),e._backdrop&&s.addClass(e._backdrop,r.classes.CLOSED),e._transitioning=!1,e._shown=!1,e._drawerElem.dispatchEvent(s.createEvent(re)))}}},{key:"toggle",value:function(){this._shown?this.hide():this.show()}},{key:"dispose",value:function(){this._config=null,this._drawerElem=null,this._shown=null,this._transitioning=null,this._elem.removeEventListener("click",this._triggerClickEventListener),this._closeButton.removeEventListener("click",this._closeClickEventListener),this._closeButton=null,this._currentThreeStepsAnimation=null,this._elem=null}}])&&z(n.prototype,o),i&&z(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(h),ce=h.factory.bind(se);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,de(r.key),r)}}function de(e){var t=function(e,t){if("object"!=le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==le(t)?t:t+""}var he=function(){return e=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._animation=null,this._isVertical=!!n,this._parentElem=t,this._tagName=r,this._lastBorderedElement=null,this._shown=!1,this._findOrCreateSlidingBorder()},(t=[{key:"calculateStaticChildStyle",value:function(e){var t={top:"",left:"",height:"",width:""};return void 0===e?this._isVertical?(t.height="0px",t.top="0px",t.left="",t.width=""):(t.width="0px",t.left="0px",t.height="",t.top=""):this._isVertical?(t.height=s.calculateExternalHeight(e,!1)+"px",t.top=s.calculateDistance(this._parentElem,e,"y",!0)+"px"):(t.width=s.calculateExternalWidth(e,!1)+"px",t.left=s.calculateDistance(this._parentElem,e,"x",!0)+"px"),t}},{key:"moveToLastChild",value:function(){this._lastBorderedElement&&this.moveSlidingBorderToChild(this._lastBorderedElement)}},{key:"moveSlidingBorderToChild",value:function(e){if(this._lastBorderedElement=e,this.stop(),this._shown){var t=this;this._animation=s.threeStepsAnimation(s.noOp,(function(){t.setSlidingBorder(t.calculateStaticChildStyle(e))}),(function(){t.hide(),t._animation=null}),500)}else this.setSlidingBorder(this.calculateStaticChildStyle(e))}},{key:"stop",value:function(){this._animation&&(s.stopThreeStepsAnimation(this._animation,!1),this._animation=null)}},{key:"setSlidingBorder",value:function(e){for(var t in this._slidingBorder||this._findOrCreateSlidingBorder(),e)this._slidingBorder.style[t]=e[t]}},{key:"_findOrCreateSlidingBorder",value:function(){if(!this._slidingBorder){for(var e=!1,t=0;!e&&t<this._parentElem.childNodes.length;t++){var n=this._parentElem.childNodes[t];s.hasClass(n,"chi-sliding-border")&&(this._slidingBorder=n,e=!0)}e||(this._slidingBorder=document.createElement(this._tagName),this._slidingBorder.setAttribute("class","chi-sliding-border"),this._parentElem.appendChild(this._slidingBorder))}}},{key:"show",value:function(){this._shown||(s.addClass(this._parentElem,"-sliding"),this._shown=!0)}},{key:"hide",value:function(){this._shown&&(s.removeClass(this._parentElem,"-sliding"),this._shown=!1)}},{key:"removeSlidingBorder",value:function(){this._slidingBorder&&(this._parentElem.removeChild(this._slidingBorder),this._slidingBorder=null)}},{key:"setVertical",value:function(e){(e=!!e)!==this._isVertical&&(this._isVertical=e,this._parentElem.removeChild(this._slidingBorder),this._findOrCreateSlidingBorder())}},{key:"dispose",value:function(){this.stop(),this.hide(),this.removeSlidingBorder(),this._isVertical=null,this._parentElem=null,this._tagName=null,this._lastBorderedElement=null}}])&&ue(e.prototype,t),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,me(r.key),r)}}function me(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fe(t)?t:t+""}function ve(e,t,n){return t=_e(t),function(e,t){if(t&&("object"==fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],_e(e).constructor):t.apply(e,n))}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var be={animated:!0,waitForAnimations:!0},ge=37,we=38,Ee=39,Ce=40,Se=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=r=ve(this,t,[e,s.extend(be,n)]);return r._slidingBorder=null,r._clickEventHandler=function(e){o.clickEventHandler(e)},r._elem.addEventListener("click",r._clickEventHandler),r._tabs=r._elem.querySelectorAll("li"),r._tabAnchor=r._elem.querySelectorAll("li a"),r._config.animated&&(s.addClass(r._elem,"-animated"),r._slidingBorder=new he(r._elem,r.isVertical(),"li")),Array.prototype.forEach.call(r._tabs,(function(e,t){e.addEventListener("keyup",(function(e){return r.keyupEventListener(e,t)}))})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(t,e),function(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"keyupEventListener",value:function(e,t){var n=this,o=e.keyCode,i=this._elem.classList.contains("-vertical"),a=[].slice.call(this._tabs).indexOf(this.getActiveTab());e.preventDefault(),e.stopPropagation();var s,c=function(e){e.querySelector("a").focus()};i&&o===we||!i&&o===ge?(s=0===t?n._tabs[n._tabs.length-1]:n._tabs[a-1]).classList.contains(r.classes.DISABLED)||(n.showTab(s),c(s)):(i&&o===Ce||!i&&o===Ee)&&function(){var e;(e=a===n._tabs.length-1?n._tabs[0]:n._tabs[a+1]).classList.contains(r.classes.DISABLED)||(n.showTab(e),c(e))}()}},{key:"getActiveTab",value:function(){return this._elem.querySelector(".chi-tabs > .-active:NOT(.-has-active), ul.chi-tabs__subtabs > .-active:NOT(.-has-active)")}},{key:"getAssociatedTabPanel",value:function(e){if(!e.hasChildNodes())return null;for(var t=0;t<e.childNodes.length;t++)if("A"===e.childNodes[t].nodeName){var n=s.getTarget(e.childNodes[t]);if(n&&s.hasClass(n,"chi-tabs-panel"))return n}}},{key:"showTabPanel",value:function(e){var t=this.getAssociatedTabPanel(e);t&&s.addClass(t,"-active")}},{key:"hideTabPanel",value:function(e){var t=this.getAssociatedTabPanel(e);t&&s.removeClass(t,"-active")}},{key:"isVertical",value:function(){var e=s.hasClass(this._elem,"-vertical")||s.hasClass(this._elem,"-responsive")&&s.getMediaWidth()<r.responsiveBreakpoints.md;if(this._slidingBorder){var t=e;return t!==this.previousVerticalValue&&(this.previousVerticalValue=t,this._slidingBorder.setVertical(t)),t}return e}},{key:"showTab",value:function(e,t){var n=this.getActiveTab();if(e!==n){this._config.animated&&(n&&(this._slidingBorder.hide(),this._slidingBorder.moveSlidingBorderToChild(this._getElementToMoveTo(n))),this._slidingBorder.show());var r=this._elem.querySelector(".chi-tabs > .-active.-has-active");this._handleActiveClassOnTabs(e,t,n,r),n&&this.hideTabPanel(n),this.showTabPanel(e),this._config.animated&&(t&&!this.isVertical()?this._slidingBorder.moveSlidingBorderToChild(this._getElementToMoveTo(t)):this._slidingBorder.moveSlidingBorderToChild(this._getElementToMoveTo(e))),Array.prototype.forEach.call(this._tabAnchor,(function(t){e.contains(t)?(t.setAttribute("aria-selected",!0),t.getAttribute("tabindex")&&t.removeAttribute("tabindex")):(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"))}))}}},{key:"_handleActiveClassOnTabs",value:function(e,t,n,r){e!==n&&(n&&n!==t&&s.removeClass(n,"-active"),r&&(s.removeClass(r,"-has-active"),r!==e&&s.removeClass(r,"-active")),t&&(s.addClass(t,"-has-active"),s.addClass(t,"-active")),s.addClass(e,"-active"))}},{key:"hideTabs",value:function(){var e=this;Array.prototype.forEach.call(this._elem.getElementsByTagName("LI"),(function(t){s.removeClass(t,"-active"),e.hideTabPanel(t)})),this._config.animated&&this.moveSlidingBorderToTab()}},{key:"_isLinkATabActivator",value:function(e){return!!s.getTarget(e)}},{key:"_clickedOnAnchor",value:function(e,t){this._isLinkATabActivator(e)?t.preventDefault():this._config.animated&&this._config.waitForAnimations&&(t.preventDefault(),window.setTimeout((function(){window.location.href=e.getAttribute("href")}),500))}},{key:"clickEventHandler",value:function(e){for(var t,n,r=e.target;r&&r!==this._elem;r=r.parentNode)"A"===r.nodeName?this._clickedOnAnchor(r,e):"LI"===r.nodeName&&(t?n=r:t=r);t&&this.showTab(t,n)}},{key:"_getElementToMoveTo",value:function(e){if(!e)return e;for(var t=!1,n=null,r=0;r<e.childNodes.length&&!t;r++)"A"===e.childNodes[r].nodeName?(n=e.childNodes[r],t=!0):"UL"!==e.childNodes[r].nodeName&&(n=e.childNodes[r]);return n||e}},{key:"moveSlidingBorderToTab",value:function(e){var t=this._getElementToMoveTo(e);this._slidingBorder.moveSlidingBorderToChild(t)}},{key:"dispose",value:function(){this._config=null,this._elem.removeEventListener("click",this._clickEventHandler),this._clickEventHandler=null,this._elem=null,this._slidingBorder&&(this._slidingBorder.dispose(),this.previousVerticalValue=null)}}],[{key:"componentType",get:function(){return"tab"}},{key:"componentSelector",get:function(){return".chi-tabs"}}])}(h),Ae=h.factory.bind(Se);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oe(r.key),r)}}function Oe(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ke(t)?t:t+""}function Ne(e,t,n){return t=Ie(t),function(e,t){if(t&&("object"==ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ie(e).constructor):t.apply(e,n))}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Le="chi-dropdown__trigger",Pe={popper:!0,dropdownElem:null},Me="chiDropdownShow",xe="chiDropdownHide",je=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ne(this,t,[e,s.extend(Pe,n)]))._eventCaptured=!1,r._shown=s.hasClass(e,"-active"),r._childrenDropdowns=[],r._dropdownElem=null,r._parentDropdown=null,r._activedDescendants=[],r._locateMolecule(),r._locateDropdown();var o=r;return r._config.popper&&r.enablePopper(),r._triggerClickEventListener=function(e){o._clickOnTrigger(),e.preventDefault(),o._eventCaptured=!0},r._triggerFocusEventListener=function(){o._triggerOnFocus()},r._triggerBlurEventListener=function(){o._triggerOnBlur()},r._elem.addEventListener("click",r._triggerClickEventListener),r._documentClickEventListener=function(){!0===o._eventCaptured?o._eventCaptured=!1:o._clickOnDocument()},document.addEventListener("click",r._documentClickEventListener),r._dropdownElemClickEventListener=function(e){o._dropdownClickedEventManager(e)},r._dropdownElem.addEventListener("click",r._dropdownElemClickEventListener),r._initInnerDropdowns(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(t,e),function(e,t,n){return t&&Te(e.prototype,t),n&&Te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_dropdownClickedEventManager",value:function(e){this._eventCaptured=!0,"A"!==e.target.nodeName&&"BUTTON"!==e.target.nodeName&&"button"!==e.target.getAttribute("type")&&"submit"!==e.target.getAttribute("type")&&"reset"!==e.target.getAttribute("type")||this._clickDropdownElemItem()}},{key:"_initInnerDropdowns",value:function(){var e=this;Array.prototype.forEach.call(this._dropdownElem.getElementsByClassName(Le),(function(n){var r=n.nextSibling,o=s.copyObject(e._config);o.popper=!1,r&&s.hasClass(r,"chi-dropdown__menu")&&(o.dropdownElem=r);var i=t.factory(n,o);i._parentDropdown||(i._parentDropdown=e,e._childrenDropdowns.push(i))}))}},{key:"_calculateDropdownPosition",value:function(){var e=null;return this._elem.dataset.position?"default"===this._elem.dataset.position?e="bottom-start":"initial"!==this._elem.dataset.position&&(e=this._elem.dataset.position):this._molecule&&(e="bottom-start"),e}},{key:"enablePopper",value:function(){if(!this._popper){this._popper="loading";var e=this;window.requestAnimationFrame((function(){var t=e._calculateDropdownPosition();t&&void 0!==T.a&&(e._popper=new T.a(e._elem,e._dropdownElem,{modifiers:{applyStyle:{enabled:!0},applyChiStyle:{enabled:!0,fn:e._popperPatchForBottomLeftPropperLocation,order:890}},placement:t}))}))}}},{key:"_popperPatchForBottomLeftPropperLocation",value:function(e){return e.styles.left=e.styles.left||"initial",e.styles.right=e.styles.right||"initial",e}},{key:"disablePopper",value:function(){this._popper&&"function"==typeof this._popper&&this._popper.destroy(),this._popper=null}},{key:"_clickOnTrigger",value:function(){this.focused||this.toggle()}},{key:"_triggerOnFocus",value:function(){this.focused=!0,this._shown||this.show()}},{key:"_triggerOnBlur",value:function(){this.focused=!1,this._shown&&this.hide()}},{key:"_clickOnDocument",value:function(){this.hide()}},{key:"_clickDropdownElemItem",value:function(){this.hide()}},{key:"_locateMolecule",value:function(e){void 0===e&&(e=this._elem.parentNode),null!==e&&(s.hasClass(e,"chi-dropdown")?this._molecule=e:"body"!==e.nodeName&&"document"!==e.nodeName&&this._locateMolecule(e.parentNode))}},{key:"_locateDropdown",value:function(){if(this._config.dropdownElem?this._dropdownElem=this._config.dropdownElem:this._dropdownElem=s.getTarget(this._elem),this._molecule&&!this._dropdownElem){var e=this._molecule.getElementsByClassName("chi-dropdown__menu");e&&e.length&&(this._dropdownElem=e[0])}if(!this._dropdownElem)throw new Error("Could not find dropdown content for dropdown trigger. ")}},{key:"show",value:function(){this._parentDropdown&&this._parentDropdown._setActiveDescendants([this,this._activedDescendants]),this._shown||(s.addClass(this._elem,"-active"),s.addClass(this._elem,"-has-active"),s.addClass(this._dropdownElem,"-active"),this._popper&&"function"==typeof this._popper.update&&this._popper.update(),this._parentDropdown&&this._parentDropdown.show(),this._shown=!0,this._elem.dispatchEvent(s.createEvent(Me)))}},{key:"hide",value:function(){this._shown&&(this._parentDropdown&&this._parentDropdown._setActiveDescendants(),this._setActiveDescendants(),s.removeClass(this._elem,"-active"),s.removeClass(this._dropdownElem,"-active"),this._shown=!1,this._childrenDropdowns.forEach((function(e){e.hide()})),this._elem.dispatchEvent(s.createEvent(xe)))}},{key:"_setActiveDescendants",value:function(e){this._activedDescendants=[];var t=this;void 0!==e&&e.forEach((function(e){Array.isArray(e)?e.forEach((function(e){t._activedDescendants.push(e)})):t._activedDescendants.push(e)}))}},{key:"toggle",value:function(){this._shown?this.hide():this.show()}},{key:"dispose",value:function(){this._config=null,this._molecule=null,this._shown=null,this._eventCaptured=null,this._elem.removeEventListener("click",this._triggerClickEventListener),this._triggerClickEventListener=null,this._elem.removeEventListener("focus",this._triggerFocusEventListener),this._triggerFocusEventListener=null,this._elem.removeEventListener("blur",this._triggerBlurEventListener),this._triggerBlurEventListener=null,this._dropdownElem.removeEventListener("click",this._dropdownElemClickEventListener),this._dropdownElemClickEventListener=null,this._childrenDropdowns.forEach((function(e){e.dispose()})),this._childrenDropdowns=null,this._parentDropdown=null,this._activedDescendants=null,this._dropdownElem=null,document.removeEventListener("click",this._documentClickEventListener),this._documentClickEventListener=null,this._elem=null,this.disablePopper()}}],[{key:"componentType",get:function(){return"dropdown"}},{key:"componentSelector",get:function(){return".chi-dropdown__trigger"}}])}(h),Be=h.factory.bind(je);function He(e,t,n){return t=Fe(t),function(e,t){if(t&&("object"==$e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Fe(e).constructor):t.apply(e,n))}function Re(){return(Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ve(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(null,arguments)}function Ve(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Fe(e)););return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t)}function We(e,t){return(We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xe(r.key),r)}}function Ye(e,t,n){return t&&Ue(e.prototype,t),n&&Ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xe(e){var t=function(e,t){if("object"!=$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$e(t)?t:t+""}var ze={animated:!0,mode:"stepped",changeHandler:s.noOp,customActions:{}},Je={ACTIVE:{NAME:"active",CLASS:"-active",CLASS_TARGET:"-active--only",CLASS_TRANSITIONING:"-active--transitioning"},DISABLED:{NAME:"disabled",CLASS:"-disabled",CLASS_TARGET:"",CLASS_TRANSITIONING:"-disabled--transitioning"},DONE:{NAME:"done",CLASS:"-done",CLASS_TARGET:"-done--only",CLASS_TRANSITIONING:"-done--transitioning"},PENDING:{NAME:"pending",CLASS:"",CLASS_TARGET:"",CLASS_TRANSITIONING:"-pending--transitioning"}},Ze={},Ke=function(){return Ye((function e(){Ge(this,e),this.lastAccessedIndex=-1,this.expansion_panels=[],this.epChangedListener=function(){}}),[{key:"push",value:function(e){this.expansion_panels.push(e),e.addStateChangeListener(this.epChangedListener)}},{key:"delete",value:function(e){var t=this.getIndex(e);t>-1&&(this.expansion_panels.splice(t,1),e.removeStateChangeListener(this.epChangedListener))}},{key:"getIndex",value:function(e){return this.expansion_panels.indexOf(e)}},{key:"next",value:function(){var e=this.expansion_panels[this.lastAccessedIndex+1];return e&&this.lastAccessedIndex++,e}},{key:"previous",value:function(){var e=this.expansion_panels[this.lastAccessedIndex-1];return e&&this.lastAccessedIndex--,e}},{key:"reset",value:function(e){this.lastAccessedIndex=this.getIndex(e)}}])}(),Qe=function(e){function t(){var e;return Ge(this,t),(e=He(this,t)).epChangedListener=function(t,n,r){e.epChangedHandler(t,n,r)},e.completedPanels=new Set,e}return qe(t,e),Ye(t,[{key:"epChangedHandler",value:function(e,t,n){var r=this;e===Je.ACTIVE&&this.expansion_panels.map((function(e){e!==n&&e.getState()===Je.ACTIVE&&(r.completedPanels.has(e)?e.setState(Je.DONE.NAME):e.setState(Je.PENDING.NAME))}))}},{key:"push",value:function(e){var n=this;Re(Fe(t.prototype),"push",this).call(this,e),e._actions.next=function(e,t){n.completedPanels.add(e);var r=function(){t.reset(e);for(var n=t.next();n;n=t.next())if(n.getState()!==Je.DONE)return n}();r?r.setState(Je.ACTIVE.NAME):e.setState(Je.DONE.NAME)}}}])}(Ke),et=function(e){function t(){var e;Ge(this,t);var n=e=He(this,t);return e.epChangedListener=function(e,t,r){n.epChangedHandler(e,t,r)},e}return qe(t,e),Ye(t,[{key:"epChangedHandler",value:function(e,t,n){e===Je.ACTIVE&&this.expansion_panels.forEach((function(e){e!==n&&e.setState(Je.PENDING.NAME)}))}}])}(Ke),tt=function(e){function t(){return Ge(this,t),He(this,t,arguments)}return qe(t,e),Ye(t)}(Ke),nt=function(e){function t(e){var n;Ge(this,t);var r=n=He(this,t);return n.epChangedListener=function(t,n,o){e(t,n,o,r)},n}return qe(t,e),Ye(t)}(Ke),rt=function(e){function t(e,n){var r;Ge(this,t),(r=He(this,t,[e,s.extend(ze,n)]))._epGroup=null,r._state=Je.PENDING,r._stateChangeListeners=[];var o=r;return s.hasClass(r._elem,Je.ACTIVE.CLASS)?r._state=Je.ACTIVE:s.hasClass(r._elem,Je.DONE.CLASS)?r._state=Je.DONE:s.hasClass(r._elem,Je.DISABLED.CLASS)&&(r._state=Je.DISABLED),r._initDefaultActions(),r._initGroup(),r._onClickEventListener=function(e){o._clickHandler(e)},r._elem.addEventListener("click",r._onClickEventListener),r._initEventDispatcher(),r}return qe(t,e),Ye(t,[{key:"_initGroup",value:function(){var e=this._elem.dataset.chiEpanelGroup;if(e){if(!Ze[e])switch(this._config.mode){case"accordion":Ze[e]=new et;break;case"free":Ze[e]=new tt;break;case"custom":Ze[e]=new nt(this._config.changeHandler);break;default:Ze[e]=new Qe}this._epGroup=Ze[e],this._epGroup.push(this)}}},{key:"_initDefaultActions",value:function(){this._actions=s.extend({active:function(e){return e.setState(Je.ACTIVE.NAME)},done:function(e){return e.setState(Je.DONE.NAME)},pending:function(e){return e.setState(Je.PENDING.NAME)},toggle:function(e){e._state===Je.ACTIVE?e.setState(Je.PENDING.NAME):e.setState(Je.ACTIVE.NAME)},next:function(e,t){t.reset(e),t.next().setState(Je.ACTIVE.NAME)},previous:function(e,t){t.reset(e),t.previous().setState(Je.ACTIVE.NAME)},disabled:function(e){return e.setState(Je.DISABLED.NAME)}},this._config.customActions),this._actions.inactive=this._actions.pending}},{key:"_clickHandler",value:function(e){var t=this._findEpanelAction(e.target);t&&this.execute(t)}},{key:"_findEpanelAction",value:function(e){return e.dataset&&e.dataset.chiEpanelAction?e.dataset.chiEpanelAction:e.parentNode&&e.parentNode!==this._elem&&e.parentNode!==document?this._findEpanelAction(e.parentNode):null}},{key:"execute",value:function(e){if(!this._actions[e])throw"Action ".concat(e," not supported ");this._actions[e](this,this._epGroup)}},{key:"setState",value:function(e){var t=this,n=function(e){var t=null;return Object.keys(Je).forEach((function(n){Je[n].NAME===e&&(t=Je[n])})),t}(e);if(n&&n!==this._state){var r=this._state;this._state=n,this._config.animated?this.animateStateChange(r,n):(s.addClass(this._elem,n.CLASS),s.removeClass(this._elem,r.CLASS)),this._stateChangeListeners.forEach((function(e){return e(n,r,t)}))}}},{key:"getState",value:function(){return this._state}},{key:"getStateName",value:function(){return this._state.NAME}},{key:"addStateChangeListener",value:function(e){this._stateChangeListeners.push(e)}},{key:"removeStateChangeListener",value:function(e){var t=this._stateChangeListeners.indexOf(e);t>-1&&this._stateChangeListeners.splice(t,1)}},{key:"animateStateChange",value:function(e,t){this._transitioning&&s.stopThreeStepsAnimation(this.animation),this._transitioning=!0;var n=this._elem,r=function(){return Ye((function e(t){Ge(this,e),this.elem=t,this.oldStyle={}}),[{key:"updateStyle",value:function(e,t,n){void 0===this.oldStyle[e]&&(this.oldStyle[e]=this.elem.style[e]),n&&!this.elem.style[e]?this.elem.style[e]=t:n||(this.elem.style[e]=t)}},{key:"restoreStyle",value:function(){Object.getOwnPropertyNames(this.oldStyle).forEach(function(e){this.elem.style[e]=this.oldStyle[e]}.bind(this)),this.oldStyle={}}}])}(),o=function(e){function t(e){var n;return Ge(this,t),(n=He(this,t,[e])).inElements=[],n.outElements=[],n}return qe(t,e),Ye(t,[{key:"restoreStyle",value:function(){Re(Fe(t.prototype),"restoreStyle",this).call(this),this.inElements.forEach((function(e){e.restoreStyle()})),this.outElements.forEach((function(e){e.restoreStyle()}))}}])}(r),i=[],a=[],c={inElements:[],outElements:[]};this.animationEnd=function(){s.removeClass(n,e.CLASS_TRANSITIONING),s.removeClass(n,t.CLASS_TRANSITIONING),i.forEach((function(e){e.restoreStyle()})),this._transitioning=!1,this.animationEnd=null}.bind(this),s.findAndApply(n,t.CLASS_TARGET,(function(e){var t=new r(e),l=s.getClosest(e,"chi-epanel__collapse",n);if(l){var u=a.indexOf(l);if(-1===u){var d=new o(l);d.inElements.push(t),i.push(d),a.push(l)}else i[u].inElements.push(t)}else c.inElements.push(t)})),s.findAndApply(n,e.CLASS_TARGET,(function(e){var t=new r(e),l=s.getClosest(e,"chi-epanel__collapse",n);if(l){var u=a.indexOf(l);if(-1===u){var d=new o(l);d.outElements.push(t),i.push(d),a.push(l)}else i[u].outElements.push(t)}else c.outElements.push(t)})),this.animation=s.threeStepsAnimation((function(){s.addClass(n,e.CLASS_TRANSITIONING),s.addClass(n,t.CLASS_TRANSITIONING),i.forEach((function(e){e.inElements.forEach((function(e){e.updateStyle("willChange","opacity"),e.updateStyle("opacity","0"),e.updateStyle("position","absolute"),e.updateStyle("top","0"),e.updateStyle("left","0"),e.updateStyle("right","0"),e.updateStyle("zIndex","1")}));var t=window.getComputedStyle(e.elem).height;e.outElements.forEach((function(e){e.updateStyle("willChange","opacity"),e.updateStyle("opacity","1",!0),e.updateStyle("height",window.getComputedStyle(e.elem).height)})),e.updateStyle("height",t),e.updateStyle("position","relative"),e.updateStyle("overflow","hidden"),e.updateStyle("willChange","height")}))}),(function(){s.addClass(n,t.CLASS),s.removeClass(n,e.CLASS),i.forEach((function(e){var t=e.inElements.reduce((function(e,t){return e+parseInt(window.getComputedStyle(t.elem).height)}),0);e.elem.style.height=t+"px",e.inElements.forEach((function(e){e.elem.style.opacity="1"})),e.outElements.forEach((function(e){e.elem.style.opacity="0"}))}))}),this.animationEnd,200)}},{key:"_initEventDispatcher",value:function(){var e=this;this.addStateChangeListener((function(){e._elem.dispatchEvent(s.createEvent("chi.epanel.change"))}))}},{key:"dispose",value:function(){this._elem=null,this._config=null,this._epGroup.delete(this),this._epGroup=null,this._stateChangeListeners=null,this._state=null,this._onClickEventListener=null}}],[{key:"componentType",get:function(){return"expansionPanel"}},{key:"componentSelector",get:function(){return".-chi-epanel"}}])}(h),ot=h.factory.bind(rt);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function st(e){var t=function(e,t){if("object"!=it(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==it(t)?t:t+""}function ct(e,t,n){return t=lt(t),function(e,t){if(t&&("object"==it(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],lt(e).constructor):t.apply(e,n))}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e,t){return(ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var dt={},ht=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ct(this,t,[e,s.extend(dt,n)]))._label=e.getElementsByTagName("label")[0],r._input=e.getElementsByTagName("input")[0]||e.getElementsByTagName("select")[0];var o=r;return r._getDisplayedValue()?s.addClass(r._label,"-active"):s.removeClass(r._label,"-active"),"INPUT"===r._input.tagName?(r._onFocusEventListener=function(e){o._onInputFocus(e)},r._onBlurEventListener=function(e){o._onInputBlur(e)},r._input.addEventListener("focus",r._onFocusEventListener),r._input.addEventListener("blur",r._onBlurEventListener)):"SELECT"===r._input.tagName&&(r._onChangeEventListener=function(e){o._onSelectChange(e)},r._input.addEventListener("change",r._onChangeEventListener)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ut(e,t)}(t,e),n=t,o=[{key:"componentType",get:function(){return"floatingLabel"}},{key:"componentSelector",get:function(){return".-floating-label"}}],(r=[{key:"_onInputFocus",value:function(){s.addClass(this._label,"-active")}},{key:"_onSelectChange",value:function(){this._getDisplayedValue()?s.addClass(this._label,"-active"):s.removeClass(this._label,"-active")}},{key:"_onInputBlur",value:function(){this._getDisplayedValue()||s.removeClass(this._label,"-active")}},{key:"_getDisplayedValue",value:function(){return"INPUT"===this._input.tagName?this._input.value&&this._input.value.trim():this._input.options[this._input.selectedIndex].innerText.trim()}},{key:"dispose",value:function(){"INPUT"===this._input.tagName?(this._input.removeEventListener("focus",this._onFocusEventListener),this._input.removeEventListener("blur",this._onBlurEventListener),this._onFocusEventListener=null,this._onBlurEventListener=null):"SELECT"===this._input.tagName&&(this._input.removeEventListener("change",this._onChangeEventListener),this._onChangeEventListener=null),this._label=null,this._input=null,this._config=null,this._elem=null}}])&&at(n.prototype,r),o&&at(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(h),ft=h.factory.bind(ht);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vt(r.key),r)}}function vt(e){var t=function(e,t){if("object"!=pt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pt(t)?t:t+""}function _t(e,t,n){return t=yt(t),function(e,t){if(t&&("object"==pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],yt(e).constructor):t.apply(e,n))}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var gt="chi-mobile-nav__list-item-list",wt="chi-mobile-nav__list",Et=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_t(this,t,[e]))._drawersContainer=document.querySelector(".chi-mobile-nav__drawers"),n._firstLevelDrawer=null,n._drawers=[],n._dropdowns=[],n._accordions=[],n._menuItemAnimation=null,n._initFirstLevelDrawer(),n._addEventHandler(n._drawersContainer,"click",(function(e){e.stopPropagation(),n._handleClickOnSecondLevelDrawer(e)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(t,e),function(e,t,n){return t&&mt(e.prototype,t),n&&mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_initFirstLevelDrawer",value:function(){var e=this;this._mobileNavElement=this._locateMobileNav();var t=this._mobileNavElement.querySelector(".".concat("chi-mobile-nav__first-level")),n=this._mobileNavElement.querySelectorAll(".".concat("chi-drawer",".").concat("chi-mobile-nav__first-level"," .").concat("chi-mobile-nav__first-level-content"," .").concat("chi-drawer__content"," .").concat("chi-tabs"," li a")),o=this._mobileNavElement.querySelectorAll(".".concat("chi-drawer",".").concat("chi-mobile-nav__first-level"," .").concat("chi-dropdown__trigger")),i=this;if(t){var a=t.querySelector(".".concat(r.classes.CLOSE));this._firstLevelDrawer=se.factory(this._elem,{animated:!0,target:t}),this._addEventHandler(a,"click",(function(){i._hideMobileNav()}))}Array.prototype.forEach.call(n,(function(t){var n=t.getAttribute("href"),o="#"===n[0]?document.querySelector(".chi-drawer".concat(n)):null;if(o){var a=o.querySelector(".".concat("chi-drawer__header"," button.").concat(r.classes.BACK)),c=i._mobileNavElement.querySelector(".".concat("chi-mobile-nav__first-level-content"));e._addEventHandler(t,"click",(function(e){e.preventDefault(),s.addClass(o,r.classes.ACTIVE),s.addClass(c,"-second-level-shown")})),e._addEventHandler(a,"click",(function(e){e.stopPropagation(),s.removeClass(o,r.classes.ACTIVE),i.resetActiveDrawerMenuItem(),s.removeClass(c,"-second-level-shown")})),s.addClass(t,"chi-drawer__subitem-list-trigger"),e._drawers.push(o)}else e._addEventHandler(t,"click",(function(){return i._activateFirstLevelMenuItem(t)}))})),Array.prototype.forEach.call(o,(function(t){var n=t.getAttribute("data-target"),r=je.factory(t,{dropdownElem:document.querySelector("#".concat(n))});e._dropdowns.push(r)})),this._initSecondLevelDrawers(),this._addEventHandler(this._firstLevelDrawer._drawerElem,"chi.drawer.hide",(function(){var e=i._mobileNavElement.querySelector(".".concat("chi-mobile-nav__first-level-content")),t=i._mobileNavElement.querySelector(".".concat("chi-mobile-nav__drawers"," .").concat("chi-drawer",".").concat(r.classes.ACTIVE));t&&setTimeout((function(){s.removeClass(t,r.classes.ACTIVE),s.removeClass(e,"-second-level-shown")}),500),i.resetActiveDrawerMenuItem()}))}},{key:"_initSecondLevelDrawers",value:function(){var e=this;Array.prototype.forEach.call(this._drawers,(function(t){var n=t.querySelectorAll(".".concat("chi-drawer__content"," .").concat(wt," > li > a")),r=t.querySelector(".".concat("chi-drawer__content"," .").concat("chi-accordion"));if(r){var o=C.factory(r,{expansionMode:"single"});e._accordions.push(o),e._initAccordionActivators(o)}Array.prototype.forEach.call(n,(function(e){e.parentNode.querySelector(".".concat(gt))&&s.addClass(e,"chi-drawer__subitem-list-trigger")}))}))}},{key:"_initAccordionActivators",value:function(e){var t=this,n=e._elem;if(n){var r=n.querySelectorAll("a");Array.prototype.forEach.call(r,(function(n){n.addEventListener("click",(function(){t._activateAccordionAnchor(n,e)}))}))}}},{key:"_getActiveFirstLevelItem",value:function(){return this._mobileNavElement.querySelector(".".concat("chi-mobile-nav__first-level"," .").concat("chi-drawer__content"," .").concat("chi-tabs"," li.").concat(r.classes.ACTIVE))}},{key:"_getActiveSecondLevelItem",value:function(){return this._mobileNavElement.querySelector(".".concat("chi-mobile-nav__drawers"," .").concat("chi-drawer"," .").concat("chi-drawer__content"," .").concat(wt," li.").concat(r.classes.ACTIVE))}},{key:"_getActiveSecondLevelItemSubtab",value:function(){return this._mobileNavElement.querySelector(".".concat("chi-mobile-nav__drawers"," .").concat("chi-drawer"," .").concat("chi-drawer__content"," .").concat(wt," li.").concat(r.classes.ACTIVE," .").concat(gt," li a.").concat(r.classes.ACTIVE))}},{key:"_getExpandedSecondLevelItem",value:function(){return this._mobileNavElement.querySelector(".".concat("chi-mobile-nav__drawers"," .").concat("chi-drawer"," .").concat("chi-drawer__content"," .").concat(wt," li.").concat(r.classes.EXPANDED))}},{key:"_activateFirstLevelMenuItem",value:function(e){var t=this._getActiveFirstLevelItem(),n=e.parentNode,o="#"===e.getAttribute("href")[0]?this._drawersContainer.querySelector(".".concat("chi-drawer").concat(e.getAttribute("href"))):null;if(e!==t&&("LI"===n.nodeName&&(t&&s.removeClass(t,r.classes.ACTIVE),s.addClass(n,r.classes.ACTIVE),this.hide()),!o)){var i=this._drawersContainer.querySelector(".".concat("chi-drawer"," .").concat("chi-drawer__content"," .").concat(wt," li.").concat(r.classes.ACTIVE)),a=this._getActiveAccordionAnchor();if(i){var c=i.querySelector(".".concat(gt)),l=i.querySelector(".".concat(gt," li a.").concat(r.classes.ACTIVE));s.removeClass(i,r.classes.ACTIVE),c&&(s.removeClass(c,r.classes.TRANSITIONING),s.removeClass(i,r.classes.EXPANDED),c.style.removeProperty("height"),l&&s.removeClass(l,r.classes.ACTIVE))}a&&this._deactivateAccordionItemAncestors(a)}}},{key:"_deactivateAccordionItemAncestors",value:function(e){for(var t=e;t&&!s.hasClass(t,"chi-mobile-nav__drawers");t=t.parentNode)s.hasClass(t,"chi-accordion__item")&&(s.removeClass(t,r.classes.ACTIVE),s.removeClass(t,r.classes.EXPANDED));s.removeClass(e,r.classes.ACTIVE)}},{key:"_closeTabsList",value:function(e){var t=e.querySelector(".".concat(gt));if(s.hasClass(e,r.classes.EXPANDED)&&s.removeClass(e,r.classes.EXPANDED),t){var n=t.querySelector("a.".concat(r.classes.ACTIVE));s.removeClass(n,r.classes.ACTIVE),t.style.removeProperty("height")}}},{key:"_activateSecondLevelMenuItem",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this._mobileNavElement.querySelector(".".concat("chi-mobile-nav__first-level"," .").concat("chi-drawer__content"," ul.").concat("chi-tabs"," > li.").concat(r.classes.ACTIVE)),a=function(){var e=t._getActiveSecondLevelItem();e&&(t._closeTabsList(e),s.removeClass(e,r.classes.ACTIVE))};if(i&&o!==i.getAttribute("href")){var c=this._mobileNavElement.querySelector(".".concat("chi-mobile-nav__first-level"," .").concat("chi-drawer__content"," ul.").concat("chi-tabs"," > li a[href='#").concat(o,"']"));s.removeClass(i,r.classes.ACTIVE),s.addClass(c.parentNode,r.classes.ACTIVE)}if(s.hasClass(e,"chi-mobile-nav-item-tab")){var l=this._getActiveSecondLevelItemSubtab(),u=this._getActiveSecondLevelItem();this.drawerMenuItemRemoveUnselected(),u&&!u.contains(e)&&s.removeClass(this._getActiveSecondLevelItem(),r.classes.ACTIVE),s.addClass(e,r.classes.ACTIVE),s.addClass(n,r.classes.ACTIVE),l&&l!==e&&s.checkRemoveClass(l,r.classes.ACTIVE)}else{var d=e.parentNode;a(),s.addClass(d,r.classes.ACTIVE)}}},{key:"_getActiveAccordionItems",value:function(){return this._drawersContainer.querySelectorAll(".".concat("chi-drawer"," .").concat("chi-accordion"," .").concat("chi-accordion__item",".").concat(r.classes.ACTIVE))||null}},{key:"_getActiveAccordionAnchor",value:function(){return this._drawersContainer.querySelector(".".concat("chi-drawer"," .").concat("chi-accordion"," a.").concat(r.classes.ACTIVE))||null}},{key:"_getAssociatedMenuItem",value:function(e){return this._firstLevelDrawer._drawerElem.querySelector('ul > li a[href="#'+e+'"')}},{key:"_deactivatePreviousAccordionAnchor",value:function(e,t){var n=[];if(e){var o=this._getActiveAccordionItems();s.addClass(e,r.classes.ACTIVE),this._hideMobileNav();for(var i=e;i&&!s.hasClass(i,"chi-mobile-nav__drawers");i=i.parentNode)if(s.hasClass(i,"chi-accordion__item")){var a=i.parentNode.querySelector(".".concat("chi-accordion__item",".").concat(r.classes.ACTIVE));n.push(i),a&&Array.prototype.forEach.call(a,(function(e){s.removeClass(e,r.classes.ACTIVE)})),s.addClass(i,r.classes.ACTIVE)}else if(s.hasClass(i,"chi-drawer")){var c=this._getAssociatedMenuItem(i.getAttribute("id"));this._activateFirstLevelMenuItem(c)}o&&Array.prototype.forEach.call(o,(function(e){n.includes(e)||(s.removeClass(e,r.classes.ACTIVE),t.hide(e))})),Array.prototype.forEach.call(this._accordions,(function(e){e!==t&&e.collapseAll()}))}}},{key:"_activateAccordionAnchor",value:function(e,t){var n=this._getActiveAccordionAnchor();n&&s.removeClass(n,r.classes.ACTIVE),this._deactivatePreviousAccordionAnchor(e,t)}},{key:"_handleClickOnSecondLevelDrawer",value:function(e){var t,n,o;(s.checkHasClass(e.target,r.classes.CLOSE)||s.checkHasClass(e.target.parentNode,r.classes.CLOSE)||s.checkHasClass(e.target.parentNode.parentNode,r.classes.CLOSE))&&this._hideMobileNav();for(var i=e.target;i&&i!==this._drawersContainer;i=i.parentNode)s.checkHasClass(i,"chi-drawer")?t=i:"A"!==i.nodeName&&"BUTTON"!==i.nodeName||s.checkHasClass(i,r.classes.CLOSE)?"LI"===i.nodeName&&(o=i):n=i;if(o){var a=o.querySelector(".".concat(gt));n&&(a?((s.checkHasClass(n,"chi-mobile-nav__list-title")||n.parentNode.querySelector(".".concat(gt)))&&e.preventDefault(),s.checkHasClass(n,"chi-mobile-nav-item-tab")?(this._activateSecondLevelMenuItem(n,o,t.getAttribute("id")),this.hide()):(e.preventDefault(),this._toggleDrawerItemList(o))):(this._activateSecondLevelMenuItem(n,o,t.getAttribute("id")),this.hide()))}}},{key:"hide",value:function(){var e=this._firstLevelDrawer,t=this._drawers.filter((function(e){return s.hasClass(e,r.classes.ACTIVE)}))[0];if(e&&e.hide(),t){var n=this._mobileNavElement.querySelector(".".concat("chi-mobile-nav__first-level-content"));setTimeout((function(){s.removeClass(t,r.classes.ACTIVE),s.removeClass(n,"-second-level-shown")}),500)}}},{key:"drawerMenuItemRemoveUnselected",value:function(){var e=this._getActiveSecondLevelItem();e&&s.checkHasClass(e,r.classes.UNSELECTED)&&s.checkRemoveClass(e,r.classes.UNSELECTED)}},{key:"_toggleDrawerItemList",value:function(e){var t,n=this._mobileNavElement.querySelector(".".concat("chi-mobile-nav__drawers"," .").concat("chi-drawer"," .").concat("chi-drawer__content"," .").concat(wt," li.").concat(r.classes.ACTIVE)),o=e.querySelector(".".concat(gt)),i=e.parentNode.querySelector(".".concat("-expanded"));function a(){o.style.position="absolute",o.style.visibility="hidden",o.style.display="block",t=window.getComputedStyle(o).height,o.style.removeProperty("display"),o.style.removeProperty("visibility"),o.style.removeProperty("position")}this._menuItemAnimation&&s.stopThreeStepsAnimation(this._menuItemAnimation,!1),i&&i!==e&&(s.removeClass(i,"-expanded"),i.querySelector(".".concat(gt)).style.removeProperty("height")),e===n||s.hasClass(e,r.classes.EXPANDED)?this.drawerMenuItemRemoveUnselected():s.checkAddClass(n,r.classes.UNSELECTED),s.checkHasClass(e,"-expanded")?this._menuItemAnimation=s.threeStepsAnimation((function(){a(),s.checkAddClass(o,r.classes.TRANSITIONING),o.style.height=t}),(function(){o.style.height="0",s.checkRemoveClass(e,"-expanded")}),(function(){s.checkRemoveClass(o,r.classes.TRANSITIONING),o.style.removeProperty("height")}),75):this._menuItemAnimation=s.threeStepsAnimation((function(){a(),s.checkAddClass(o,r.classes.TRANSITIONING),o.style.height="0"}),(function(){o.style.height=t,s.checkAddClass(e,"-expanded")}),(function(){s.checkRemoveClass(o,r.classes.TRANSITIONING)}),75)}},{key:"resetActiveDrawerMenuItem",value:function(){var e=this._getExpandedSecondLevelItem(),t=this._getActiveSecondLevelItemSubtab();if(this.drawerMenuItemRemoveUnselected(),e){var n=e.querySelector(".".concat(gt));n&&!n.querySelector("ul li a.".concat(r.classes.ACTIVE))&&(e.querySelector(".".concat(gt)).style.removeProperty("height"),s.checkRemoveClass(e,r.classes.EXPANDED))}if(t){for(var o,i=t;i&&!s.checkHasClass(i,wt);i=i.parentNode)o=i;s.checkAddClass(o,r.classes.ACTIVE),s.checkAddClass(o,r.classes.EXPANDED)}}},{key:"_locateMobileNav",value:function(){var e=s.getTarget(this._elem);if(!e)throw new Error("Could not find Mobile Navigation content for trigger. ");return e}},{key:"dispose",value:function(){this._firstLevelDrawer.dispose(),this._config=null,this._elem=null,this._drawersContainer=null,this._mobileNavElement=null,this._firstLevelDrawer=null,this._drawers.length=0,this._dropdowns.forEach((function(e){return e.dispose()})),this._dropdowns.length=0,this._removeEventHandlers()}},{key:"_hideMobileNav",value:function(){this._firstLevelDrawer.hide()}}],[{key:"componentType",get:function(){return"mobilenav"}}])}(h),Ct=h.factory.bind(Et);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kt(r.key),r)}}function kt(e){var t=function(e,t){if("object"!=St(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==St(t)?t:t+""}function Tt(e,t,n){return t=Ot(t),function(e,t){if(t&&("object"==St(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ot(e).constructor):t.apply(e,n))}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){return(Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var It="chi.modal.show",Dt="chi.modal.hide",Lt="chiModalShow",Pt="chiModalHide",Mt="chiModalShown",xt="chiModalHidden",jt={target:null,animated:!0},Bt=function(e){function t(e,n){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Tt(this,t,[e,s.extend(jt,n)]))._shown=s.hasClass(e,r.classes.ACTIVE),o._transitioning=!1,o._config.target?o._config.target instanceof Element?o._modalElem=o._config.target:o._modalElem=document.querySelector(o._config.target):o._modalElem=o._locateModal(),o._closeButtons=o._locateCloseButtons(),o._backdrop=o._locateBackdrop(),o._currentThreeStepsAnimation=null;var i=o;return o._config.animated&&(s.addClass(o._modalElem,r.classes.ANIMATED),o._backdrop&&s.addClass(o._backdrop,r.classes.ANIMATED)),o._triggerClickEventListener=function(e){e.preventDefault(),i.toggle()},o._closeClickEventListener=function(){i.hide()},o._closeEscapeEventListener=function(e){var t=!1;"key"in(e=e||window.event)&&(t="Escape"===e.key||"Esc"===e.key||27===e.key),t&&i.hide()},o._initDefaultEventListeners(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nt(e,t)}(t,e),n=t,i=[{key:"componentType",get:function(){return"modal"}},{key:"componentSelector",get:function(){return".chi-modal__trigger"}}],(o=[{key:"_initDefaultEventListeners",value:function(){var e=this;Array.prototype.forEach.call(this._closeButtons,(function(t){t.addEventListener("click",e._closeClickEventListener)})),this._addEventHandler(this._elem,"click",this._triggerClickEventListener),this._addEventHandler(document.body,"keyup",this._closeEscapeEventListener)}},{key:"_locateModal",value:function(){var e=s.getTarget(this._elem);if(!e)throw new Error("Could not find modal content for modal trigger. ");return e}},{key:"_locateCloseButtons",value:function(){var e=this._modalElem.querySelectorAll('[data-dismiss="modal"]');return e||null}},{key:"_locateBackdrop",value:function(){var e=this._modalElem.parentNode.parentNode;return s.hasClass(e,"chi-backdrop")?e:null}},{key:"show",value:function(){if(!this._shown){s.addClass(document.body,"-disable-scroll"),this._transitioning&&s.stopThreeStepsAnimation(this._currentThreeStepsAnimation,!1),this._transitioning=!0;var e=this;this._config.animated?this._currentThreeStepsAnimation=s.threeStepsAnimation((function(){s.addClass(e._modalElem,r.classes.TRANSITIONING),e._backdrop&&s.addClass(e._backdrop,r.classes.TRANSITIONING)}),(function(){s.addClass(e._modalElem,r.classes.ACTIVE),s.addClass(e._elem,r.classes.ACTIVE),e._backdrop&&s.removeClass(e._backdrop,r.classes.CLOSED),e._shown=!0,e._modalElem.dispatchEvent(s.createEvent(Lt)),e._modalElem.dispatchEvent(s.createEvent(It))}),(function(){s.removeClass(e._modalElem,r.classes.TRANSITIONING),e._backdrop&&s.removeClass(e._backdrop,r.classes.TRANSITIONING),e._transitioning=!1,e._modalElem.dispatchEvent(s.createEvent(Mt))}),500):(s.addClass(e._modalElem,r.classes.ACTIVE),s.addClass(e._elem,r.classes.ACTIVE),e._backdrop&&s.removeClass(e._backdrop,r.classes.CLOSED),e._transitioning=!1,e._shown=!0,e._modalElem.dispatchEvent(s.createEvent(Lt)),e._modalElem.dispatchEvent(s.createEvent(It)))}}},{key:"hide",value:function(){if(this._shown){s.removeClass(document.body,"-disable-scroll"),this._transitioning&&s.stopThreeStepsAnimation(this._currentThreeStepsAnimation,!1),this._transitioning=!0;var e=this;this._config.animated?this._currentThreeStepsAnimation=s.threeStepsAnimation((function(){s.addClass(e._modalElem,r.classes.TRANSITIONING),e._backdrop&&s.addClass(e._backdrop,r.classes.TRANSITIONING)}),(function(){s.removeClass(e._modalElem,r.classes.ACTIVE),s.removeClass(e._elem,r.classes.ACTIVE),e._backdrop&&s.addClass(e._backdrop,r.classes.CLOSED),e._shown=!1,e._modalElem.dispatchEvent(s.createEvent(Pt)),e._modalElem.dispatchEvent(s.createEvent(Dt))}),(function(){s.removeClass(e._modalElem,r.classes.TRANSITIONING),e._backdrop&&s.removeClass(e._backdrop,r.classes.TRANSITIONING),e._transitioning=!1,e._modalElem.dispatchEvent(s.createEvent(xt))}),500):(s.removeClass(e._modalElem,r.classes.ACTIVE),s.removeClass(e._elem,r.classes.ACTIVE),e._backdrop&&s.addClass(e._backdrop,r.classes.CLOSED),e._transitioning=!1,e._shown=!1,e._modalElem.dispatchEvent(s.createEvent(Pt)),e._modalElem.dispatchEvent(s.createEvent(Dt)))}}},{key:"toggle",value:function(){this._shown?this.hide():this.show()}},{key:"dispose",value:function(){this._removeEventHandlers(),this._config=null,this._modalElem=null,this._shown=null,this._transitioning=null,this._closeButtons=null,this._currentThreeStepsAnimation=null,this._elem=null}}])&&At(n.prototype,o),i&&At(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(h),Ht=h.factory.bind(Bt);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ft(r.key),r)}}function Ft(e){var t=function(e,t){if("object"!=Rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rt(t)?t:t+""}var qt=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventListeners={}},(t=[{key:"addEventListener",value:function(e,t){void 0===this.eventListeners[e]&&(this.eventListeners[e]=[]),this.eventListeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this.eventListeners[e]){var n=this.eventListeners[e].indexOf(t);n>-1&&this.eventListeners[e].splice(n,1)}}},{key:"dispatchEvent",value:function(e,t){if(void 0!==this.eventListeners[e]){for(var n=[],r=2;r<arguments.length;r++)n.push(arguments[r]);this.eventListeners[e].forEach((function(e){e.apply(t,n)}))}}},{key:"dispose",value:function(){this.eventListeners=null}}])&&Vt(e.prototype,t),n&&Vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gt(r.key),r)}}function Gt(e){var t=function(e,t){if("object"!=Wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wt(t)?t:t+""}var Ut="addTabToMenu",Yt="removeTabFromMenu",Xt=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=s.extend({tabComponent:null,overflowMenuLabel:"See more..."},n),this._navigationComponent=t,this._elem=t._elem,this._tabComponent=this._config.tabComponent,this._overflowTabWidth=0,this._totalTabElementsWidth=0,this._eventManager=new qt},(t=[{key:"_removeAndSaveSlidingBorders",value:function(){this.slidingBorders=[];for(var e=0;e<this._elem.childNodes.length;e++)s.hasClass(this._elem.childNodes[e],"chi-sliding-border")&&(this.slidingBorders.push(this._elem.childNodes[e]),this._elem.removeChild(this._elem.childNodes[e]))}},{key:"_restoreSlidingBorders",value:function(){this.slidingBorders.forEach(function(e){this._elem.appendChild(e)}.bind(this)),this.slidingBorders.length=0}},{key:"_encloseProtrudingTabs",value:function(){for(;this._totalTabElementsWidth+this._overflowTabWidth>this._tabsContainerWidth&&this._elem.childNodes.length>2;){var e=this._elem.childNodes[this._elem.childNodes.length-2],t=s.calculateExternalWidth(e,!0);this._totalTabElementsWidth=this._totalTabElementsWidth-t,this._moveTabToMoreContainer(e,t)}}},{key:"_releaseNonProtrudingTabs",value:function(){for(;this._overflowTabMenu&&this._overflowTabMenu.children.length&&this._totalTabElementsWidth+s.getData(this._overflowTabMenu.children[0],"navigationTabWidth")<=this._tabsContainerWidth-this._overflowTabWidth;)this._totalTabElementsWidth+=s.getData(this._overflowTabMenu.children[0],"navigationTabWidth"),this._moveTabFromMoreContainer(this._overflowTabMenu.children[0]);(this._totalTabElementsWidth+Array.prototype.reduce.call(this._overflowTabMenu.children,(function(e,t){return e+s.getData(t,"navigationTabWidth")}),0)<=this._tabsContainerWidth||0===this._overflowTabMenu.children.length)&&this.resetOverflow()}},{key:"manageOverflow",value:function(){this._tabComponent.isVertical()?this._overflowTab&&this.resetOverflow():(this._removeAndSaveSlidingBorders(),this._tabsContainerWidth=s.calculateInternalWidth(this._elem,!0),this._updateTabsWidthInfo(),this._totalTabElementsWidth>=this._tabsContainerWidth-this._overflowTabWidth?(this._overflowTab||this._createOverflowTab(),this._encloseProtrudingTabs()):this._overflowTab&&this._releaseNonProtrudingTabs(),this._restoreSlidingBorders())}},{key:"_createOverflowTab",value:function(){this._overflowTab=document.createElement("LI"),s.addClass(this._overflowTab,"chi-dropdown"),this._overflowTab.innerHTML='<a href="#" class="chi-dropdown__trigger" data-position="bottom-end"> '+this._config.overflowMenuLabel+'</a><div class="chi-dropdown__menu"></div>',this._overflowTabMenu=this._overflowTab.getElementsByClassName("chi-dropdown__menu")[0],this._overflowTabTrigger=this._overflowTab.getElementsByClassName("chi-dropdown__trigger")[0],this._overflowTabDropdown=tn.factory(this._overflowTabTrigger,{tabComponent:this._tabComponent,navigationComponent:this._navigationComponent}),this._elem.appendChild(this._overflowTab),this._overflowTabWidth=s.calculateExternalWidth(this._overflowTab,!0)}},{key:"_updateTabsWidthInfo",value:function(){this._totalTabElementsWidth=0,this._overflowTabWidth=0,Array.prototype.forEach.call(this._elem.childNodes,function(e){this._overflowTab&&e===this._overflowTab?this._overflowTab&&e===this._overflowTab&&(this._overflowTabWidth=s.calculateExternalWidth(this._overflowTab,!0)):this._totalTabElementsWidth+=s.calculateExternalWidth(e,!0)}.bind(this))}},{key:"_moveTabToMoreContainer",value:function(e,t){e.parentNode.removeChild(e);var n=document.createElement("DIV");for(n.className=e.className,s.setData(n,"navigationTab",e),s.setData(n,"navigationTabWidth",t);e.childNodes.length;){var r=e.childNodes[0];"A"===r.nodeName&&s.addClass(r,"chi-dropdown__menu-item"),s.hasClass(r,"chi-dropdown__trigger")&&tn.factory(r).disablePopper(),n.appendChild(r)}this._overflowTabMenu.prepend(n),this._eventManager.dispatchEvent(Ut,this,n,this._overflowTab)}},{key:"_moveTabFromMoreContainer",value:function(e){var t=s.getData(e,"navigationTab");for(s.removeClass(t,"-active"),s.removeClass(t,"-has-active");e.childNodes.length;){var n=e.childNodes[0];"A"===n.nodeName&&s.removeClass(n,"chi-dropdown__menu-item"),s.hasClass(n,"chi-dropdown__trigger")?(tn.factory(n).enablePopper(),s.hasClass(n,"-has-active")&&s.addClass(t,"-active")):"A"===n.nodeName&&s.hasClass(n,"-active")&&s.addClass(t,"-active"),t.appendChild(n)}e.parentNode.removeChild(e),this._elem.insertBefore(t,this._overflowTab),this._eventManager.dispatchEvent(Yt,this,t,this._overflowTab)}},{key:"addEventListener",value:function(e,t){this._eventManager.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._eventManager.removeEventListener(e,t)}},{key:"resetOverflow",value:function(){for(;this._overflowTabMenu&&this._overflowTabMenu.children.length;)this._moveTabFromMoreContainer(this._overflowTabMenu.children[0]);this._overflowTab.parentNode.removeChild(this._overflowTab),this._overflowTabDropdown.dispose(),this._overflowTabDropdown=null,this._overflowTab=null,this._overflowTabWidth=0}},{key:"hide",value:function(){this._overflowTabDropdown&&this._overflowTabDropdown.hide()}},{key:"dispose",value:function(){this._overflowTab&&this.resetOverflow(),this._eventManager.dispose()}}])&&$t(e.prototype,t),n&&$t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zt(r.key),r)}}function Zt(e){var t=function(e,t){if("object"!=zt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zt(t)?t:t+""}function Kt(e,t,n){return t=Qt(t),function(e,t){if(t&&("object"==zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Qt(e).constructor):t.apply(e,n))}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t){return(en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var tn=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Kt(this,t,[e,n.dropdown]))._navigationComponent=n.navigationComponent,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&en(e,t)}(t,e),function(e,t,n){return t&&Jt(e.prototype,t),n&&Jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_dropdownClickedEventManager",value:function(e){this._eventCaptured=!0,s.hasClass(e.target,"chi-dropdown__menu-item")&&!s.hasClass(e.target,Le)&&(this._navigationComponent.activateMenuItem(e.target),this._navigationComponent.manageClickOnCommonLinks(e))}}])}(je);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,on(r.key),r)}}function on(e){var t=function(e,t){if("object"!=nn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nn(t)?t:t+""}function an(e,t,n){return t=sn(t),function(e,t){if(t&&("object"==nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],sn(e).constructor):t.apply(e,n))}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ln=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=an(this,t,[e,n]))._navigationComponent=n.navigationComponent,r.resetSlidingBorder(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cn(e,t)}(t,e),function(e,t,n){return t&&rn(e.prototype,t),n&&rn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"resetSlidingBorder",value:function(){var e=this.getDeepestActiveMenuItem(),t=this.getActiveTab();e?this._slidingBorder.moveSlidingBorderToChild(e):t&&this._slidingBorder.moveSlidingBorderToChild(t.childNodes[0])}},{key:"clickEventHandler",value:function(e){for(var t=null,n=null,r=null,o=null,i=null,a=null,c=e.target;c&&c!==this._elem;c=c.parentNode)s.hasClass(c,Le)?(t=c,a=a||c):s.hasClass(c,"chi-dropdown__menu-item")?(n=n||c,a=a||c):"A"===c.nodeName&&"LI"===c.parentNode.nodeName?(o=c,a=a||c):"LI"===c.nodeName&&(r=c,a=a||c);!t&&r&&(this._slidingBorder.moveToLastChild(),this._slidingBorder.show(),i=o||r.childNodes[0]||r,this.getActiveTab()!==r&&this._handleActiveClassOnTabs(r,null,this.getActiveTab(),null),o&&this._navigationComponent.manageClickOnCommonLinks(e),this._slidingBorder.moveSlidingBorderToChild(i),this.manageActiveClass(a))}},{key:"manageActiveClass",value:function(e){for(var t=[],n=[e],r=function(r){if("LI"===r.nodeName&&(n.push(r),e.parentNode!==r&&t.push(r)),s.hasClass(r,"chi-dropdown__menu")){n.push(r);var o=r.parentNode.childNodes;Array.prototype.forEach.call(o,(function(e){e!==r&&s.hasClass(e,Le)&&(t.push(e),n.push(e))}))}},o=e.parentNode;o&&o!==this._elem;o=o.parentNode)r(o);Array.prototype.forEach.call(this._elem.querySelectorAll(".-active"),(function(e){n.indexOf(e)<0&&s.removeClass(e,"-active")})),n.forEach((function(e){s.addClass(e,"-active")})),Array.prototype.forEach.call(this._elem.querySelectorAll(".-has-active"),(function(e){t.indexOf(e)<0&&s.removeClass(e,"-has-active")})),t.forEach((function(e){s.addClass(e,"-has-active")}))}},{key:"getDeepestActiveMenuItem",value:function(){var e=this._elem.querySelectorAll(".chi-dropdown__menu-item.-active");return e.length?e[e.length-1]:null}}],[{key:"factory",value:function(e,n){return s.cachedComponentFactory(e,n,"tab",(function(){return new t(e,n)}))}}])}(Se);function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hn(r.key),r)}}function hn(e){var t=function(e,t){if("object"!=un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==un(t)?t:t+""}function fn(e,t,n){return t=pn(t),function(e,t){if(t&&("object"==un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],pn(e).constructor):t.apply(e,n))}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t){return(mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var vn={overflowMenu:!0,overflowMenuLabel:"See more...",waitForAnimations:!1},_n=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=fn(this,t,[e,s.extend(vn,n)]))._tabComponent=ln.factory(e,{waitForAnimations:r._config.waitForAnimations,navigationComponent:r}),r._dropdowns=[];var o=r;return Array.prototype.forEach.call(r._elem.querySelectorAll("a."+Le),(function(e){o._dropdowns.push(tn.factory(e,{tabComponent:o._tabComponent,navigationComponent:o}))})),r._config.overflowMenu&&r._initOverflowMenu(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mn(e,t)}(t,e),n=t,o=[{key:"componentType",get:function(){return"navigation"}}],(r=[{key:"_initOverflowMenu",value:function(){if(!this._overflowMenu){var e=this;this._overflowMenu=new Xt(this,{tabComponent:this._tabComponent,overflowMenuLabel:this._config.overflowMenuLabel}),window.requestAnimationFrame((function(){e._overflowMenu.manageOverflow()})),this._onWindowResize=function(){e.checkOverflowTimeout&&window.clearTimeout(e.checkOverflowTimeout),e.checkOverflowTimeout=window.setTimeout((function(){window.requestAnimationFrame((function(){e._overflowMenu.manageOverflow()}))}),200)},window.addEventListener("resize",this._onWindowResize),this._onOverflowMenuAddElement=function(t,n){s.hasClass(t,"-active")&&e._tabComponent.showTab(n)},this._onOverflowMenuRemoveElement=function(t){s.hasClass(t,"-active")&&(s.removeClass(t,"-active"),e._tabComponent.showTab(t))},this._overflowMenu.addEventListener(Ut,this._onOverflowMenuAddElement),this._overflowMenu.addEventListener(Yt,this._onOverflowMenuRemoveElement),this._clickOnComponentHandler=function(){this._clickedOnComponent=!0}.bind(this),this._clickOnDocumentHandler=function(){this._clickedOnComponent&&(this._clickedOnComponent=!1)}.bind(this),this._elem.addEventListener("click",this._clickOnComponentHandler),document.addEventListener("click",this._clickOnDocumentHandler)}}},{key:"activateMenuItem",value:function(e){this.deactivateAllMenuItems(e),s.addClass(e,"-active")}},{key:"deactivateAllMenuItems",value:function(e){Array.prototype.forEach.call(this._tabComponent._elem.querySelectorAll(".chi-dropdown__menu-item.-active"),(function(t){(void 0===e||t!==e&&!s.hasClass(t,Le))&&s.removeClass(t,"-active")}))}},{key:"_checkIfCommonLink",value:function(e){return"A"===e.nodeName&&e.getAttribute("href")&&(!s.getTarget(e)||!s.hasClass(s.getTarget(e),"chi-tabs-panel"))}},{key:"manageClickOnCommonLinks",value:function(e){if(this._checkIfCommonLink(e.target)){var t=this;if(this._config.waitForAnimations){e.preventDefault();var n=e.target.getAttribute("href");window.setTimeout((function(){window.location.href=n}),500)}window.requestAnimationFrame((function(){t._dropdowns.forEach((function(e){e.hide()})),t._overflowMenu.hide()}))}}},{key:"dispose",value:function(){this._tabComponent.dispose(),this._dropdowns.forEach((function(e){e.dispose()})),this._overflowMenu&&this._overflowMenu.dispose(),window.removeEventListener("resize",this._onWindowResize),this._elem.removeEventListener("click",this._clickOnComponentHandler),document.removeEventListener("click",this._clickOnDocumentHandler),this._tabComponent=null,this._dropdowns=null,this._config=null,this._elem=null,this._initialState=null}}])&&dn(n.prototype,r),o&&dn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(h),yn=h.factory.bind(_n);function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wn(r.key),r)}}function wn(e){var t=function(e,t){if("object"!=bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bn(t)?t:t+""}function En(e,t,n){return t=Cn(t),function(e,t){if(t&&("object"==bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Cn(e).constructor):t.apply(e,n))}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t){return(Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var An={autofix:!0},kn=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=En(this,t,[e,s.extend(An,n)]))._elemWrapper=r._elem.parentElement,r._initialValue=s.isNumeric(r._elem.value)?Number(r._elem.value):0,r._stepped={};var o=r._elemWrapper.getElementsByTagName("button");if(2!==o.length)throw new Error("Could not found buttons for the number input component. ");r._incrementButton=o[1],r._decrementButton=o[0];var i=r;return r._increment=function(){i._stepUp(),i.checkMinMax()},r._decrement=function(){i._stepDown(),i.checkMinMax()},r._check=function(e){i.checkMinMax(),e&&"change"===e.type&&i._config.autofix&&i.autofix()},r._incrementButton.addEventListener("click",r._increment),r._decrementButton.addEventListener("click",r._decrement),r._elem.addEventListener("keyup",r._check),r._elem.addEventListener("change",r._check),r._check(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sn(e,t)}(t,e),n=t,o=[{key:"componentType",get:function(){return"numberInput"}},{key:"componentSelector",get:function(){return'.chi-number-input > input.chi-input[type="number"], .chi-number-input.-expanded > input.chi-input[type="number"]'}}],(r=[{key:"dispose",value:function(){this._config=null,this._elemWrapper=null,this._incrementButton.removeEventListener("click",this._increment),this._decrementButton.removeEventListener("click",this._decrement),this._elem.removeEventListener("keyup",this._check),this._elem.removeEventListener("change",this._check),this._incrementButton=null,this._decrementButton=null,this._increment=null,this._decrement=null,this._stepped=null,this._elem=null}},{key:"_updateSteppedValues",value:function(){this.step=s.isNumeric(this._elem.step)?Number(this._elem.step):1,this._stepped.current=this._value2step(this._elem.value),this._stepped.max=s.isNumeric(this._elem.max)?this._value2step(Number(this._elem.max),Math.floor):Number.POSITIVE_INFINITY,this._stepped.min=s.isNumeric(this._elem.min)?this._value2step(Number(this._elem.min),Math.ceil):Number.NEGATIVE_INFINITY}},{key:"_value2step",value:function(e,t){return"function"!=typeof t&&(t=function(e){return e}),Math.round(1e4*t((e-this._initialValue)/this.step))/1e4}},{key:"_step2value",value:function(e){return Math.round(1e4*(e*this.step+this._initialValue))/1e4}},{key:"checkMinMax",value:function(){this._updateSteppedValues(),this._stepped.current<=this._stepped.min?this._decrementButton.setAttribute("disabled",!0):this._decrementButton.removeAttribute("disabled"),this._stepped.current>=this._stepped.max?this._incrementButton.setAttribute("disabled",!0):this._incrementButton.removeAttribute("disabled")}},{key:"autofix",value:function(){this._updateSteppedValues();var e=this._stepped.current;s.isInteger(this._stepped.current)||(this._stepped.current=Math.round(this._stepped.current)),this._stepped.current=Math.min(this._stepped.current,this._stepped.max),this._stepped.current=Math.max(this._stepped.current,this._stepped.min),this._stepped.current===e&&this._elem.value===this._step2value(this._stepped.current).toString()||(this._elem.value=this._step2value(this._stepped.current),this._elem.dispatchEvent(s.createEvent("change")))}},{key:"_stepUp",value:function(){this._updateSteppedValues(),this._stepped.current>=this._stepped.max||(s.isInteger(this._stepped.current)?this._stepped.current++:this._stepped.current=Math.ceil(this._stepped.current),this._elem.value=this._step2value(this._stepped.current),this._elem.dispatchEvent(s.createEvent("change")))}},{key:"_stepDown",value:function(){this._updateSteppedValues(),this._stepped.current<=this._stepped.min||(s.isInteger(this._stepped.current)?this._stepped.current--:this._stepped.current=Math.floor(this._stepped.current),this._elem.value=this._step2value(this._stepped.current),this._elem.dispatchEvent(s.createEvent("change")))}}])&&gn(n.prototype,r),o&&gn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(h),Tn=h.factory.bind(kn);function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,In(r.key),r)}}function In(e){var t=function(e,t){if("object"!=On(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=On(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==On(t)?t:t+""}function Dn(e,t,n){return t=Ln(t),function(e,t){if(t&&("object"==On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ln(e).constructor):t.apply(e,n))}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e,t){return(Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Mn={},xn=function(e){function t(e,n){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Dn(this,t,[e,s.extend(Mn,n)]))._thumbElem=null,r._progressElem=null,r._minValue=0,r._maxValue=100,r._currentValue=50,r._config.thumb)r._thumbElem=thumb,s.addClass(r._elem,"chi-range-slider__thumb-overwritten");else{var o=r._elem.parentElement.getElementsByClassName("chi-input__thumb");o.length&&(r._thumbElem=o[0],s.addClass(r._elem,"chi-range-slider__thumb-overwritten"))}if(r._config.progress)r._progressElem=r._config.progress;else{var i=r._elem.parentElement.getElementsByClassName("chi-input__progress");i.length&&(r._progressElem=i[0])}return r._minValue=r._elem.getAttribute("min")||r._minValue,r._maxValue=r._elem.getAttribute("max")||r._maxValue,r._updateValues=function(){this._elem.value!==this._currentValue&&(this._currentValue=parseInt(this._elem.value),this.updateView())}.bind(r),r._elem.addEventListener("change",r._updateValues),r._elem.addEventListener("input",r._updateValues),r._updateValues(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pn(e,t)}(t,e),n=t,o=[{key:"componentType",get:function(){return"rangeSlider"}},{key:"componentSelector",get:function(){return'.chi-input__wrapper > input[type="range"]'}}],(r=[{key:"updateView",value:function(){var e=(this._currentValue-this._minValue)/(this._maxValue-this._minValue);this._progressElem&&(this._progressElem.style.width="calc("+100*e+"% - "+1.25*(e-.5)+"rem)"),this._thumbElem&&(this._thumbElem.style.left="calc("+100*e+"% - "+1.25*(e-.5)+"rem)")}},{key:"dispose",value:function(){this._config=null,this._thumbElem&&this._thumbElem.removeEventListener("click",this._updateValues),this._progressElem&&this._progressElem.removeEventListener("click",this._updateValues),this._updateValues=null,this._thumbElem=null,this._progressElem=null,s.removeClass(this._elem,"chi-range-slider__thumb-overwritten"),this._elem=null}}])&&Nn(n.prototype,r),o&&Nn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(h),jn=h.factory.bind(xn);function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rn(r.key),r)}}function Rn(e){var t=function(e,t){if("object"!=Bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bn(t)?t:t+""}function Vn(e,t,n){return t=Fn(t),function(e,t){if(t&&("object"==Bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Fn(e).constructor):t.apply(e,n))}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e,t){return(qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Wn={animated:!0,autoClose:!1,openOnHover:!1},$n=function(e){function t(e,n){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=o=Vn(this,t,[e,s.extend(Wn,n)]);return o._drawersContainer=o._elem.querySelector(".chi-sidenav__drawers"),o._drawers=[],o._accordions=[],o._clickOnComponent=!1,o._autocloseTimeoutId=null,o._menuItemAnimation=null,o._navItemAnimationTimeout=null,o._preventCloseOnClick=function(e){e.stopPropagation()},o._addEventHandler(o._drawersContainer,"click",(function(e){i._handlerClickOnDrawer(e)})),o._addEventHandler(o._drawersContainer,ne,(function(e){i._handlerDrawerShown(e)})),o._addEventHandler(o._drawersContainer,re,(function(e){i._handlerDrawerHide(e)})),o._config.animated&&s.checkAddClass(o._elem,r.classes.ANIMATED),o._singleLevelMenuItems(),o._syncDrawers(),o._configureAutoClose(),o._initDrawersOnHover(),o._initSubtabTriggers(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qn(e,t)}(t,e),function(e,t,n){return t&&Hn(e.prototype,t),n&&Hn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_syncDrawers",value:function(){var e=this._drawers.slice(0),t=this;Array.prototype.forEach.call(this._elem.querySelectorAll(".chi-sidenav__list>li>a"),(function(n){var r=s.getTarget(n);if(s.checkHasClass(r,"chi-drawer")){var o=se.factory(n,{persistOnClick:!0}),i=r.querySelector(".".concat("chi-accordion")),a=e.indexOf(o);if(i){var c=C.factory(i,{expansionMode:"single"});t._accordions.push(c),t._initAccordionActivators(c)}-1===a?t._drawers.push(o):e.splice(a,1)}})),e.forEach((function(e){e.dispose()}))}},{key:"_activateAccordionAnchor",value:function(e,t){var n=this._getActiveAccordionAnchor(),o=[];if(n&&s.removeClass(n,r.classes.ACTIVE),e){var i=this._getActiveAccordionItems();s.addClass(e,r.classes.ACTIVE),this.hideAll();for(var a=e;a&&!s.hasClass(a,"chi-sidenav__drawers");a=a.parentNode)if(s.hasClass(a,"chi-accordion__item")){var c=a.parentNode.querySelector(".".concat("chi-accordion__item",".").concat(r.classes.ACTIVE));o.push(a),c&&Array.prototype.forEach.call(c,(function(e){s.removeClass(e,r.classes.ACTIVE)})),s.addClass(a,r.classes.ACTIVE)}else if(s.hasClass(a,"chi-drawer")){var l=this.getAssociatedMenuItem(a.getAttribute("id"));this.activateMenuItem(l.parentNode)}i&&Array.prototype.forEach.call(i,(function(e){o.includes(e)||(s.removeClass(e,r.classes.ACTIVE),t.hide(e))})),Array.prototype.forEach.call(this._accordions,(function(e){e!==t&&e.collapseAll()}))}}},{key:"_getActiveAccordionAnchor",value:function(){return this._elem.querySelector(".".concat("chi-sidenav__drawers"," .").concat("chi-drawer"," .").concat("chi-accordion"," a.").concat(r.classes.ACTIVE))||null}},{key:"_getActiveAccordionItems",value:function(){return this._elem.querySelectorAll(".".concat("chi-sidenav__drawers"," .").concat("chi-drawer"," .").concat("chi-accordion"," .").concat("chi-accordion__item",".").concat(r.classes.ACTIVE))||null}},{key:"_initAccordionActivators",value:function(e){var t=this,n=e._elem;if(n){var r=n.querySelectorAll("a");Array.prototype.forEach.call(r,(function(n){n.addEventListener("click",(function(){t._activateAccordionAnchor(n,e)}))}))}}},{key:"_resetDrawerAnimation",value:function(){this._config.animated&&this._drawers.forEach((function(e){e._drawerElem.classList.add(r.classes.ANIMATED)}))}},{key:"_initDrawersOnHover",value:function(){var e=this,t=this._elem.querySelector(".".concat("chi-sidenav__content"));if(this._config.openOnHover){var n=function(t){t.show(),e._elem.addEventListener("click",e._preventCloseOnClick),function(t){e._drawers.forEach((function(e){e!==t&&e._drawerElem.classList.remove(r.classes.ANIMATED)}))}(t)};this._drawers.forEach((function(t){e._addEventHandler(t._elem,"mouseenter",(function(){e._navItemAnimationTimeout=setTimeout((function(){var o=e.getSelectedMenuItem();window.sidenavNavItemOpen=!0,o&&s.removeClass(o,r.classes.ACTIVE),n(t)}),window.sidenavNavItemOpen?0:300)}))})),this._addEventHandler(t,"mouseover",(function(){t.querySelector(":hover")||e.hideAll()}))}}},{key:"_initSubtabTriggers",value:function(){var e=this._elem.querySelectorAll(".".concat("chi-drawer"," .").concat("chi-drawer__content"," ul.").concat("chi-sidenav__drawer-list"," li"));Array.prototype.forEach.call(e,(function(e){e.querySelector(".".concat("chi-sidenav__drawer-item-list"))&&s.addClass(e.querySelector("a"),"chi-drawer__subitem-list-trigger")}))}},{key:"_singleLevelMenuItems",value:function(){var e=this;Array.prototype.forEach.call(this._elem.querySelectorAll("nav > ul.".concat("chi-sidenav__list"," > li")),(function(t){var n,o=t.querySelector("a").getAttribute("href");("#"===o[0]?e._elem.querySelector(".chi-drawer".concat(o)):null)||(e._config.openOnHover&&e._addEventHandler(t,"mouseenter",(function(n){var o=e.getActiveMenuItem(),i=t.querySelector("a");e.hideAll(),i&&s.addClass(i,r.classes.ACTIVE),o&&o!==n.target&&s.addClass(o.querySelector("a"),r.classes.UNSELECTED)})),e._addEventHandler(t,"click",(function(t){for(var o=e.getActiveMenuItem(),i=t.target;i&&!s.hasClass(i,"chi-sidenav__list");i=i.parentNode)n=i;o&&(s.removeClass(o,r.classes.ACTIVE),Array.prototype.forEach.call(e._elem.querySelectorAll(".chi-drawer .".concat("chi-drawer__content"," .").concat("chi-sidenav__drawer-list"," li.").concat(r.classes.ACTIVE,",\n                  .chi-drawer .").concat("chi-drawer__content"," .").concat("chi-sidenav__drawer-list"," li a.").concat("chi-sidenav__drawer-item-tab",".").concat(r.classes.ACTIVE)),(function(e){s.removeClass(e,r.classes.ACTIVE),s.hasClass(e,r.classes.EXPANDED)&&s.removeClass(e,r.classes.EXPANDED)})),e.hideAll()),s.addClass(n,r.classes.ACTIVE)})))}))}},{key:"getActiveMenuItem",value:function(){return this._elem.querySelector("ul.chi-sidenav__list>li."+r.classes.ACTIVE)}},{key:"getAssociatedMenuItem",value:function(e){return this._elem.querySelector('ul.chi-sidenav__list>li a[href="#'+e+'"')}},{key:"getSelectedMenuItem",value:function(){return this._elem.querySelector("ul.chi-sidenav__list>li a."+r.classes.ACTIVE)}},{key:"getActiveDrawerItemSubtab",value:function(){return this._elem.querySelector(".chi-drawer .".concat("chi-sidenav__drawer-item-list"," ul li a.").concat(r.classes.ACTIVE))}},{key:"getDrawerActiveMenuItem",value:function(){return this._elem.querySelector("ul.chi-sidenav__drawer-list>li."+r.classes.ACTIVE)}},{key:"getDrawerExpandedMenuItem",value:function(){return this._elem.querySelector("ul.chi-sidenav__drawer-list>li."+r.classes.EXPANDED)}},{key:"getAssociatedDrawer",value:function(e){var t=s.getTarget(e);if(s.checkHasClass(t,"chi-drawer")){var n=this._createDrawer(e);return-1===this._drawers.indexOf(n)&&this._drawers.push(n),n}return null}},{key:"close",value:function(e){var t=this.getAssociatedDrawer(e);t&&(window.sidenavNavItemOpen=!1,t.hide())}},{key:"_createDrawer",value:function(e){return se.factory(e,{animated:this._config.animated})}},{key:"activateMenuItem",value:function(e){var t=this.getActiveMenuItem(),n=e.parentNode.querySelector("li a.".concat(r.classes.UNSELECTED));e!==t&&(s.checkAddClass(e,r.classes.ACTIVE),s.checkRemoveClass(n,r.classes.UNSELECTED),s.checkRemoveClass(t,r.classes.ACTIVE))}},{key:"activateDrawerMenuItem",value:function(e){var t=this.getDrawerActiveMenuItem();if(e!==t&&(e.querySelector(".".concat("chi-sidenav__drawer-item-list"))||(s.checkAddClass(e,r.classes.ACTIVE),this.drawerMenuItemRemoveUnselected()),t)){var n=t.querySelector(".".concat("chi-sidenav__drawer-item-list")),o=this.getActiveDrawerItemSubtab();e.querySelector(".".concat("chi-sidenav__drawer-item-list"))||(s.checkRemoveClass(o,r.classes.ACTIVE),s.checkRemoveClass(t,r.classes.ACTIVE)),n&&(s.checkRemoveClass(t,r.classes.EXPANDED),s.checkRemoveClass(n,r.classes.TRANSITIONING),n.style.removeProperty("height"))}}},{key:"menuItemRemoveUnselected",value:function(){var e=this.getActiveMenuItem();if(e){var t=e.querySelector("a.".concat(r.classes.UNSELECTED));s.checkRemoveClass(t,r.classes.UNSELECTED)}}},{key:"drawerMenuItemRemoveUnselected",value:function(){var e=this.getDrawerActiveMenuItem();e&&s.checkHasClass(e,r.classes.UNSELECTED)&&s.checkRemoveClass(e,r.classes.UNSELECTED)}},{key:"resetActiveDrawerMenuItem",value:function(){var e=this.getDrawerExpandedMenuItem(),t=this.getActiveDrawerItemSubtab();if(this.drawerMenuItemRemoveUnselected(),e){var n=e.querySelector(".".concat("chi-sidenav__drawer-item-list"));n&&!n.querySelector("ul li a.".concat(r.classes.ACTIVE))&&(e.querySelector(".".concat("chi-sidenav__drawer-item-list")).style.removeProperty("height"),s.checkRemoveClass(e,r.classes.EXPANDED))}if(t){for(var o,i=t;i&&!s.checkHasClass(i,"chi-sidenav__drawer-list");i=i.parentNode)o=i;s.checkAddClass(o,r.classes.ACTIVE),s.checkAddClass(o,r.classes.EXPANDED)}}},{key:"toggleDrawerItemList",value:function(e){var t,n=this.getDrawerActiveMenuItem(),o=e.querySelector(".".concat("chi-sidenav__drawer-item-list")),i=e.parentNode.querySelector(".".concat(r.classes.EXPANDED));function a(){o.style.position="absolute",o.style.visibility="hidden",o.style.display="block",t=window.getComputedStyle(o).height,o.style.removeProperty("display"),o.style.removeProperty("visibility"),o.style.removeProperty("position")}this._menuItemAnimation&&s.stopThreeStepsAnimation(this._menuItemAnimation,!1),i&&i!==e&&(s.checkRemoveClass(i,r.classes.EXPANDED),i.querySelector(".".concat("chi-sidenav__drawer-item-list")).style.removeProperty("height")),e===n||s.checkHasClass(e,r.classes.EXPANDED)?this.drawerMenuItemRemoveUnselected():s.checkAddClass(n,r.classes.UNSELECTED),s.checkHasClass(e,r.classes.EXPANDED)?this._menuItemAnimation=s.threeStepsAnimation((function(){a(),s.checkAddClass(o,r.classes.TRANSITIONING),o.style.height=t}),(function(){o.style.height="0px",s.checkRemoveClass(e,r.classes.EXPANDED)}),(function(){s.checkRemoveClass(o,r.classes.TRANSITIONING),o.style.removeProperty("height")}),75):this._menuItemAnimation=s.threeStepsAnimation((function(){a(),s.checkAddClass(o,r.classes.TRANSITIONING),o.style.height="0px"}),(function(){o.style.height=t,s.checkAddClass(e,r.classes.EXPANDED)}),(function(){s.checkRemoveClass(o,r.classes.TRANSITIONING)}),75)}},{key:"hideAll",value:function(){var e=this.getSelectedMenuItem();e&&e.removeEventListener("click",this._preventCloseOnClick),window.sidenavNavItemOpen=!1,this._drawers.forEach((function(e){e.hide()})),this._resetDrawerAnimation(),this.menuItemRemoveUnselected(),this.resetActiveDrawerMenuItem(),this._config.openOnHover&&(s.checkRemoveClass(e,r.classes.ACTIVE),this._navItemAnimationTimeout&&window.clearTimeout(this._navItemAnimationTimeout))}},{key:"_isLinkAMenuItemActivator",value:function(e){return!!s.getTarget(e)}},{key:"_handlerClickOnDrawer",value:function(e){var t,n,o,i,a;if(s.checkHasClass(e.target,r.classes.CLOSE)||s.checkHasClass(e.target.parentNode,r.classes.CLOSE)||s.checkHasClass(e.target.parentNode.parentNode,r.classes.CLOSE)){var c=this.getSelectedMenuItem();c&&c.removeEventListener("click",this._preventCloseOnClick),this.menuItemRemoveUnselected(),this._resetDrawerAnimation()}for(var l=e.target;l&&l!==this._drawersContainer;l=l.parentNode)s.checkHasClass(l,"chi-drawer")?t=l:"A"!==l.nodeName&&"BUTTON"!==l.nodeName||s.checkHasClass(l,r.classes.CLOSE)?"LI"===l.nodeName&&(a=l):n=l;if(n&&t.id&&(o=(i=this._getMenuItemLink(t)).parentNode,a)){var u=a.querySelector(".".concat("chi-sidenav__drawer-item-list"));if((null===a.querySelector(".".concat("chi-sidenav__drawer-item-list"))||s.checkHasClass(n,"chi-sidenav__drawer-item-tab"))&&this.close(i),u)if((s.checkHasClass(n,"chi-sidenav__title")||n.parentNode.querySelector(".".concat("chi-sidenav__drawer-item-list")))&&e.preventDefault(),s.checkHasClass(n,"chi-sidenav__drawer-item-tab")){var d=this.getActiveDrawerItemSubtab();this.drawerMenuItemRemoveUnselected(),s.checkRemoveClass(this.getDrawerActiveMenuItem(),r.classes.ACTIVE),s.checkAddClass(n,r.classes.ACTIVE),d&&d!==n&&s.checkRemoveClass(d,r.classes.ACTIVE)}else this.toggleDrawerItemList(a);a.querySelector(".".concat("chi-sidenav__drawer-item-list"))&&!s.checkHasClass(n,"chi-sidenav__drawer-item-tab")||this.activateMenuItem(o),this.activateDrawerMenuItem(a)}}},{key:"_handlerDrawerShown",value:function(e){var t=this._getMenuItemLink(e.target);if(t){var n=this._createDrawer(t);t.addEventListener("click",this._preventCloseOnClick),this._drawers.forEach((function(e){e!==n&&e.hide()}));var o=t.parentNode.parentNode.querySelector("li.".concat(r.classes.ACTIVE," a"));o&&(s.checkHasClass(t.parentNode,r.classes.ACTIVE)?s.checkHasClass(o,r.classes.UNSELECTED)&&s.checkRemoveClass(o,r.classes.UNSELECTED):s.checkAddClass(o,r.classes.UNSELECTED))}}},{key:"_handlerDrawerHide",value:function(){var e=this._elem.querySelector("nav ul li a.".concat(r.classes.ACTIVE));this._drawers.every((function(e){return!s.checkHasClass(e._elem,r.classes.ACTIVE)}))&&!e&&this.menuItemRemoveUnselected(),this.resetActiveDrawerMenuItem()}},{key:"_getMenuItemLink",value:function(e){return e.id?this._elem.querySelector('a[href="#'+e.id+'"]'):null}},{key:"dispose",value:function(){this._config=null,this._elem=null,this._drawersContainer=null,this._clickOnComponent=null,this._autocloseTimeoutId=null,this._accordions.forEach((function(e){return e.dispose()})),this._removeEventHandlers()}},{key:"_configureAutoClose",value:function(){var e=this;this._addEventHandler(this._elem,"click",(function(){e._clickOnComponent=!0})),this._addEventHandler(document,"click",(function(t){if(e._clickOnComponent){if(e._clickOnComponent=!1,e._config.openOnHover)if(e._elem.querySelector("nav").contains(t.target)){for(var n=t.target;"LI"!==n.nodeName;n=n.parentNode)if("A"===n.nodeName){var o=n.getAttribute("href");if(o&&"#"===o[0]){var i=e._elem.querySelector(".".concat("chi-sidenav__drawers"," ").concat(o));i&&(i.classList.contains(r.classes.ANIMATED)||e._resetDrawerAnimation())}}}else e._resetDrawerAnimation()}else e.hideAll()})),this._addEventHandler(this._elem,"mouseleave",(function(t){!1!==e._config.autoClose&&t.target===e._elem&&e._config.autoClose>=0&&(e._autocloseTimeoutId=window.setTimeout((function(){e.hideAll()}),e._config.autoClose))})),this._addEventHandler(this._elem,"mouseenter",(function(t){t.target===e._elem&&window.clearTimeout(e._autocloseTimeoutId)}))}}],[{key:"componentType",get:function(){return"sidenav"}},{key:"componentSelector",get:function(){return".chi-sidenav"}}])}(h),Gn=h.factory.bind($n),Un=9;function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zn(r.key),r)}}function zn(e){var t=function(e,t){if("object"!=Yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yn(t)?t:t+""}function Jn(e,t,n){return t=Zn(t),function(e,t){if(t&&("object"==Yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Zn(e).constructor):t.apply(e,n))}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t){return(Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Qn={position:"top",parent:null},er="chiTooltipShow",tr="chiTooltipHide",nr=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Jn(this,t,[e,s.extend(Qn,n)]))._tooltipElem=null,r._tooltipContent=null,r._popper=null,r._popperData=null,r._preAnimationTransformStyle=null,r._postAnimationTransformStyle=null,r._hovered=!1,r._focused=!1,r._shown=!1,r._animationTimeout,r._config.parent=r._config.parent||r._elem,r._config.position=n&&n.position||r._elem.dataset.position||r._config.position;var o=r;return r._createTooltip(),r._addEventHandler(r._elem,"mouseenter",(function(){o._hovered=!0,r._animationTimeout=window.setTimeout((function(){o._shown||(o.show(),window.tooltipOpen=!0,clearTimeout(window.tooltipOpenTimeout))}),window.tooltipOpen?0:300)})),r._addEventHandler(r._elem,"mouseleave",(function(){window.clearTimeout(r._animationTimeout),r._animationTimeout=null,o._hovered=!1,o._shown&&!o._focused&&(o.hide(),window.tooltipOpenTimeout=setTimeout((function(){window.tooltipOpen&&(window.tooltipOpen=!1)}),50))})),r._addEventHandler(r._elem,"focus",(function(){o._focused=!0,o._addEventHandler(o._elem,"keyup",(function(e){(e.keyCode?e.keyCode:e.which)===Un&&(o._shown||o.show())})),o._shown&&o.hide()})),r._addEventHandler(r._elem,"blur",(function(){o._focused=!1,o._shown&&!o._hovered&&o.hide()})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kn(e,t)}(t,e),n=t,o=[{key:"componentType",get:function(){return"tooltip"}},{key:"componentSelector",get:function(){return"[data-tooltip]"}}],(r=[{key:"show",value:function(){this._shown=!0,s.addClass(this._tooltipElem,"-active");var e=this._tooltipElem.style.transition;this._tooltipElem.style.transition="none",this._tooltipElem.style.transform=this._preAnimationTransformStyle,this._tooltipElem.style.opacity="0";var t=this;window.requestAnimationFrame((function(){t._tooltipElem.style.transition=e,t._tooltipElem.style.transform=t._postAnimationTransformStyle,t._tooltipElem.style.opacity="1",t._tooltipElem.setAttribute("aria-hidden","false"),t._preventOverflow()})),this._elem.dispatchEvent(s.createEvent(er))}},{key:"hide",value:function(){this._shown=!1,s.removeClass(this._tooltipElem,"-active");var e=this;window.setTimeout((function(){e._tooltipElem.style.transform=e._preAnimationTransformStyle,e._tooltipElem.style.opacity="0",e._tooltipElem.setAttribute("aria-hidden","true")}),0),this._elem.dispatchEvent(s.createEvent(tr))}},{key:"_createTooltip",value:function(){this._tooltipElem=document.createElement("div"),this._tooltipElem.setAttribute("class","chi-tooltip"),"light"===this._elem.getAttribute("data-tooltip-color")&&this._tooltipElem.classList.add("-light"),this._tooltipElem.id="chi-".concat("tooltip","-").concat(this.componentCounterNo),this._tooltipContent=document.createElement("span"),this._tooltipContent.innerText=this._elem.dataset.tooltip,this._tooltipElem.appendChild(this._tooltipContent),document.querySelector("body").appendChild(this._tooltipElem),this._elem.setAttribute("aria-describedby",this._tooltipElem.id),this._tooltipElem.setAttribute("aria-hidden","true");var e=this;this._savePopperData=function(t){return e._popperData=t,e._preAnimationTransformStyle=null,e._postAnimationTransformStyle=t.styles.transform,0===t.placement.indexOf("top")||0===t.placement.indexOf("right")||0===t.placement.indexOf("bottom")||0===t.placement.indexOf("left")?e._preAnimationTransformStyle="translate3d(".concat(t.popper.left,"px, ").concat(t.popper.top,"px, 0px)"):e._preAnimationTransformStyle=t.styles.transform,t},this._popper=new T.a(this._config.parent,this._tooltipElem,{modifiers:{applyStyle:{enabled:!0},offset:{offset:"0px,8px"},applyChiStyle:{enabled:!0,fn:this._savePopperData,order:875}},removeOnDestroy:!0,placement:this._config.position})}},{key:"_preventOverflow",value:function(){if(s.checkOverflow(this._tooltipElem)){var e=this._elem.dataset.tooltip;s.binarySearchClosest(e.length,function(t){return this._tooltipContent.innerText=e.substr(0,t)+"...",s.checkOverflow(this._tooltipElem)?1:-1}.bind(this))}}},{key:"dispose",value:function(){this._tooltipElem=null,this._tooltipContent=null,this._popper.destroy(),this._config=null,this._popperData=null,this._preAnimationTransformStyle=null,this._postAnimationTransformStyle=null,this._removeEventHandlers(),this._elem=null}}])&&Xn(n.prototype,r),o&&Xn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(h),rr=h.factory.bind(nr)}]);document.addEventListener('mousedown', function (e) { if (!document.body.classList.contains('-mouse-control')) { document.body.classList.add('-mouse-control'); } }); document.addEventListener('keyup', function (e) { if (e.keyCode === 9 && document.body.classList.contains('-mouse-control')) { document.body.classList.remove('-mouse-control'); } });