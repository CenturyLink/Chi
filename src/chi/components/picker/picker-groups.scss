@import '_horizontal-picker-groups';

.chi-picker-group {
  input {
    &.chi-picker__input {
      &:first-of-type {
        &:focus {
          &:not(:checked) {
            & ~ label {
              &:first-of-type {
                background-color: $picker-focus-background-color;
              }
            }
          }
        }
      }

      &:last-of-type {
        &:focus {
          &:not(:checked) {
            & ~ label {
              &:last-of-type {
                background-color: $picker-focus-background-color;
              }
            }
          }
        }
      }
    }
  }

  &.-fluid {
    display: flex;
    flex-direction: column;

    @include respond-to(md) {
      flex-direction: row;
    }

    .chi-picker-group__content {
      flex-direction: column;

      chi-tooltip {
        flex: 1 0 auto;

        &.-no-fluid {
          flex: 0 1 auto;
        }

        &:has(> div > input[type='radio'].chi-picker__input:checked + label) {
          + input[type='radio'].chi-picker__input + label,
          + chi-tooltip > div > label {
            border-left-width: 0.0625rem;

            @include respond-to(md) {
              border-left-width: 0;
            }
          }
        }
      }

      & > input[type='radio'].chi-picker__input:first-child + label,
      & > chi-tooltip:first-child > div > label {
        border-bottom-left-radius: 0;
        border-top-left-radius: $border-radius;
        border-top-right-radius: $border-radius;

        @include respond-to(md) {
          border-bottom-left-radius: $border-radius;
          border-top-right-radius: 0;
        }
      }

      & > input[type='radio'].chi-picker__input + label:last-child,
      & > chi-tooltip:last-child > div > input[type='radio'].chi-picker__input + label {
        border-bottom-left-radius: $border-radius;
        border-bottom-right-radius: $border-radius;
        border-bottom-width: 0.0625rem;
        border-top-right-radius: 0;

        @include respond-to(md) {
          border-bottom-left-radius: 0;
          border-right-width: 0.0625rem;
          border-top-right-radius: $border-radius;
        }
      }

      @include respond-to(md) {
        flex-direction: row;
      }
    }

    input {
      &[type='radio'],
      &[type='checkbox'] {
        &.chi-picker__input {
          & + label {
            border-bottom-width: 0;
            border-right-width: 0.0625rem;
            display: flex;
            flex: 1 0 auto;
            justify-content: center;
            width: 100%;

            @include respond-to(md) {
              border-bottom-width: 0.0625rem;
              border-right-width: 0;
              flex: 1 0 0;
            }

            &.-no-fluid {
              flex: 0 1 auto;

              @include respond-to(md) {
                width: auto;
              }
            }

            &.-align--left {
              justify-content: flex-start;
            }

            &.-align--center {
              justify-content: center;
            }

            &.-align--right {
              justify-content: flex-end;
            }
          }
        }

        &:checked {
          &.chi-picker__input {
            & + label {
              background-color: $picker-checked-background-color;
              border: solid 0.0625rem $picker-checked-border-color;
              color: $picker-checked-text-color;
              padding-right: $picker-group-md-padding-checked;

              @include respond-to(md) {
                padding-right: $picker-group-md-padding-hover;
              }

              @each $type in map-keys($sizes) {
                &.-#{$type} {
                  padding-right: map-get(map-get($sizes, $type), padding_checked);
                }
              }

              &:last-of-type {
                padding-right: $picker-group-md-padding-checked;

                @each $type in map-keys($sizes) {
                  &.-#{$type} {
                    padding-right: map-get(map-get($sizes, $type), padding_checked);
                  }
                }
              }

              & + input + label,
              & + chi-tooltip > div > label {
                border-left-width: 0.0625rem;
                border-top-width: 0;
                padding-left: $picker-group-md-padding-hover;

                @each $type in map-keys($sizes) {
                  &.-#{$type} {
                    padding-left: map-get(map-get($sizes, $type), padding_hover);
                  }
                }

                @include respond-to(md) {
                  border-left-width: 0;
                  border-top-width: 0.0625rem;
                  padding-left: $picker-group-md-padding-checked;
                }
              }
            }
          }
        }
      }
    }
  }
}
