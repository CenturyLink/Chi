@import '_global-mixins';
@import '_global-variables';
@import 'icon-mapping'; // Import icon mapping for backward compatibility

$icon-sizes: (
  xs: $icon-size-xs,
  sm: $icon-size-sm,
  sm--2: $icon-size-sm2,
  sm--3: $icon-size-sm3,
  md: $icon-size-md,
  lg: $icon-size-lg,
  xl: $icon-size-xl,
  xxl: $icon-size-xxl);

// Import Material Symbols Outlined font from Google Fonts CDN
// https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0..1,0&display=block
@font-face {
  font-family: 'Material Symbols Outlined';
  font-style: normal;
  font-weight: 400;
  font-display: block;
  src: url(https://lib.lumen.com/fonts/google-material-icons/Material-Symbols-Outlined.woff2) format('woff2');
}

// Main chi-icon component - supports both new and legacy usage
.chi-icon {
  font-family: 'Material Symbols Outlined';
  font-weight: 400;
  font-style: normal;
  font-size: $icon-size-base;
  display: inline-block;
  line-height: 1;
  text-transform: none;
  letter-spacing: normal;
  word-wrap: normal;
  white-space: nowrap;
  direction: ltr;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: 'liga';
  color: $icon-color;
  position: relative;

  // Preserve all size modifiers
  @each $type in map-keys($icon-sizes) {
    &.-#{$type} {
      font-size: map-get($icon-sizes, $type) !important;
      height: map-get($icon-sizes, $type) !important;
      width: map-get($icon-sizes, $type) !important;
      line-height: map-get($icon-sizes, $type) !important;
    }
  }

  // Hide SVG elements (Material Symbols replaces SVG sprite)
  // This allows legacy SVG usage to gracefully degrade
  & > svg {
    display: none;
  }

  &.-fill {
    font-variation-settings: 'FILL' 1;
  }
}
